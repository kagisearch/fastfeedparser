<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>Ben Dauphinee</title>
	<atom:link href="https://bendauphinee.com/writing/feed/" rel="self" type="application/rss+xml" />
	<link>https://bendauphinee.com/writing</link>
	<description>Canadian, programmer, artist, engineering manager. Occasionally I write about interesting things I do.</description>
	<lastBuildDate>Thu, 30 Jan 2025 19:01:43 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=6.9.1</generator>
	<item>
		<title>An App From Scratch: Part 11 – Template Data Modelling and Test Optimizations</title>
		<link>https://bendauphinee.com/writing/2025/01/30/an-app-from-scratch-part-11-template-data-modelling-and-test-optimizations/</link>
					<comments>https://bendauphinee.com/writing/2025/01/30/an-app-from-scratch-part-11-template-data-modelling-and-test-optimizations/#comments</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Thu, 30 Jan 2025 19:00:11 +0000</pubDate>
				<category><![CDATA[Software Engineering]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=942</guid>

					<description><![CDATA[9 minute reading time; ~1670 words Hello and welcome to this post! Today we&#8217;re going to touch on some database design concepts as we explore how to store and manage the records created with a template. We&#8217;ll also look at some testing optimizations to improve performance, and thus, development speed. Let&#8217;s get into it! If [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">9 minute reading time; ~1670 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Hello and welcome to this post!</p>



<p>Today we&#8217;re going to touch on some database design concepts as we explore how to store and manage the records created with a template. We&#8217;ll also look at some testing optimizations to improve performance, and thus, development speed.</p>



<p>Let&#8217;s get into it!</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">What To Do</h2>



<p>This post, we&#8217;re going to dig into a piece of <a href="https://bendauphinee.com/writing/building-tailgunner/project-plan/#us2" data-type="page" data-id="316" target="_blank" rel="noreferrer noopener">US2</a>, which focuses on entering data. I want to lay a solid foundation for working with data, so we&#8217;re going to:</p>



<ul class="wp-block-list">
<li>Create and implement the database design to hold records.</li>



<li>Create a way to view the records for a specific template.</li>
</ul>



<h2 class="wp-block-heading">Database Design</h2>



<p>This tool allows the user to define custom forms, and collect data in any format they&#8217;d like. This of course introduces an interesting question of how to store the data that&#8217;s input. There are a few factors to consider:</p>



<ul class="wp-block-list">
<li>Data size</li>



<li>Data access patterns</li>



<li>Partitioning and security</li>



<li>Scalability</li>
</ul>



<p>In thinking about these things, we come up with these observations:</p>



<ul class="wp-block-list">
<li>The records are likely to be small, unless they use text fields.</li>



<li>The structure of the records will vary.</li>



<li>The initial intent of the system is to manage data, and provide useful exports.
<ul class="wp-block-list">
<li>This tool isn&#8217;t a spreadsheet, intended to manipulate data with formulas.</li>
</ul>
</li>



<li>A user could have anywhere from dozens to thousands of records.</li>
</ul>



<p>With those things in mind, the initial models that came to mind were:</p>



<ul class="wp-block-list">
<li><strong>Document Store</strong><br>This stores each record as a simple JSON blob.</li>



<li><strong>Schema-per-Entity (SPE)</strong><br>With this, we would create a table builder, and generate a database table customized to that user&#8217;s template when they save.</li>



<li><strong>Entity-Attribute-Value (EAV)</strong><br>In this model, you can store any structure of records you want, and each value becomes one row in the table.</li>
</ul>



<p>Each model has advantages and trade-offs, so let&#8217;s walk through them in a little more detail.</p>



<h3 class="wp-block-heading">Document Store</h3>



<p>I initially considered this because it&#8217;s easy to use, and there is database support for indexing and querying JSON. However, I didn&#8217;t like the storage inefficiency, where every single record you save is also saving the structure along with it.</p>



<div class="wp-block-group has-base-background-color has-background has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="border-radius:20px;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p>Record Table</p>



<figure class="wp-block-table"><table class="has-fixed-layout"><tbody><tr><td>User ID</td><td>Template ID</td><td>JSON Data</td></tr><tr><td>1</td><td>1</td><td><code>{"title": "Food Inc.", "tags": ["documentary", "news"], "release_year": 2008, "length_minutes": 93, "description": "An unflattering look inside America's corporate controlled food industry."}</code></td></tr></tbody></table></figure>
</div>



<h3 class="wp-block-heading">Schema-per-Entity (SPE)</h3>



<p>I considered this structure because it meets multiple criteria. It&#8217;s easy to secure, because data never gets mixed in the same tables. It&#8217;s easy to scale and manage because it offloads a lot of responsibilities to the database, allowing us to take full advantage of indexing and querying capabilities.</p>



<p>The reason I didn&#8217;t choose this comes down to complexity. To work with it, I would have to build a set of tools to actually create, manage, and delete the database tables. This is actually my favored approach, but I won&#8217;t be shifting to it until later in the project when I have a stronger need for the benefits.</p>



<div class="wp-block-group has-base-background-color has-background has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="border-radius:20px;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p>Record_1_4_data</p>



<figure class="wp-block-table"><table><thead><tr><th>User ID</th><th>Template ID</th><th>Title</th><th>Tags</th><th>Release_Year</th><th>Length_Minutes</th><th>Description</th></tr></thead><tbody><tr><td>1</td><td>4</td><td><code>Food Inc.</code></td><td><code>["documentary", "news"]</code></td><td><code>2008</code></td><td><code>93</code></td><td><code><code>An unflattering look inside America's corporate controlled food industry.</code></code></td></tr></tbody></table></figure>
</div>



<h3 class="wp-block-heading">Entity-Attribute-Value (EAV)</h3>



<p>To me, this is the balance point between the previous two approaches. It&#8217;s flexible like the document store, and takes better advantage of the database structures. Although this approach is falling out of favor as many developers shift to JSON stores, it made sense for this project at its current scale.</p>



<p>The main drawback is that complex queries and indexing are more challenging. However, at this scale, I consider it a reasonable trade-off for the ease of implementation.</p>



<div class="wp-block-group has-base-background-color has-background has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="border-radius:20px;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p>Record Table</p>



<figure class="wp-block-table"><table><thead><tr><th>Record ID</th><th>User ID</th><th>Template ID</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>4</td></tr></tbody></table></figure>



<p>Record Data Table</p>



<figure class="wp-block-table"><table><thead><tr><th>Record ID</th><th>Template Field ID</th><th>String_Value</th><th>Text_Value</th><th>Integer_Value</th></tr></thead><tbody><tr><td>1</td><td>1</td><td><code>Food Inc.</code></td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td></tr><tr><td>1</td><td>2</td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td><td><code>["documentary", "news"]</code></td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td></tr><tr><td>1</td><td>3</td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td><td><code>2008</code></td></tr><tr><td>1</td><td>4</td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td><td><code>93</code></td></tr><tr><td>1</td><td>5</td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td><td><code>An unflattering look inside America's corporate controlled food industry.</code></td><td><mark style="background-color:rgba(0, 0, 0, 0)" class="has-inline-color has-accent-color">NULL</mark></td></tr></tbody></table></figure>
</div>



<h3 class="wp-block-heading">Supporting The Data Model</h3>



<p>To support this data model, we need to modify our Template Record Value model. In addition to the standard model, we&#8217;ll also need a way to map our template data types to columns and back. To support this, I&#8217;ve added a list of types, and a few functions to let us access and handle these fields easily.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">app/Models/TemplateRecordValue.php</span><span role="button" tabindex="0" data-code="private const TYPE_TO_COLUMN_MAP = [
    'integer' =&gt; 'integer_value',
    'string' =&gt; 'string_value',
    'text' =&gt; 'text_value',
    'dropdown' =&gt; 'string_value',
    'checkbox' =&gt; 'string_value'
];

/**
 * Get database column name for storing template field type.
 */
public static function getColumnForType(string $fieldType): string
{
    return self::TYPE_TO_COLUMN_MAP[$fieldType] ?? 'string_value';
}

/**
 * Get value based on field type
 */
public function getTypedValue(string $fieldType): mixed
{
    $column = self::getColumnForType($fieldType);
    return $this-&gt;$column;
}

/**
 * Set value based on field type
 */
public function setTypedValue(string $fieldType, mixed $value): void
{
    $column = self::getColumnForType($fieldType);
    $this-&gt;$column = $value;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> TYPE_TO_COLUMN_MAP = [</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;integer&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;integer_value&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;string&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;string_value&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;text&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;text_value&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;dropdown&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;string_value&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;checkbox&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;string_value&#39;</span></span>
<span class="line"><span style="color: #D4D4D4">];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/**</span></span>
<span class="line"><span style="color: #6A9955"> * Get database column name for storing template field type.</span></span>
<span class="line"><span style="color: #6A9955"> */</span></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">static</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">getColumnForType</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">string</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$fieldType</span><span style="color: #D4D4D4">): </span><span style="color: #569CD6">string</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">self</span><span style="color: #D4D4D4">::TYPE_TO_COLUMN_MAP[</span><span style="color: #9CDCFE">$fieldType</span><span style="color: #D4D4D4">] ?? </span><span style="color: #CE9178">&#39;string_value&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/**</span></span>
<span class="line"><span style="color: #6A9955"> * Get value based on field type</span></span>
<span class="line"><span style="color: #6A9955"> */</span></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">getTypedValue</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">string</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$fieldType</span><span style="color: #D4D4D4">): </span><span style="color: #569CD6">mixed</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">$column</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">self</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">getColumnForType</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">$fieldType</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">$column</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/**</span></span>
<span class="line"><span style="color: #6A9955"> * Set value based on field type</span></span>
<span class="line"><span style="color: #6A9955"> */</span></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">setTypedValue</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">string</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$fieldType</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">mixed</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$value</span><span style="color: #D4D4D4">): </span><span style="color: #569CD6">void</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">$column</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">self</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">getColumnForType</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">$fieldType</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">$column</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">$value</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<h3 class="wp-block-heading">The Record Transformation</h3>



<p>Along with the changes to the database model, we need another tool: a way to convert the individual record values into a cohesive record.</p>



<p>This class takes a list of values, and returns a list of records in a user-friendly format, making them easier to work with.</p>



<p>Some interesting pieces about this are:</p>



<ul class="wp-block-list">
<li>The class is marked <code><a href="https://www.php.net/manual/en/language.oop5.final.php" target="_blank" rel="noreferrer noopener">final</a></code>, preventing its constants, methods, or properties from being overridden by subclasses. Since all the methods are static, allowing overrides is unnecessary, making this a good safety mechanism.</li>



<li>The class has a <a href="https://liamhammett.com/private-constructors" target="_blank" rel="noreferrer noopener nofollow">private constructor</a>. Since everything it does is stateless (no function needs to maintain data outside itself), this prevents anyone from trying to create a stateful instance of it.</li>
</ul>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="final class TemplateRecordTransformer
{
    /**
     * Prevent instantiation
     */
    private function __construct() {}
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">final</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">TemplateRecordTransformer</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">/**</span></span>
<span class="line"><span style="color: #6A9955">     * Prevent instantiation</span></span>
<span class="line"><span style="color: #6A9955">     */</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">__construct</span><span style="color: #D4D4D4">() {}</span></span>
<span class="line"></span></code></pre></div>



<h2 class="wp-block-heading">Create Query Scope</h2>



<p>One of the things we need to do in multiple places is to access the template with fields and metadata. To simplify this, I&#8217;ve added a Laravel <a href="https://laravel.com/docs/11.x/eloquent#local-scopes" target="_blank" rel="noreferrer noopener nofollow">local scope</a>, which is a function to add a prepackaged set of constraints to a query .</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">app/Models/Template.php</span><span role="button" tabindex="0" data-code="/**
 * Get template with field information.
 *
 * @param \Illuminate\Database\Eloquent\Builder $query
 * @param bool $withExtendedFields Include all commonly fields.
 * @param bool $withAllFields Include all fields.
 */
public function scopeWithMetaAndFields($query, $withExtendedFields = false, $withAllFields = false)
{
    // The base fields
    $fieldsInfo = [
        'id',
        'template_id',
        'label',
        'name',
        'type',
        'order',
    ];

    // Get the commonly used extended options
    if ($withExtendedFields || $withAllFields) {
        $fieldsInfo = array_merge(
            $fieldsInfo,
            ['extended_options']
        );
    }

    // Get everything
    if ($withAllFields) {
        $fieldsInfo = array_merge(
            $fieldsInfo,
            ['created_at', 'updated_at']
        );
    }

    return $query
        -&gt;select(['id', 'title', 'description'])
        -&gt;with([
            'fields' =&gt; function($query) use ($fieldsInfo) {
                $query-&gt;select($fieldsInfo)
                -&gt;orderBy('order');
            }
        ]);
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">/**</span></span>
<span class="line"><span style="color: #6A9955"> * Get template with field information.</span></span>
<span class="line"><span style="color: #6A9955"> *</span></span>
<span class="line"><span style="color: #6A9955"> * </span><span style="color: #569CD6">@param</span><span style="color: #6A9955"> \Illuminate\Database\Eloquent\</span><span style="color: #4EC9B0">Builder</span><span style="color: #6A9955"> $query</span></span>
<span class="line"><span style="color: #6A9955"> * </span><span style="color: #569CD6">@param</span><span style="color: #6A9955"> </span><span style="color: #569CD6">bool</span><span style="color: #6A9955"> $withExtendedFields Include all commonly fields.</span></span>
<span class="line"><span style="color: #6A9955"> * </span><span style="color: #569CD6">@param</span><span style="color: #6A9955"> </span><span style="color: #569CD6">bool</span><span style="color: #6A9955"> $withAllFields Include all fields.</span></span>
<span class="line"><span style="color: #6A9955"> */</span></span>
<span class="line"><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">scopeWithMetaAndFields</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">$query</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$withExtendedFields</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$withAllFields</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// The base fields</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">$fieldsInfo</span><span style="color: #D4D4D4"> = [</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;template_id&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;label&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;name&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;type&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;order&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    ];</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// Get the commonly used extended options</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">$withExtendedFields</span><span style="color: #D4D4D4"> || </span><span style="color: #9CDCFE">$withAllFields</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">$fieldsInfo</span><span style="color: #D4D4D4"> = </span><span style="color: #DCDCAA">array_merge</span><span style="color: #D4D4D4">(</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">$fieldsInfo</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            [</span><span style="color: #CE9178">&#39;extended_options&#39;</span><span style="color: #D4D4D4">]</span></span>
<span class="line"><span style="color: #D4D4D4">        );</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// Get everything</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">$withAllFields</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">$fieldsInfo</span><span style="color: #D4D4D4"> = </span><span style="color: #DCDCAA">array_merge</span><span style="color: #D4D4D4">(</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">$fieldsInfo</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            [</span><span style="color: #CE9178">&#39;created_at&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;updated_at&#39;</span><span style="color: #D4D4D4">]</span></span>
<span class="line"><span style="color: #D4D4D4">        );</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$query</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        -&gt;</span><span style="color: #DCDCAA">select</span><span style="color: #D4D4D4">([</span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;title&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;description&#39;</span><span style="color: #D4D4D4">])</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        -&gt;</span><span style="color: #DCDCAA">with</span><span style="color: #D4D4D4">([</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;fields&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">$query</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">$fieldsInfo</span><span style="color: #D4D4D4">) {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">$query</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">select</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">$fieldsInfo</span><span style="color: #D4D4D4">)</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                -&gt;</span><span style="color: #DCDCAA">orderBy</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;order&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            }</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        ]);</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>With this scope, we can replace the conditions from lines 37 to 43 with a single query (line 1 below), making our code more consistent and readable.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="$template = Template::withMetaAndFields()
    -&gt;where('user_id', auth()-&gt;id())
    -&gt;findOrFail($request-&gt;template);" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line cbp-line-highlight"><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4"> = </span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">withMetaAndFields</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #D4D4D4">    -&gt;</span><span style="color: #DCDCAA">where</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;user_id&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #DCDCAA">auth</span><span style="color: #D4D4D4">()-&gt;</span><span style="color: #DCDCAA">id</span><span style="color: #D4D4D4">())</span></span>
<span class="line"><span style="color: #D4D4D4">    -&gt;</span><span style="color: #DCDCAA">findOrFail</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">$request</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4">);</span></span></code></pre></div>



<h2 class="wp-block-heading">Testing Optimizations</h2>



<p>During the testing phase, I made several optimizations to improve efficiency and speed.</p>



<h3 class="wp-block-heading">Multi-Key Array Assert</h3>



<p>I was surprised to find that while PHPUnit has an assert to check that an array contains a key, it lacks a version that you can use with multiple keys, leading to code like this:</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="$loadedFieldArray = $loadedTemplate-&gt;fields-&gt;first()-&gt;toArray();
$this-&gt;assertArrayHasKey('id', $loadedFieldArray);
$this-&gt;assertArrayHasKey('template_id', $loadedFieldArray);
$this-&gt;assertArrayHasKey('label', $loadedFieldArray);
$this-&gt;assertArrayHasKey('name', $loadedFieldArray);
$this-&gt;assertArrayHasKey('type', $loadedFieldArray);
$this-&gt;assertArrayHasKey('order', $loadedFieldArray);" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #9CDCFE">$loadedFieldArray</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">$loadedTemplate</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">fields</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">first</span><span style="color: #D4D4D4">()-&gt;</span><span style="color: #DCDCAA">toArray</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">assertArrayHasKey</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$loadedFieldArray</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">assertArrayHasKey</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;template_id&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$loadedFieldArray</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">assertArrayHasKey</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;label&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$loadedFieldArray</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">assertArrayHasKey</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;name&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$loadedFieldArray</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">assertArrayHasKey</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;type&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$loadedFieldArray</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">assertArrayHasKey</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;order&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$loadedFieldArray</span><span style="color: #D4D4D4">);</span></span></code></pre></div>



<p>Obviously, this is non-optimal, since it repeats itself a lot, so we&#8217;re going to add a multi-key assert function to our code. This goes in the base TestCase code, so that we can use it in any of our tests.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">src/tests/TestCase.php</span><span role="button" tabindex="0" data-code="&lt;?php

namespace Tests;

use Illuminate\Foundation\Testing\TestCase as BaseTestCase;

abstract class TestCase extends BaseTestCase
{
    /**
     * Assert that an array has the specified keys.
     */
    protected function assertArrayHasKeys(array $keys, array $array): void
    {
        foreach ($keys as $key) {
            $this-&gt;assertArrayHasKey($key, $array);
        }
    }
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">&lt;?php</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">namespace</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Tests</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> Illuminate\Foundation\Testing\</span><span style="color: #4EC9B0">TestCase</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">as</span><span style="color: #D4D4D4"> BaseTestCase;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">abstract</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">TestCase</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">BaseTestCase</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">/**</span></span>
<span class="line"><span style="color: #6A9955">     * Assert that an array has the specified keys.</span></span>
<span class="line"><span style="color: #6A9955">     */</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">protected</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">assertArrayHasKeys</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">array</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$keys</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">array</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$array</span><span style="color: #D4D4D4">): </span><span style="color: #569CD6">void</span></span>
<span class="line"><span style="color: #D4D4D4">    {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">foreach</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">$keys</span><span style="color: #D4D4D4"> as </span><span style="color: #9CDCFE">$key</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">assertArrayHasKey</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">$key</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$array</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>With this, we can now simplify the asserts from above into this code, making it easier to read and reason about!</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="$loadedFieldArray = $loadedTemplate-&gt;fields-&gt;first()-&gt;toArray();
$this-&gt;assertArrayHasKeys([
    'id',
    'template_id',
    'label',
    'name',
    'type',
    'order',
], $loadedFieldArray);" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #9CDCFE">$loadedFieldArray</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">$loadedTemplate</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">fields</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">first</span><span style="color: #D4D4D4">()-&gt;</span><span style="color: #DCDCAA">toArray</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">assertArrayHasKeys</span><span style="color: #D4D4D4">([</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;template_id&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;label&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;name&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;type&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;order&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">], </span><span style="color: #9CDCFE">$loadedFieldArray</span><span style="color: #D4D4D4">);</span></span></code></pre></div>



<h3 class="wp-block-heading">Initialize Once, Use Many</h3>



<p>In some of our tests, we initialized some required components (like a template) for every test. Since RefreshDatabase rolls back database changes after each test (with transactions), we can optimize the tests by creating the shared components only once. Since the template isn&#8217;t the object under test, there&#8217;s no point in re-creating it every time.</p>



<p>In this test below, you can see how that&#8217;s implemented. First we set up a variable to hold a template (line 14 &#8211; 15), and then initialize it as part of our setup (only once, line 21 &#8211; 24). This lets us take out the repeated creation on each test (line 29), and reuse one template when we need it (line 32, 40).</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="&lt;?php

namespace Tests\Unit\Models;

use App\Models\Template;
use App\Models\TemplateField;
use Illuminate\Foundation\Testing\RefreshDatabase;
use Tests\TestCase;

class TemplateFieldTest extends TestCase
{
    use RefreshDatabase;

    private Template $template;
    private bool $templateCreated = false;

    protected function setUp(): void
    {
        parent::setUp();

        if (!$this-&gt;templateCreated) {
            $this-&gt;template = Template::factory()-&gt;create();
            $this-&gt;templateCreated = true;
        }
    }

    public function test_can_create_template_field()
    {
        //$template = Template::factory()-&gt;create();

        $field = TemplateField::factory()-&gt;create([
            //'template_id' =&gt; $template-&gt;id,
            'template_id' =&gt; $this-&gt;template-&gt;id,
            'name' =&gt; 'Test Field',
            'type' =&gt; 'text'
        ]);

        $this-&gt;assertDatabaseHas('template_fields', [
            'id' =&gt; $field-&gt;id,
            //'template_id' =&gt; $template-&gt;id,
            'template_id' =&gt; $this-&gt;template-&gt;id,
            'name' =&gt; 'Test Field',
            'type' =&gt; 'text'
        ]);
    }
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">&lt;?php</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">namespace</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Tests\Unit\Models</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> App\Models\</span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> App\Models\</span><span style="color: #4EC9B0">TemplateField</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> Illuminate\Foundation\Testing\</span><span style="color: #4EC9B0">RefreshDatabase</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> Tests\</span><span style="color: #4EC9B0">TestCase</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">TemplateFieldTest</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">TestCase</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">RefreshDatabase</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">private</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">bool</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$templateCreated</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">protected</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">setUp</span><span style="color: #D4D4D4">(): </span><span style="color: #569CD6">void</span></span>
<span class="line"><span style="color: #D4D4D4">    {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">parent</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">setUp</span><span style="color: #D4D4D4">();</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (!</span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">templateCreated</span><span style="color: #D4D4D4">) {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4"> = </span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">factory</span><span style="color: #D4D4D4">()-&gt;</span><span style="color: #DCDCAA">create</span><span style="color: #D4D4D4">();</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">templateCreated</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4">;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">test_can_create_template_field</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #D4D4D4">    {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">//$template = Template::factory()-&gt;create();</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">$field</span><span style="color: #D4D4D4"> = </span><span style="color: #4EC9B0">TemplateField</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">factory</span><span style="color: #D4D4D4">()-&gt;</span><span style="color: #DCDCAA">create</span><span style="color: #D4D4D4">([</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #6A9955">//&#39;template_id&#39; =&gt; $template-&gt;id,</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;template_id&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;name&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;Test Field&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;type&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;text&#39;</span></span>
<span class="line"><span style="color: #D4D4D4">        ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">assertDatabaseHas</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;template_fields&#39;</span><span style="color: #D4D4D4">, [</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$field</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4">,</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #6A9955">//&#39;template_id&#39; =&gt; $template-&gt;id,</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;template_id&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;name&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;Test Field&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;type&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;text&#39;</span></span>
<span class="line"><span style="color: #D4D4D4">        ]);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<h2 class="wp-block-heading">The Pull Requests</h2>



<ul class="wp-block-list">
<li><a href="https://github.com/bendauphinee/tailgunner/commit/e332db8b8549922d9a28aaf153296cb7ee5e6e79">Create template record data models</a></li>



<li><a href="https://github.com/bendauphinee/tailgunner/commit/59dbd8b5f5a3f11c48ec86864a776d7ca54fa014">Added new scope to Template model with tests</a></li>



<li><a href="https://github.com/bendauphinee/tailgunner/commit/172a19e7cfcad6b789620f6b3ceb616ee6291bfe">Create record view tool</a></li>



<li><a href="https://github.com/bendauphinee/tailgunner/commit/b2e6ef67a9c2900bc9c38a9a93181c08ef4a89b7">Added support functionality for testing</a></li>



<li><a href="https://github.com/bendauphinee/tailgunner/commit/9c2204384bf85aa71f1caae98d114f6d1bb758d1">Added and optimized testing</a></li>
</ul>



<h2 class="wp-block-heading">Wrapping Up</h2>



<p>This time around, we got into the technical design decisions around how to structure what appears on the surface to be simple data. Every day, engineers have to weigh the pros and cons of many decisions like this, hoping their choices won&#8217;t lead to issues down the line.</p>



<p>While there&#8217;s rarely a perfect answer, the goal is to choose as wisely as we can with the context and constraints we know, so we don&#8217;t paint ourselves into a corner down the road.</p>



<p>As always, I hope you learned something interesting through this post, and stay tuned for the next!</p>



<p>Leave me a comment if you found this helpful, or you found something I could do better!</p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2025/01/30/an-app-from-scratch-part-11-template-data-modelling-and-test-optimizations/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>An App From Scratch: Part 10 – Reflections And Template Editing</title>
		<link>https://bendauphinee.com/writing/2025/01/22/an-app-from-scratch-part-10-reflections-and-template-editing/</link>
					<comments>https://bendauphinee.com/writing/2025/01/22/an-app-from-scratch-part-10-reflections-and-template-editing/#respond</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Wed, 22 Jan 2025 22:53:31 +0000</pubDate>
				<category><![CDATA[Software Engineering]]></category>
		<category><![CDATA[debounce]]></category>
		<category><![CDATA[design]]></category>
		<category><![CDATA[github]]></category>
		<category><![CDATA[laravel]]></category>
		<category><![CDATA[optimization]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[software]]></category>
		<category><![CDATA[tailgunner]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=903</guid>

					<description><![CDATA[11 minute reading time; ~2120 words Welcome and hello! In this post, we&#8217;re going to touch on the overall lessons from the series so far, and then dive into delivering the ability to actually edit a template. If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at An App From Scratch: Part 1 [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">11 minute reading time; ~2120 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Welcome and hello!</p>



<p>In this post, we&#8217;re going to touch on the overall lessons from the series so far, and then dive into delivering the ability to actually edit a template.</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">Some Housekeeping</h2>



<p>In between the last post and this one, I made a few small changes to address some housekeeping notes from the work I&#8217;ve done.</p>



<ul class="wp-block-list">
<li><a href="https://github.com/bendauphinee/tailgunner/pull/11">Add GA to tailgunner</a></li>



<li><a href="https://github.com/bendauphinee/tailgunner/pull/12">Commit new .gitignore</a></li>
</ul>



<h2 class="wp-block-heading">Reflections / Lessons</h2>



<p>So far in this series we&#8217;ve explored what it takes to get from an overall idea down to an actual functional user feature. Along the way, we talked about how to explore the idea, and break it down into smaller and smaller pieces, until we reached a point where an engineer can actually execute and deliver the functional product, incrementally building in a way that always left us with something we could use.</p>



<p>One of the biggest reflections I have is how much work is involved in both making a change and also breaking down the change and documenting every piece of it. It&#8217;s something I&#8217;d forgotten, because I&#8217;ve spent so much time over the last two years reasoning about the documentation part, freeing up the developers on my team to focus on building it.</p>



<p>Hopefully through this series so far, you&#8217;ve gained a new appreciation for the parts of the process that you didn&#8217;t know well, be it on the product design and planning side, or the building side of the fence. For every hour of code I&#8217;ve written, I&#8217;ve spent at least twice that time talking about it.</p>



<h2 class="wp-block-heading">Expanding The Functionality</h2>



<p>Now that we&#8217;ve completed the ability to add templates, we&#8217;re going to zoom out and tackle more of the workflows we previously identified for <a href="https://bendauphinee.com/writing/project-plan-v2/#us1">US1</a>.</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-d5edc563d01ba25838af7ccd636ff270 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p><strong>US1: Workflows</strong></p>



<ul class="wp-block-list">
<li><mark style="background-color:#86dd61" class="has-inline-color"><strong>Creating a template</strong><br>Defining the metadata of a new template, including title.</mark></li>



<li><mark style="background-color:#97d8ff" class="has-inline-color"><strong>Editing the template metadata</strong><br>Changing the metadata for a template.</mark></li>



<li><mark style="background-color:#97d8ff" class="has-inline-color"><strong>Editing the form fields in a template</strong><br>Adding, editing, re-ordering, and deleting the fields in the form.</mark></li>



<li><mark style="background-color:#97d8ff" class="has-inline-color"><strong>Editing the options of a form dropdown</strong><br>Adding, editing, re-ordering, and deleting the options in a dropdown.</mark></li>



<li><mark style="background-color:#97d8ff" class="has-inline-color"><strong>Saving changes to the template</strong><br>Persisting all changes to a template.</mark></li>



<li><strong>Cloning a template</strong><br>Duplicating a template, with a new name.</li>



<li><strong>Deleting a template</strong><br>Permanently removing a form template from the system.</li>
</ul>
</div>



<p>This is a much larger piece of work in a single post, so I&#8217;m going to only dive into specific pieces of the work I&#8217;ve done.</p>



<h2 class="wp-block-heading">Interesting Changes</h2>



<h3 class="wp-block-heading">Font Awesome Icons</h3>



<p>I wanted to add some iconography to the site, so I installed FontAwesome, using <a href="https://docs.fontawesome.com/web/use-with/vue">their guide</a>. </p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Install Commands</span><span role="button" tabindex="0" data-code="npm i --save @fortawesome/fontawesome-svg-core
npm i --save @fortawesome/free-regular-svg-icons
npm i --save @fortawesome/vue-fontawesome@latest-3" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">npm</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">i</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--save</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">@fortawesome/fontawesome-svg-core</span></span>
<span class="line"><span style="color: #DCDCAA">npm</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">i</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--save</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">@fortawesome/free-regular-svg-icons</span></span>
<span class="line"><span style="color: #DCDCAA">npm</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">i</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--save</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">@fortawesome/vue-fontawesome@latest-3</span></span></code></pre></div>



<p>Since I&#8217;m not using a Kit (a pre-built collection of icons), I need to specify each icon that I want. We also need to add the library into our Inertia app as a component (line 20).</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">JavaScript</span><span role="button" tabindex="0" data-code="/* Set up Font Awesome */
import { library } from '@fortawesome/fontawesome-svg-core'
import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'

/* Import some regular style icons */
import { faTrashCan, faClone } from '@fortawesome/free-regular-svg-icons'
library.add(faTrashCan, faClone)

/* Import some solid style icons */
import { faSort, faPlus, faEye, faGripVertical, faTimes, faTriangleExclamation, faCircleCheck, faSpinner } from '@fortawesome/free-solid-svg-icons'
library.add(faSort, faPlus, faEye, faGripVertical, faTimes, faTriangleExclamation, faCircleCheck, faSpinner)

createInertiaApp({
    title: (title) =&gt; `${title} - ${appName}`,
    resolve: (name) =&gt; resolvePageComponent(`./Pages/${name}.vue`, import.meta.glob('./Pages/**/*.vue')),
    setup({ el, App, props, plugin }) {
        return createApp({ render: () =&gt; h(App, props) })
            .use(plugin)
            .use(ZiggyVue)
            .component('font-awesome-icon', FontAwesomeIcon)
            .mount(el);
    },
    progress: {
        color: '#4B5563',
    },
});" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">/* Set up Font Awesome */</span></span>
<span class="line"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> { </span><span style="color: #9CDCFE">library</span><span style="color: #D4D4D4"> } </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;@fortawesome/fontawesome-svg-core&#39;</span></span>
<span class="line"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> { </span><span style="color: #9CDCFE">FontAwesomeIcon</span><span style="color: #D4D4D4"> } </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;@fortawesome/vue-fontawesome&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/* Import some regular style icons */</span></span>
<span class="line"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> { </span><span style="color: #9CDCFE">faTrashCan</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faClone</span><span style="color: #D4D4D4"> } </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;@fortawesome/free-regular-svg-icons&#39;</span></span>
<span class="line"><span style="color: #9CDCFE">library</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">faTrashCan</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faClone</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/* Import some solid style icons */</span></span>
<span class="line"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> { </span><span style="color: #9CDCFE">faSort</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faPlus</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faEye</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faGripVertical</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faTimes</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faTriangleExclamation</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faCircleCheck</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faSpinner</span><span style="color: #D4D4D4"> } </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;@fortawesome/free-solid-svg-icons&#39;</span></span>
<span class="line"><span style="color: #9CDCFE">library</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">add</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">faSort</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faPlus</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faEye</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faGripVertical</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faTimes</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faTriangleExclamation</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faCircleCheck</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">faSpinner</span><span style="color: #D4D4D4">)</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">createInertiaApp</span><span style="color: #D4D4D4">({</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">title</span><span style="color: #9CDCFE">:</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">`</span><span style="color: #569CD6">${</span><span style="color: #9CDCFE">title</span><span style="color: #569CD6">}</span><span style="color: #CE9178"> - </span><span style="color: #569CD6">${</span><span style="color: #9CDCFE">appName</span><span style="color: #569CD6">}</span><span style="color: #CE9178">`</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">resolve</span><span style="color: #9CDCFE">:</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">resolvePageComponent</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">`./Pages/</span><span style="color: #569CD6">${</span><span style="color: #9CDCFE">name</span><span style="color: #569CD6">}</span><span style="color: #CE9178">.vue`</span><span style="color: #D4D4D4">, </span><span style="color: #C586C0">import</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">meta</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">glob</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;./Pages/**/*.vue&#39;</span><span style="color: #D4D4D4">)),</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">setup</span><span style="color: #D4D4D4">({ </span><span style="color: #9CDCFE">el</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">App</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">props</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">plugin</span><span style="color: #D4D4D4"> }) {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">createApp</span><span style="color: #D4D4D4">({ </span><span style="color: #DCDCAA">render</span><span style="color: #9CDCFE">:</span><span style="color: #D4D4D4"> () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">h</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">App</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">props</span><span style="color: #D4D4D4">) })</span></span>
<span class="line"><span style="color: #D4D4D4">            .</span><span style="color: #DCDCAA">use</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">plugin</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">            .</span><span style="color: #DCDCAA">use</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">ZiggyVue</span><span style="color: #D4D4D4">)</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            .</span><span style="color: #DCDCAA">component</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;font-awesome-icon&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">FontAwesomeIcon</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">            .</span><span style="color: #DCDCAA">mount</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">el</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    },</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">progress:</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">color:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;#4B5563&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    },</span></span>
<span class="line"><span style="color: #D4D4D4">});</span></span></code></pre></div>



<h3 class="wp-block-heading">Create Template Edit Page</h3>



<h4 class="wp-block-heading">Drag To Organize</h4>



<p>There are two things we need to sort: the fields in the template, and also the options in our dropdown / checkbox fields. Drag to organize is great, because the feedback is immediate and it&#8217;s easy to work with.</p>



<p>Building it was a bit of a challenge, because we&#8217;re sorting nested elements when we act on dropdown options, but here&#8217;s the final version.</p>



<p>First, we added a handle to grab, so we can attach the code to it.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;div :class=&quot;dragClasses.handle&quot; draggable=&quot;true&quot;
    @dragstart=&quot;fieldsDraggable.handleDragStart(index, $event)&quot;
    @dragover.prevent=&quot;(e) =&gt; props.template.fields = fieldsDraggable.handleDragOver(index, props.template.fields, e)&quot;
    @dragend=&quot;fieldsDraggable.handleDragEnd&quot;&gt;
    &lt;font-awesome-icon :icon=&quot;['fas', 'grip-vertical']&quot; /&gt;
&lt;/div&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> :</span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #D4D4D4">&quot;</span><span style="color: #9CDCFE">dragClasses</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">handle</span><span style="color: #D4D4D4">&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">draggable</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;true&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    @</span><span style="color: #9CDCFE">dragstart</span><span style="color: #D4D4D4">=</span><span style="color: #D4D4D4">&quot;</span><span style="color: #9CDCFE">fieldsDraggable</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">handleDragStart</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">index</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">$event</span><span style="color: #D4D4D4">)</span><span style="color: #D4D4D4">&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    @</span><span style="color: #9CDCFE">dragover</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">prevent</span><span style="color: #D4D4D4">=</span><span style="color: #D4D4D4">&quot;</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">e</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">props</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">fields</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">fieldsDraggable</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">handleDragOver</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">index</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">props</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">fields</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">e</span><span style="color: #D4D4D4">)</span><span style="color: #D4D4D4">&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    @</span><span style="color: #9CDCFE">dragend</span><span style="color: #D4D4D4">=</span><span style="color: #D4D4D4">&quot;</span><span style="color: #9CDCFE">fieldsDraggable</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">handleDragEnd</span><span style="color: #D4D4D4">&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    &lt;font-awesome-icon :icon=&quot;[&#39;fas&#39;, &#39;grip-vertical&#39;]&quot; /&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>We&#8217;ve also got some code to handle the various actions related to dragging:</p>



<ul class="wp-block-list">
<li>Drag start (when we click and grab the handle)</li>



<li>Drag over (when we move the handle over a different row)</li>



<li>Drag end (when we let go of the handle)</li>
</ul>



<p>There&#8217;s also a state function called <code>isDragging</code> that tells us if a specific field is being dragged, so we can add some CSS to partially fade the row, and highlight it, so we can see where we&#8217;re dragging it to.</p>



<figure class="wp-block-image aligncenter size-full"><img fetchpriority="high" decoding="async" width="583" height="244" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-20.png" alt="" class="wp-image-916" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-20.png 583w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-20-300x126.png 300w" sizes="(max-width: 583px) 100vw, 583px" /></figure>



<p>Finally, all this code was extracted to a <a href="https://vuejs.org/guide/reusability/composables" target="_blank" rel="noreferrer noopener nofollow">composable</a>, which is a small piece of code that is intended to be reusable in multiple places, and tracks state (for example, the position of a mouse on a page). This composable also pulls in the CSS for the draggable elements, so it&#8217;s all in one place. This approach sets us up to be able to add draggable elements anywhere we want in Tailgunner!</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">JavaScript</span><span role="button" tabindex="0" data-code="import './useDraggable.css';

export function useDraggable(listId) {

    const handleDragStart = (index, event) =&gt; {};

    const handleDragOver = (index, items, event) =&gt; {};

    const handleDragEnd = () =&gt; {};

    const isDragging = (index) =&gt; {};

    // The css classes for the draggable
    const dragClasses = {};

    return {
        isDragging,
        handleDragStart,
        handleDragOver,
        handleDragEnd,
        dragClasses
    };
}
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;./useDraggable.css&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C586C0">export</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">useDraggable</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">listId</span><span style="color: #D4D4D4">) {</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">handleDragStart</span><span style="color: #D4D4D4"> = (</span><span style="color: #9CDCFE">index</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">event</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">handleDragOver</span><span style="color: #D4D4D4"> = (</span><span style="color: #9CDCFE">index</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">items</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">event</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">handleDragEnd</span><span style="color: #D4D4D4"> = () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">isDragging</span><span style="color: #D4D4D4"> = (</span><span style="color: #9CDCFE">index</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// The css classes for the draggable</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">dragClasses</span><span style="color: #D4D4D4"> = {};</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">isDragging</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">handleDragStart</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">handleDragOver</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">handleDragEnd</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">dragClasses</span></span>
<span class="line"><span style="color: #D4D4D4">    };</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span></code></pre></div>



<h4 class="wp-block-heading">Making Sure We Save</h4>



<p>The save button is built to serve as a good indicator of the template state. We&#8217;ve done this in a few ways:</p>



<ul class="wp-block-list">
<li>The text of the button tells you if there are no changes, if we&#8217;re saving, or to save.</li>



<li>There&#8217;s also an icon to indicate the status.</li>



<li>The button is disabled if there are no changes or we&#8217;re currently saving.</li>
</ul>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;script&gt; &lt;!-- Ignore this, just for the formatter --&gt;

&lt;button
    class=&quot;save_button&quot;
    type=&quot;submit&quot;
    @click=&quot;saveTemplate&quot;
    :disabled=&quot;!isModified || isSaving&quot;
&gt;
    &lt;span v-if=&quot;!isModified&quot;&gt;
        &lt;font-awesome-icon :icon=&quot;['fas', 'circle-check']&quot; class=&quot;text-green-400&quot; /&gt;
        No Changes To Save
    &lt;/span&gt;
    &lt;span v-else-if=&quot;isSaving&quot;&gt;
        &lt;font-awesome-icon :icon=&quot;['fas', 'spinner']&quot; class=&quot;animate-spin&quot; /&gt;
        Saving...
    &lt;/span&gt;
    &lt;span v-else&gt;
        &lt;font-awesome-icon :icon=&quot;['fas', 'triangle-exclamation']&quot; class=&quot;text-yellow-400&quot; /&gt;
        Save Template Changes
    &lt;/span&gt;
&lt;/button&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">script</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> &lt;!-- </span><span style="color: #9CDCFE">Ignore</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">this</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">just</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">for</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">the</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">formatter</span><span style="color: #D4D4D4"> --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;save_button&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">type</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;submit&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #F44747">@click=&quot;saveTemplate&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #F44747">:disabled=&quot;!isModified</span><span style="color: #D4D4D4"> </span><span style="color: #F44747">||</span><span style="color: #D4D4D4"> </span><span style="color: #F44747">isSaving&quot;</span></span>
<span class="line"><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">span</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-if</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;!isModified&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #4EC9B0">font-awesome-icon</span><span style="color: #D4D4D4"> </span><span style="color: #F44747">:icon=&quot;[&#39;fas&#39;,</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;circle-check&#39;</span><span style="color: #F44747">]&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;text-green-400&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">/&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        No Changes To Save</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">span</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">span</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-else-if</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;isSaving&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #4EC9B0">font-awesome-icon</span><span style="color: #D4D4D4"> </span><span style="color: #F44747">:icon=&quot;[&#39;fas&#39;,</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;spinner&#39;</span><span style="color: #F44747">]&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;animate-spin&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">/&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        Saving...</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">span</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">span</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-else</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #4EC9B0">font-awesome-icon</span><span style="color: #D4D4D4"> </span><span style="color: #F44747">:icon=&quot;[&#39;fas&#39;,</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;triangle-exclamation&#39;</span><span style="color: #F44747">]&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;text-yellow-400&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #808080">/&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        Save Template Changes</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">span</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>Along with that, if there have been changes and the user clicks the &#8220;Cancel Changes / Return To List&#8221; button, they&#8217;re prompted to confirm they want to discard the changes.</p>



<h4 class="wp-block-heading">Flash Messages</h4>



<p>One useful UI element is something called a flash message. Intended for a short message that doesn&#8217;t need to be acknowledged, flash messages allow us to unobtrusively pop up a notification that something did or did not go wrong for the user. (If you were paying attention, we did a different style of flash message <a href="https://bendauphinee.com/writing/2025/01/14/an-app-from-scratch-part-8-creating-new-templates-tool-us1-c3/#flashmsg" data-type="post" data-id="747" target="_blank" rel="noreferrer noopener">previously</a>).</p>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" width="705" height="152" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-23.png" alt="" class="wp-image-921" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-23.png 705w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-23-300x65.png 300w" sizes="(max-width: 705px) 100vw, 705px" /></figure>



<figure class="wp-block-image aligncenter size-full"><img decoding="async" width="583" height="152" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-22.png" alt="" class="wp-image-920" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-22.png 583w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-22-300x78.png 300w" sizes="(max-width: 583px) 100vw, 583px" /></figure>



<p>To solve this, I&#8217;ve built another composable, and a small template element for these messages. The template contains the styles as well as the HTML required to show the message. This template was registered in the AppLayout, so it&#8217;s available across the whole application.</p>



<h4 class="wp-block-heading">Debounce</h4>



<p>Debouncing is an optimization to reduce load on a system caused by rapid changes. </p>



<p>Here&#8217;s an example of what that actually means:</p>



<p>Imagine I ask you to list all the lights in your house and whether they&#8217;re on or off. Simple, right? Now, imagine I want you to update that list every time I flip a switch. That’s still manageable if I only flip one switch every few seconds. However, if I start flipping switches multiple times per second, it quickly becomes overwhelming to keep up.</p>



<p>Debounce is like saying, &#8220;It&#8217;s okay if the list isn&#8217;t updated instantly, as long as it&#8217;s accurate when I need it.&#8221; If I only check the list once a minute, you just need to note that a switch was flipped and update the list before I look again, which reduces your workload significantly.</p>



<p>In the page, there&#8217;s a validation that checks to make sure that two fields don&#8217;t have the same name.</p>



<figure class="wp-block-image aligncenter size-full"><img loading="lazy" decoding="async" width="397" height="349" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-19.png" alt="" class="wp-image-913" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-19.png 397w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-19-300x264.png 300w" sizes="auto, (max-width: 397px) 100vw, 397px" /></figure>



<p>This check watches the field names, and since they update every time someone types a character, the check would run very frequently. I&#8217;ve applied a debounce to this code, so that it will only check at most once every 100ms.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">JavaScript</span><span role="button" tabindex="0" data-code="const debouncedValidateFieldNames = debounce(validateFieldNames, 100);

// Watch for field name changes
watch(() =&gt; props.template.fields, () =&gt; {
    debouncedValidateFieldNames();
}, { deep: true });" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line cbp-line-highlight"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">debouncedValidateFieldNames</span><span style="color: #D4D4D4"> = </span><span style="color: #DCDCAA">debounce</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">validateFieldNames</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">100</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// Watch for field name changes</span></span>
<span class="line"><span style="color: #DCDCAA">watch</span><span style="color: #D4D4D4">(() </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">props</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">fields</span><span style="color: #D4D4D4">, () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">debouncedValidateFieldNames</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">}, { </span><span style="color: #9CDCFE">deep:</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4"> });</span></span></code></pre></div>



<p>This means that the page still feels responsive, because it&#8217;s not a lot of time in between checks, but also doesn&#8217;t lag our browser if we type fast. The more fields we have in our template, the bigger the impact of this debounce is, because it would take longer and longer to check.</p>



<h4 class="wp-block-heading">No Spaces In Field Names</h4>



<p>Since field names are the programmatic name we want to attach to pieces of data, they need to make sense, and one of the requirements is names should not contain spaces. We could have handled this by displaying an error on the field, or when saving, to tell a user to remove the spaces, but I had a better idea.</p>



<p>As the user types, we are running debounced validation to check if we&#8217;re duplicating the name. The other thing I&#8217;ve added is an automatic replacement of spaces with underscores, so as a user types in a field name, when they hit space, it&#8217;s immediately replaced.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">JavaScript</span><span role="button" tabindex="0" data-code="const handleFieldNameInput = (field) =&gt; {
    // Replace spaces with underscores
    field.name = field.name.replace(/\s+/g, '_');
    debouncedValidateFieldNames();
};" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">handleFieldNameInput</span><span style="color: #D4D4D4"> = (</span><span style="color: #9CDCFE">field</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// Replace spaces with underscores</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">field</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">field</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">replace</span><span style="color: #D4D4D4">(</span><span style="color: #D16969">/\s</span><span style="color: #D7BA7D">+</span><span style="color: #D16969">/</span><span style="color: #569CD6">g</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;_&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">debouncedValidateFieldNames</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span></code></pre></div>



<h2 class="wp-block-heading">Manual Testing</h2>



<p>I&#8217;ve not wired up an automated testing suite for the UI actions, but the first step is always knowing what in the UI I want to test. As part of either planning, or during development, a list of test cases will start to emerge. They may be written down, or may just be in a developer&#8217;s head (and really should be written down if it&#8217;s more than just you <img src="https://s.w.org/images/core/emoji/17.0.2/72x72/1f606.png" alt="😆" class="wp-smiley" style="height: 1em; max-height: 1em;" />), but they always exist.</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="759" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-24-1024x759.png" alt="" class="wp-image-922" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-24-1024x759.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-24-300x222.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-24-768x569.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-24-1536x1138.png 1536w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-24.png 1548w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></figure>



<p>Here&#8217;s a list of all the things that we can and should test on this one page (22 that I could think of). The goal of testing is to make sure every button does something, the whole interface works, and we check both the <a href="https://www.google.ca/search?q=happy+path+testing" target="_blank" rel="noreferrer noopener nofollow">happy path</a>, and at least some of the unhappy path (errors, validation issues).</p>



<p><strong>Template Level Actions</strong></p>



<ol class="wp-block-list">
<li>Can the user create a new template</li>



<li>Can the user change the template title</li>



<li>Can the user change the template description</li>



<li>Can the user save the template changes
<ul class="wp-block-list">
<li>Do the changes persist when saving, and reloading the page</li>
</ul>
</li>



<li>Can the user cancel any pending changes</li>



<li>The user can&#8217;t save a template when there are no changes</li>



<li>The user can&#8217;t save a template with a duplicated field name</li>
</ol>



<p><strong>Template Field Actions</strong></p>



<ol class="wp-block-list">
<li>Can the user add a new field
<ul class="wp-block-list">
<li>Can the user change the field label</li>



<li>Can the user change the field name</li>



<li>Can the user change the type of field</li>



<li>Can the user add more than one field</li>



<li>Can the fields order be changed</li>
</ul>
</li>



<li>Can the user remove a field</li>
</ol>



<p><strong>Template Dropdown / Checkbox Field</strong></p>



<ol class="wp-block-list">
<li>Can the user create a dropdown / checkbox field</li>



<li>Can the user add an option</li>



<li>Can the user remove an option</li>



<li>Can the options order be changed</li>
</ol>



<p><strong>Misc Actions</strong></p>



<ol class="wp-block-list">
<li>Can the user navigate to add a record with this template</li>



<li>Can the user navigate to view the records for this template</li>
</ol>



<p>These tests are critical to the process, because they ensure we don&#8217;t deliver a tool that is broken in some obvious or less than obvious way.</p>



<p>Can you think of any tests I missed? Comment below!</p>



<h2 class="wp-block-heading">The Pull Requests</h2>



<p>I broke the work up into a few distinct pieces:</p>



<ul class="wp-block-list">
<li>This <a href="https://github.com/bendauphinee/tailgunner/pull/14">pull request</a> adds Font Awesome, and cleans up some style things.</li>



<li>This <a href="https://github.com/bendauphinee/tailgunner/pull/15">pull request</a> creates the edit template page, with basic alerts connected to buttons.</li>



<li>And this <a href="https://github.com/bendauphinee/tailgunner/pull/16">pull request</a> adds in all the actual functionality for the tool.</li>
</ul>



<p>Each PR offers a distinct chunk of working functionality, allowing us to show progress on the tool in stages.</p>



<h2 class="wp-block-heading">Wrapping Up</h2>



<p>While the last few posts in the series have been about zoomed in pieces of work, this one stepped back and allowed us to deliver a larger chunk. At the end of this, we&#8217;ve now solved 4 more workflows from our user story, leaving us over 70% complete!</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-d31dc603ca0622a2bb8c129b0a66f203 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p><strong>US1: Workflows</strong></p>



<ul class="wp-block-list">
<li><mark style="background-color:#86dd61" class="has-inline-color"><strong>Creating a template</strong></mark></li>



<li><mark style="background-color:#86dd61" class="has-inline-color"><strong>Editing the template metadata</strong></mark></li>



<li><strong><mark style="background-color:#86dd61" class="has-inline-color">Editing the form fields in a template</mark></strong></li>



<li><mark style="background-color:#86dd61" class="has-inline-color"><strong>Editing the options of a form dropdown</strong></mark></li>



<li><strong><mark style="background-color:#86dd61" class="has-inline-color">Saving changes to the template</mark></strong></li>



<li><strong>Cloning a template</strong></li>



<li><strong>Deleting a template</strong></li>
</ul>
</div>



<p>The template editing tool is now in a useful state, and from here, we can either finish this story or prioritize creating tools to add and manage the data entered with a template.</p>



<p>As always, I hope you learned something interesting through this post, and stay tuned for the next!</p>



<p>Leave me a comment if you found this helpful, or you found something I could do better!</p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2025/01/22/an-app-from-scratch-part-10-reflections-and-template-editing/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>An App From Scratch: Part 9 – Setting Up Our Production Server And Deployment (US1-C4)</title>
		<link>https://bendauphinee.com/writing/2025/01/17/an-app-from-scratch-part-9-setting-up-our-production-server-and-deployment-us1-c4/</link>
					<comments>https://bendauphinee.com/writing/2025/01/17/an-app-from-scratch-part-9-setting-up-our-production-server-and-deployment-us1-c4/#respond</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Fri, 17 Jan 2025 18:16:31 +0000</pubDate>
				<category><![CDATA[Software Engineering]]></category>
		<category><![CDATA[automation]]></category>
		<category><![CDATA[deployment]]></category>
		<category><![CDATA[github]]></category>
		<category><![CDATA[laravel]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[pipeline]]></category>
		<category><![CDATA[software]]></category>
		<category><![CDATA[tailgunner]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=842</guid>

					<description><![CDATA[9 minute reading time; ~1720 words Welcome and hello! This post is going to take the work we&#8217;ve done so far, and put it where it can be used. We&#8217;re going to walk through designing an automated deployment process, and some cleanup that we have to do around the branding as part of taking it [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">9 minute reading time; ~1720 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Welcome and hello!</p>



<p>This post is going to take the work we&#8217;ve done so far, and put it where it can be used. We&#8217;re going to walk through designing an automated deployment process, and some cleanup that we have to do around the branding as part of taking it to production.</p>



<p>Let&#8217;s dig into it, and put our work in front of the world!</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">What Do I See?</h2>



<p>Let&#8217;s take a look at the final card in this feature.</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-71f44af614ec582d1fd30b1e261db233 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-contrast-color has-accent-3-background-color has-text-color has-background has-link-color wp-elements-b0a9e98e2beebf2c46a31bc2d1dee722" style="padding-top:0;padding-right:0.3rem;padding-bottom:0;padding-left:0.3rem"><strong>Card</strong>: US1-C4</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-4bf8fa03559180f6a65d7015bc498d5b" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Title</h4>



<p>Set up production server and deployment</p>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-208c9d0f6b2264867b69c2622d7d9968" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Type</h4>



<p>Task</p>
</div>
</div>



<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-c2d2f57ca0c39c3684d432537b97ceee" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Description</h4>



<p class="has-medium-font-size">Create a production web server, and implement a deployment workflow to get our code into production.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>A server exists for <code>tailgunner.app</code>, running the latest main branch code.</li>



<li>New merges to main are deployed to the production server.</li>
</ul>
</div>



<h3 class="wp-block-heading">What I Need To Do</h3>



<p>Reviewing the system diagram and acceptance criteria, we can break down these tasks:</p>



<ul class="wp-block-list">
<li>Set up server environment</li>



<li>Add credentials to GitHub</li>



<li>Create a GitHub Action build / push pipeline</li>



<li>Port the current homepage into Laravel and update branding</li>
</ul>



<h2 class="wp-block-heading">Putting It Into Action</h2>



<h4 class="wp-block-heading">Set up server environment</h4>



<p>First of all, I want to lay out the deployment structure on the server.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="|-- base directory
|   └── deployments                            &lt;- Where we upload the deployment files
|       └── deploy-2025-01-16-14-48-32.tar.gz  &lt;- A deployment file
|       └── releases                           &lt;- Where each release gets unpacked to
|           └── 2025-01-16-14-48-32            &lt;- An unpacked release

|       └── workflows                          &lt;- Where the workflow script gets stored
|           └── deploy-to-prod.sh              &lt;- The workflow script
    
    # public_html gets symlinked (shortcut) to the current release folder's code
|   └── public_html -&gt; /home/&lt;username&gt;/deployments/releases/2025-01-16-14-48-32/src

|   └── shared          &lt;- Where we will store files that don't change in each release
|       └── .env        &lt;- The production environment settings
|       └── storage     &lt;- Laravel's file storage directory" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">|</span><span style="color: #DCDCAA">--</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">base</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">directory</span></span>
<span class="line"><span style="color: #D4D4D4">|   </span><span style="color: #DCDCAA">└──</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">deployments</span><span style="color: #D4D4D4">                            &lt;</span><span style="color: #CE9178">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Where</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">we</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">upload</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">the</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">deployment</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">files</span></span>
<span class="line"><span style="color: #D4D4D4">|       </span><span style="color: #DCDCAA">└──</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">deploy-2025-01-16-14-48-32.tar.gz</span><span style="color: #D4D4D4">  &lt;</span><span style="color: #CE9178">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">A</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">deployment</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">file</span></span>
<span class="line"><span style="color: #D4D4D4">|       </span><span style="color: #DCDCAA">└──</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">releases</span><span style="color: #D4D4D4">                           &lt;</span><span style="color: #CE9178">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Where</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">each</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">release</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">gets</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">unpacked</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">to</span></span>
<span class="line"><span style="color: #D4D4D4">|           </span><span style="color: #DCDCAA">└──</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">2025</span><span style="color: #CE9178">-01-16-14-48-32</span><span style="color: #D4D4D4">            &lt;</span><span style="color: #CE9178">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">An</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">unpacked</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">release</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">|       </span><span style="color: #DCDCAA">└──</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">workflows</span><span style="color: #D4D4D4">                          &lt;</span><span style="color: #CE9178">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Where</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">the</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">workflow</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">script</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">gets</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">stored</span></span>
<span class="line"><span style="color: #D4D4D4">|           </span><span style="color: #DCDCAA">└──</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">deploy-to-prod.sh</span><span style="color: #D4D4D4">              &lt;</span><span style="color: #CE9178">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">The</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">workflow</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">script</span></span>
<span class="line"><span style="color: #D4D4D4">    </span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955"># public_html gets symlinked (shortcut) to the current release folder&#39;s code</span></span>
<span class="line"><span style="color: #D4D4D4">|   </span><span style="color: #DCDCAA">└──</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">public_html</span><span style="color: #D4D4D4"> -&gt; </span><span style="color: #CE9178">/home/</span><span style="color: #D4D4D4">&lt;</span><span style="color: #CE9178">usernam</span><span style="color: #D4D4D4">e&gt;</span><span style="color: #CE9178">/deployments/releases/2025-01-16-14-48-32/src</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">|   </span><span style="color: #DCDCAA">└──</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">shared</span><span style="color: #D4D4D4">          &lt;</span><span style="color: #CE9178">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Where</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">we</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">will</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">store</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">files</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">that</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">don&#39;t change in each release</span></span>
<span class="line"><span style="color: #CE9178">|       └── .env        &lt;- The production environment settings</span></span>
<span class="line"><span style="color: #CE9178">|       └── storage     &lt;- Laravel&#39;s</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">file</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">storage</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">directory</span></span></code></pre></div>



<p>This structure will allow us to make instant switches between releases, and gives us the ability to switch back to a previous release by re-linking the <code>public_html</code> directory to the desired one.</p>



<p>Next, since I&#8217;m using cPanel for my hosting, there were a few extra server configuration things to do.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="# Go to the cPanel settings for the user (as root)
$ cd /var/cpanel/userdata/&lt;username&gt;/

# Edit the config for the domain, and change the DocumentRoot
# (where files are served from), from public_html to public_html/public
# because that's how Laravel serves its content.
$ nano tailgunner.app
documentroot: /home/&lt;username&gt;/public_html/public

# Make the same change to our https config
$ nano tailgunner.app_SSL
documentroot: /home/&lt;username&gt;/public_html/public

# Get cPanel to rebuild our httpd configurations
$ /scripts/rebuildhttpdconf
Built /etc/apache2/conf/httpd.conf OK

# Restart the webserver so the changes take effect
$ systemctl restart httpd" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># Go to the cPanel settings for the user (as root)</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">cd</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/var/cpanel/userdata/</span><span style="color: #D4D4D4">&lt;</span><span style="color: #CE9178">usernam</span><span style="color: #D4D4D4">e&gt;</span><span style="color: #CE9178">/</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Edit the config for the domain, and change the DocumentRoot</span></span>
<span class="line"><span style="color: #6A9955"># (where files are served from), from public_html to public_html/public</span></span>
<span class="line"><span style="color: #6A9955"># because that&#39;s how Laravel serves its content.</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">nano</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tailgunner.app</span></span>
<span class="line"><span style="color: #DCDCAA">documentroot:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/home/</span><span style="color: #D4D4D4">&lt;</span><span style="color: #CE9178">usernam</span><span style="color: #D4D4D4">e&gt;</span><span style="color: #CE9178">/public_html/public</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Make the same change to our https config</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">nano</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">tailgunner.app_SSL</span></span>
<span class="line"><span style="color: #DCDCAA">documentroot:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/home/</span><span style="color: #D4D4D4">&lt;</span><span style="color: #CE9178">usernam</span><span style="color: #D4D4D4">e&gt;</span><span style="color: #CE9178">/public_html/public</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Get cPanel to rebuild our httpd configurations</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/scripts/rebuildhttpdconf</span></span>
<span class="line"><span style="color: #DCDCAA">Built</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">/etc/apache2/conf/httpd.conf</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">OK</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Restart the webserver so the changes take effect</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">systemctl</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">restart</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">httpd</span></span></code></pre></div>



<p>The server needs to only be restarted once. After that, we can change the symlink for <code>public_html</code> that we created earlier, and should have no issues.</p>



<p>For GitHub, I granted the account <a href="https://support.cpanel.net/hc/en-us/articles/360051992634-What-are-the-differences-between-Normal-and-Jailed-Shell">jailed shell access</a>, and generated an SSH key set using the <code>ssh-keygen</code> command.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="$ ssh-keygen -t ed25519 -f ~/.ssh/github_deploy" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ssh-keygen</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-t</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">ed25519</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">-f</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/.ssh/github_deploy</span></span></code></pre></div>



<p>The other thing we have to do is add our new key into the <code>authorized_keys</code> list for the account, so GitHub can use it to access the server.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="$ cat ~/.ssh/github_deploy.pub &gt;&gt; ~/.ssh/authorized_keys" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">cat</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/.ssh/github_deploy.pub</span><span style="color: #D4D4D4"> &gt;&gt; </span><span style="color: #CE9178">~/.ssh/authorized_keys</span></span></code></pre></div>



<h4 class="wp-block-heading">Add credentials to GitHub</h4>



<p>To configure GitHub to be able to access my production server, I need to set up a new <a href="https://docs.github.com/en/actions/managing-workflow-runs-and-deployments/managing-deployments/managing-environments-for-deployment" target="_blank" rel="noreferrer noopener nofollow">Environment</a> and add <a href="https://docs.github.com/en/actions/security-for-github-actions/security-guides/using-secrets-in-github-actions" target="_blank" rel="noreferrer noopener nofollow">secrets</a> for our deployment script to use.</p>



<p>To do this, we go to the Environment settings for the Tailgunner repo (Settings -&gt; Environments), and created a new environment. After that, we add a few secrets:</p>



<ul class="wp-block-list">
<li>the <code>SERVER_HOST</code> to contain the address of the server.</li>



<li>the <code>SERVER_SSH_KEY</code> to hold the SSH private key that we just set up.</li>



<li>the <code>SERVER_USER</code> has the username we&#8217;ve set up the private key for.</li>
</ul>



<p>To get the contents of the key to put into the <code>SERVER_SSH_KEY</code>, we just have to read it from the server and copy the contents into the new secret.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="$ [tailgunner8vk@fire ~]$ cat ~/.ssh/github_deploy
-----BEGIN OPENSSH PRIVATE KEY-----
...
-----END OPENSSH PRIVATE KEY-----" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> [tailgunner8vk@fire </span><span style="color: #CE9178">~]</span><span style="color: #D4D4D4">$ </span><span style="color: #CE9178">cat</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/.ssh/github_deploy</span></span>
<span class="line"><span style="color: #DCDCAA">-----BEGIN</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">OPENSSH</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">PRIVATE</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">KEY-----</span></span>
<span class="line"><span style="color: #DCDCAA">...</span></span>
<span class="line"><span style="color: #DCDCAA">-----END</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">OPENSSH</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">PRIVATE</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">KEY-----</span></span></code></pre></div>



<p>NOTE: GitHub secrets let you input or overwrite their contents but will not display previous values.</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="375" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-16-1024x375.png" alt="" class="wp-image-851" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-16-1024x375.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-16-300x110.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-16-768x281.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-16.png 1225w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></figure>



<h4 class="wp-block-heading">Create a GitHub Action build / push pipeline</h4>



<p>I thought this step would be the easiest, but it took a full day of effort to get right. I&#8217;m going to outline what the main script does here (and highlight some specific pieces you might find useful).</p>



<p>To help guide you, under the Steps section (line 16), you&#8217;ll see the steps the script follows. Each step is named and will appear in the action’s run log as well. I&#8217;ve replaced parts of the script with <code>...</code> so we can focus on the most interesting pieces, but you can find <a href="https://github.com/bendauphinee/tailgunner/blob/7ed3c43e4044aa67ec0fad262122efa4ddbd2a73/.github/workflows/deploy.yml" target="_blank" rel="noreferrer noopener">the whole script here</a>.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">.github/workflows/deploy.yml</span><span role="button" tabindex="0" data-code="name: Build and Deploy

on:
    push:
      branches:
        - main
        - '**' # Allow all branches, for testing purposes.

    workflow_dispatch: # Allow manual triggers

jobs:
  deploy:
    # Define the environment name so we can get the settings from GitHub
    environment: Tailgunner Production

    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          # Shallow clone for faster checkout
          fetch-depth: 1

      - name: Setup PHP
      - name: Install Composer dependencies

      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          ...
          # Specifies non-default lock file location
          cache-dependency-path: './src/package-lock.json'

      - name: Install NPM dependencies &amp; build assets
      - name: Create deployment package

      - name: Copy deployment package and script
        uses: appleboy/scp-action@master
        with:
          ...
          # Copy both the deployment archive and script to the server
          source: &quot;src/deploy-*.tar.gz,.github/workflows/deploy-to-prod.sh&quot;
          
          # Into the deployments directory
          target: &quot;~/deployments/&quot;
          
          # Remove the first part of the path
          # src/deploy-*.tar.gz                    ~/deployments/deploy-*.tar.gz
          # .github/workflows/deploy-to-prod.sh    ~/deployments/workflows/deploy-to-prod.sh
          strip_components: 1

          # Overwrite existing files so we can put new deploy script versions up
          overwrite: true

      - name: Unpack and finalize
        uses: appleboy/ssh-action@master
        with:
          ...
          script: |
            # Make the script executable
            chmod +x ~/deployments/workflows/deploy-to-prod.sh
            
            # Run it on the server
            ~/deployments/workflows/deploy-to-prod.sh" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">name:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">and</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Deploy</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">on:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">push:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">branches:</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">main</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;**&#39;</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955"># Allow all branches, for testing purposes.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">workflow_dispatch:</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955"># Allow manual triggers</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">jobs</span><span style="color: #D4D4D4">:</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">deploy:</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955"># Define the environment name so we can get the settings from GitHub</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">environment:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Tailgunner</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Production</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">steps:</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">name:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Checkout</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">code</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">uses:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">actions/checkout@v4</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">with:</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #6A9955"># Shallow clone for faster checkout</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">fetch-depth:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">name:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Setup</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">PHP</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">name:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Install</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Composer</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">dependencies</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">name:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Setup</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Node.js</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">uses:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">actions/setup-node@v4</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">with:</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">...</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #6A9955"># Specifies non-default lock file location</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">cache-dependency-path:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;./src/package-lock.json&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">name:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Install</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">NPM</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">dependencies</span><span style="color: #D4D4D4"> &amp; </span><span style="color: #DCDCAA">build</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">assets</span></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">name:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Create</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">deployment</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">package</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">name:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Copy</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">deployment</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">package</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">and</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">script</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">uses:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">appleboy/scp-action@master</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">with:</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">...</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #6A9955"># Copy both the deployment archive and script to the server</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">source</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">&quot;src/deploy-*.tar.gz,.github/workflows/deploy-to-prod.sh&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">          </span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #6A9955"># Into the deployments directory</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">target:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&quot;~/deployments/&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">          </span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #6A9955"># Remove the first part of the path</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #6A9955"># src/deploy-*.tar.gz                    ~/deployments/deploy-*.tar.gz</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #6A9955"># .github/workflows/deploy-to-prod.sh    ~/deployments/workflows/deploy-to-prod.sh</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">strip_components:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #6A9955"># Overwrite existing files so we can put new deploy script versions up</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">overwrite:</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">true</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">      </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">name:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Unpack</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">and</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">finalize</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">uses:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">appleboy/ssh-action@master</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #DCDCAA">with:</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">...</span></span>
<span class="line"><span style="color: #D4D4D4">          </span><span style="color: #DCDCAA">script:</span><span style="color: #D4D4D4"> |</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #6A9955"># Make the script executable</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #DCDCAA">chmod</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">+x</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">~/deployments/workflows/deploy-to-prod.sh</span></span>
<span class="line"><span style="color: #D4D4D4">            </span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #6A9955"># Run it on the server</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #DCDCAA">~/deployments/workflows/deploy-to-prod.sh</span></span></code></pre></div>



<p>After a lot of testing (64 commits and 59 workflow runs <img src="https://s.w.org/images/core/emoji/17.0.2/72x72/1f62a.png" alt="😪" class="wp-smiley" style="height: 1em; max-height: 1em;" />), everything works and now I can <a href="https://github.com/bendauphinee/tailgunner/pull/5" data-type="link" data-id="https://github.com/bendauphinee/tailgunner/pull/5">merge the PR</a>, enabling future merges to auto-deploy to the production server!</p>



<h4 class="wp-block-heading">Port the current homepage into Laravel and update branding</h4>



<p>Currently, there&#8217;s a static page on the domain that lists the posts in this series. With automated deployments now in place, it&#8217;s time to take that content and replace Laravel&#8217;s default welcome page. Along with this, we&#8217;ll also to update the branding from Laravel to Tailgunner. <a href="https://github.com/bendauphinee/tailgunner/pull/6" target="_blank" rel="noreferrer noopener">PR</a>, <a href="https://github.com/bendauphinee/tailgunner/pull/7" data-type="link" data-id="https://github.com/bendauphinee/tailgunner/pull/7" target="_blank" rel="noreferrer noopener">PR</a>, <a href="https://github.com/bendauphinee/tailgunner/pull/8" target="_blank" rel="noreferrer noopener">PR</a>, <a href="https://github.com/bendauphinee/tailgunner/pull/9" target="_blank" rel="noreferrer noopener">PR</a></p>



<p>The changes we&#8217;ve made are:</p>



<ul class="wp-block-list">
<li>Replaced the default main page with our static website content (a list of blog posts)</li>



<li>Replaced all instances of the app logo and favicon with the Tailgunner logo</li>



<li>Created a new CSS file to contain the styles for the main page</li>



<li>Added a display of the PHP and Laravel versions to the main page</li>



<li>Updated the dashboard page to replace the Laravel default content</li>



<li>Fixed the README to account for the new logo location</li>
</ul>



<h2 class="wp-block-heading">Wrapping Up</h2>



<p>The single biggest challenge in this one was in figuring out how to create the action, and getting it working correctly. There&#8217;s not an easy way to do this part of the process. Every single commit triggers the action to test, which took between 30-45 seconds per run. As you can read from the highlighted lines in my commit log below, it can at times be frustrating.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Commit Log &#8211; Deploy Script</span><span role="button" tabindex="0" data-code="* 69d3843 US1-C4 First version of prod deploy script
* 02a46cc US1-C4 Move the scripts to the correct location
* 8b65df8 US1-C4 Enable for all branches
* 9006597 US1-C4 Set working directory
* d5382dc US1-C4 Fix paths
* 2a7ac12 US1-C4 Try tar a different way
* 0a5812e US1-C4 Break up the copy and deploy steps
* 27b8936 US1-C4 Debug this step
* bbd063d US1-C4 Test just the scp action
* 45ba536 US1-C4 Debug if the secrets are working
* 17cdf51 US1-C4 Set the environment to see if that helps
* ca500c9 US1-C4 Clean up some debugging
* 4a13e05 US1-C4 Restored the original deployment script
* 5c7abfd US1-C4 Updated deploy scripts
* c4e9d4c US1-C4 Removed some deploy steps
* 93530f4 US1-C4 Changes to where we're putting the upload
* 4e0b99a US1-C4 Changed the paths for deployment
* 8d7ef41 US1-C4 Added some deployment setup steps
* bd90a79 US1-C4 Added some deployment setup steps
* e21d2ac US1-C4 See of we can fix the file naming issue
* 85b028f US1-C4 Clean up and fix the release pathing
* 4bbfcdb US1-C4 Fix some build configs
* 2d57513 US1-C4 Fix the deploy
* 13b68d7 US1-C4 We're maybe already in this dir
* 36daae8 US1-C4 Vite build is being annoying
* ce8c085 US1-C4 Try again to get Vite to compile
* ba586ed US1-C4 More changes to see what's wrong with Vite
* cc4a381 US1-C4 Try again with Vite
* 94fc3fd US1-C4 Rewrite the npm
* 956b9c4 US1-C4 Missing dayjs
* a6c67bb US1-C4 Revert our Vite changes and remove the hot file
* 7b23c66 US1-C4 See if this build works
* db25f12 US1-C4 Fix the dependencies
* 2d48b6a US1-C4 Add some debugging
* 37b8c5c US1-C4 Change some build pieces
* 3182b85 US1-C4 Change the deploy script to set up an env
* a1d9b4d US1-C4 Changes to build script
* 3fa6314 US1-C4 Re-point web to the new release path
* 6e8df0a US1-C4 Add some file cleanup
* f210b4f US1-C4 Bypass production warning
* b276cdf US1-C4 Move deploy script to new file
* 6e9f68e US1-C4 The deploy script ended up in the wrong place, also we forgot to add it
* 478357f US1-C4 Minor optimizations
* 55301b4 US1-C4 Build script optimizations and re-aligned package-lock.json
* 5641b29 US1-C4 Revert file handling change
* d350c8b US1-C4 File handling fix
* dd0679c US1-C4 Fix the filename
* a9ddff7 US1-C4 Testing
* 859fc0d US1-C4 Another test
* ea96d5f US1-C4 Try again
* ce173c3 US1-C4 Test
* 5ab53e4 US1-C4 Another test
* ad453c2 US1-C4 Test
* cc80ee9 US1-C4 Maybe this works?
* f8bac97 US1-C4 Re-organize the build
* 70eb4d2 US1-C4 Move the Vite vars to GitHub Actions defined environment
* 01f74b8 US1-C4
* 8f56b57 US1-C4 Do we need these vars for the app to build properly?
* 8cdb640 US1-C4 Minor tweaks
* 6940d47 US1-C4 Clean up some path name handling
* 1b8f85c US1-C4 Some small changes
* 27a89cb US1-C4 Message tweaks
* 86322e4 US1-C4 Don't need this whitespace
* 1f71469 US1-C4 Remove debugging flag" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">* 69d3843 US1-C4 First version of prod deploy script</span></span>
<span class="line"><span style="color: #D4D4D4">* 02a46cc US1-C4 Move the scripts to the correct location</span></span>
<span class="line"><span style="color: #D4D4D4">* 8b65df8 US1-C4 Enable for all branches</span></span>
<span class="line"><span style="color: #D4D4D4">* 9006597 US1-C4 Set working directory</span></span>
<span class="line"><span style="color: #D4D4D4">* d5382dc US1-C4 Fix paths</span></span>
<span class="line"><span style="color: #D4D4D4">* 2a7ac12 US1-C4 Try tar a different way</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 0a5812e US1-C4 Break up the copy and deploy steps</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 27b8936 US1-C4 Debug this step</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* bbd063d US1-C4 Test just the scp action</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 45ba536 US1-C4 Debug if the secrets are working</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 17cdf51 US1-C4 Set the environment to see if that helps</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* ca500c9 US1-C4 Clean up some debugging</span></span>
<span class="line"><span style="color: #D4D4D4">* 4a13e05 US1-C4 Restored the original deployment script</span></span>
<span class="line"><span style="color: #D4D4D4">* 5c7abfd US1-C4 Updated deploy scripts</span></span>
<span class="line"><span style="color: #D4D4D4">* c4e9d4c US1-C4 Removed some deploy steps</span></span>
<span class="line"><span style="color: #D4D4D4">* 93530f4 US1-C4 Changes to where we&#39;re putting the upload</span></span>
<span class="line"><span style="color: #D4D4D4">* 4e0b99a US1-C4 Changed the paths for deployment</span></span>
<span class="line"><span style="color: #D4D4D4">* 8d7ef41 US1-C4 Added some deployment setup steps</span></span>
<span class="line"><span style="color: #D4D4D4">* bd90a79 US1-C4 Added some deployment setup steps</span></span>
<span class="line"><span style="color: #D4D4D4">* e21d2ac US1-C4 See of we can fix the file naming issue</span></span>
<span class="line"><span style="color: #D4D4D4">* 85b028f US1-C4 Clean up and fix the release pathing</span></span>
<span class="line"><span style="color: #D4D4D4">* 4bbfcdb US1-C4 Fix some build configs</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 2d57513 US1-C4 Fix the deploy</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 13b68d7 US1-C4 We&#39;re maybe already in this dir</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 36daae8 US1-C4 Vite build is being annoying</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* ce8c085 US1-C4 Try again to get Vite to compile</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* ba586ed US1-C4 More changes to see what&#39;s wrong with Vite</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* cc4a381 US1-C4 Try again with Vite</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 94fc3fd US1-C4 Rewrite the npm</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 956b9c4 US1-C4 Missing dayjs</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* a6c67bb US1-C4 Revert our Vite changes and remove the hot file</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 7b23c66 US1-C4 See if this build works</span></span>
<span class="line"><span style="color: #D4D4D4">* db25f12 US1-C4 Fix the dependencies</span></span>
<span class="line"><span style="color: #D4D4D4">* 2d48b6a US1-C4 Add some debugging</span></span>
<span class="line"><span style="color: #D4D4D4">* 37b8c5c US1-C4 Change some build pieces</span></span>
<span class="line"><span style="color: #D4D4D4">* 3182b85 US1-C4 Change the deploy script to set up an env</span></span>
<span class="line"><span style="color: #D4D4D4">* a1d9b4d US1-C4 Changes to build script</span></span>
<span class="line"><span style="color: #D4D4D4">* 3fa6314 US1-C4 Re-point web to the new release path</span></span>
<span class="line"><span style="color: #D4D4D4">* 6e8df0a US1-C4 Add some file cleanup</span></span>
<span class="line"><span style="color: #D4D4D4">* f210b4f US1-C4 Bypass production warning</span></span>
<span class="line"><span style="color: #D4D4D4">* b276cdf US1-C4 Move deploy script to new file</span></span>
<span class="line"><span style="color: #D4D4D4">* 6e9f68e US1-C4 The deploy script ended up in the wrong place, also we forgot to add it</span></span>
<span class="line"><span style="color: #D4D4D4">* 478357f US1-C4 Minor optimizations</span></span>
<span class="line"><span style="color: #D4D4D4">* 55301b4 US1-C4 Build script optimizations and re-aligned package-lock.json</span></span>
<span class="line"><span style="color: #D4D4D4">* 5641b29 US1-C4 Revert file handling change</span></span>
<span class="line"><span style="color: #D4D4D4">* d350c8b US1-C4 File handling fix</span></span>
<span class="line"><span style="color: #D4D4D4">* dd0679c US1-C4 Fix the filename</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* a9ddff7 US1-C4 Testing</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 859fc0d US1-C4 Another test</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* ea96d5f US1-C4 Try again</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* ce173c3 US1-C4 Test</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* 5ab53e4 US1-C4 Another test</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* ad453c2 US1-C4 Test</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">* cc80ee9 US1-C4 Maybe this works?</span></span>
<span class="line"><span style="color: #D4D4D4">* f8bac97 US1-C4 Re-organize the build</span></span>
<span class="line"><span style="color: #D4D4D4">* 70eb4d2 US1-C4 Move the Vite vars to GitHub Actions defined environment</span></span>
<span class="line"><span style="color: #D4D4D4">* 01f74b8 US1-C4</span></span>
<span class="line"><span style="color: #D4D4D4">* 8f56b57 US1-C4 Do we need these vars for the app to build properly?</span></span>
<span class="line"><span style="color: #D4D4D4">* 8cdb640 US1-C4 Minor tweaks</span></span>
<span class="line"><span style="color: #D4D4D4">* 6940d47 US1-C4 Clean up some path name handling</span></span>
<span class="line"><span style="color: #D4D4D4">* 1b8f85c US1-C4 Some small changes</span></span>
<span class="line"><span style="color: #D4D4D4">* 27a89cb US1-C4 Message tweaks</span></span>
<span class="line"><span style="color: #D4D4D4">* 86322e4 US1-C4 Don&#39;t need this whitespace</span></span>
<span class="line"><span style="color: #D4D4D4">* 1f71469 US1-C4 Remove debugging flag</span></span></code></pre></div>



<p>I originally expected this process to take an hour or two, but when I got into the weeds, it turned out that there were a lot more pieces to get working than I expected.</p>



<p>While it was more involved than I originally expected, it was one of the most interesting parts of this work so far, learning how Actions work, and figuring out how to deploy to a cPanel server.</p>



<p>I hope along the way, you also found something interesting or helpful in my work! Look for the next part soon, <a href="https://bendauphinee.com/writing/2025/01/22/an-app-from-scratch-part-10-reflections-and-template-editing/" data-type="post" data-id="903">where we&#8217;re going to zoom out a bit and talk about the feature we&#8217;ve delivered, and build the template editing tool</a>.</p>



<p>Leave me a comment if you found this helpful, or you found something I could do better!</p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2025/01/17/an-app-from-scratch-part-9-setting-up-our-production-server-and-deployment-us1-c4/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>An App From Scratch: Part 8 – Creating New Templates Tool (US1-C3)</title>
		<link>https://bendauphinee.com/writing/2025/01/14/an-app-from-scratch-part-8-creating-new-templates-tool-us1-c3/</link>
					<comments>https://bendauphinee.com/writing/2025/01/14/an-app-from-scratch-part-8-creating-new-templates-tool-us1-c3/#comments</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Tue, 14 Jan 2025 18:13:35 +0000</pubDate>
				<category><![CDATA[Software Engineering]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=747</guid>

					<description><![CDATA[15 minute reading time; ~2860 words Welcome and hello! Today, we&#8217;re going to create a template creation tool. This post talks about creating the new interface elements needed, how we connect our frontend to backend with an API call, and some more conversation about pull request sizing. Without further ado, let&#8217;s dive into it and [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">15 minute reading time; ~2860 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Welcome and hello!</p>



<p>Today, we&#8217;re going to create a template creation tool. This post talks about creating the new interface elements needed, how we connect our frontend to backend with an API call, and some more conversation about pull request sizing.</p>



<p>Without further ado, let&#8217;s dive into it and build that tool!</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">What Do I See?</h2>



<p>As you can see by the card below, there are a few things we need to solve to complete the tool needed. Based on the fact that there is a system diagram linked in the details, I&#8217;d guess there&#8217;s going to be a lot of details to work through.</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-781664196e2006396d26241bf57c8255 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-contrast-color has-accent-3-background-color has-text-color has-background has-link-color wp-elements-f26b1101c9421ad49f3b31ecf5418c10" style="padding-top:0;padding-right:0.3rem;padding-bottom:0;padding-left:0.3rem"><strong>Card</strong>: US1-C3</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-4bf8fa03559180f6a65d7015bc498d5b" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Title</h4>



<p>Create tool to add new template</p>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-208c9d0f6b2264867b69c2622d7d9968" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Type</h4>



<p>Story</p>
</div>
</div>



<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-c2d2f57ca0c39c3684d432537b97ceee" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Description</h4>



<p class="has-medium-font-size">As a business owner, I want a way to add a new template, so that I can create a new data set.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>There is a way from the template list page to open the template add tool.</li>



<li>The business owner is able to create new templates that they own.</li>



<li>New templates show up in the template list.</li>
</ul>



<p><strong>Details</strong></p>



<p>See the system diagram for <a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-System-Diagram-2024-12.png" target="_blank" rel="noreferrer noopener" data-rel="lightbox-gallery-oLZ1T1Zc" data-rl_title="" data-rl_caption="" title="">creating a new template</a>.</p>
</div>



<h3 class="wp-block-heading">What I Need To Do</h3>



<p>Reviewing the system diagram and acceptance criteria, we can break down these tasks:</p>



<ul class="wp-block-list">
<li>Create a button to open an add dialog</li>



<li>Create the add dialog in the list page</li>



<li>Create a route to save the new template</li>



<li>Connect the dialog save to the new route</li>



<li>Add the new template to the list display</li>



<li>Add a notification for the created template</li>
</ul>



<h2 class="wp-block-heading">Putting It Into Action</h2>



<h4 class="wp-block-heading">Create a button to open an add dialog</h4>



<p>Personally, the best place for an add button is up in the top right corner. The first step is to tidy up the current header. If we look at the current header, we can see there&#8217;s a bunch of Tailwind styles embedded in it.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;template #header&gt;
    &lt;h2 class=&quot;font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight&quot;&gt;
        Templates
    &lt;/h2&gt;
&lt;/template&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #D4D4D4"> #</span><span style="color: #9CDCFE">header</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">h2</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        Templates</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">h2</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>As part of adding the button, I&#8217;m going to:</p>



<ul class="wp-block-list">
<li>Move the header H2 styles to our css file.</li>



<li>Add the button to the header.</li>



<li>Add a flexbox so I can align the new button to the right side.</li>
</ul>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">CSS</span><span role="button" tabindex="0" data-code="/* Template Header Elements */
.template_header{
    @apply flex justify-between items-center;
}

.template_header h2{
    @apply font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight;
}

/* Generic Button Styles */
button.add_button{
    @apply m-1 p-2 text-base text-black rounded bg-sky-400;
}

button.add_button:hover{
    @apply bg-sky-200;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">/* Template Header Elements */</span></span>
<span class="line"><span style="color: #D7BA7D">.template_header</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply </span><span style="color: #9CDCFE">flex</span><span style="color: #D4D4D4"> justify-between items-center;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D7BA7D">.template_header</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">h2</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/* Generic Button Styles */</span></span>
<span class="line"><span style="color: #D7BA7D">button.add_button</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply m-1 p-2 text-base text-black rounded bg-sky-400;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D7BA7D">button.add_button:hover</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply bg-sky-200;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>Moving these styles to the CSS file means they won&#8217;t need to load on every single page load, and will also help to keep things consistent across different pages, since we now have one place to change that will update everywhere.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;template #header&gt;
    &lt;div class=&quot;template_header&quot;&gt;
        &lt;h2&gt;
            Templates
        &lt;/h2&gt;
        &lt;button class=&quot;add_button&quot; @click=&quot;btnClick('Add New Template')&quot;&gt;
            Add New Template
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/template&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #D4D4D4"> #</span><span style="color: #9CDCFE">header</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;template_header&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">h2</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            Templates</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">h2</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;add_button&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">@click</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;btnClick(&#39;Add New Template&#39;)&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            Add New Template</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="75" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-9-1024x75.png" alt="" class="wp-image-778" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-9-1024x75.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-9-300x22.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-9-768x56.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-9.png 1252w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></figure>



<p>Now with that done, we have a way to trigger the next piece we&#8217;re doing!</p>



<h4 class="wp-block-heading">Create the add dialog in the list page</h4>



<p>First, we&#8217;ll create some code to support the dialog.</p>



<p>We need some variables to track the state of the dialog (line 5), and what the state of the form in it is (line 6-8). We&#8217;ll also make a small function that will eventually save the template, but for now will just close the dialog (line 11-14).</p>



<p> To power this, we&#8217;re also going to use the <code>ref</code> function from Vue (line 2), so that the UI can automatically update when we make changes to these variables.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;script setup&gt;
import { ref } from 'vue';

// Add dialog state and methods
const showDialog = ref(false);
const form = ref({
    title: '',
    errors: null
});

// This function will be used to actually create the form we request
const createTemplate = () =&gt; {
  showDialog.value = false;
};
&lt;/script&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">script</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">setup</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> { </span><span style="color: #9CDCFE">ref</span><span style="color: #D4D4D4"> } </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;vue&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// Add dialog state and methods</span></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">showDialog</span><span style="color: #D4D4D4"> = </span><span style="color: #DCDCAA">ref</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">form</span><span style="color: #D4D4D4"> = </span><span style="color: #DCDCAA">ref</span><span style="color: #D4D4D4">({</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">title:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">errors:</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">null</span></span>
<span class="line"><span style="color: #D4D4D4">});</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// This function will be used to actually create the form we request</span></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">createTemplate</span><span style="color: #D4D4D4"> = () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">showDialog</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">script</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>Next, we&#8217;ll add the actual dialog, with a small form in it. We&#8217;re going to use <a href="https://inertiajs.com/forms">Inertia&#8217;s form handling</a>, so we&#8217;ll also make sure to add the right hooks in the code for that.</p>



<p>Breaking down some key lines:</p>



<ul class="wp-block-list">
<li><strong>Line 3</strong>: The v-if reacts to the state of the variable on line 5 above. If we set that variable to true, the dialog will appear, if we set it back to false, it&#8217;ll disappear again.</li>



<li><strong>Line 6</strong>: This blocks the standard form submit action, and instead tells our browser to call the function we created on line 12 above.</li>



<li><strong>Line 8:</strong> The value of this field will be linked to the variable we set up in line 7 earlier. When someone types into this field, the above variable is updated, and if the above variable is updated by something in the code, the field below will reflect the same value. This is called <a href="https://www.digitalocean.com/community/tutorials/vuejs-v-model-two-way-binding" data-type="link" data-id="https://www.digitalocean.com/community/tutorials/vuejs-v-model-two-way-binding" target="_blank" rel="noreferrer noopener nofollow">two-way binding</a>.</li>



<li><strong>Line 13</strong>: If our request to the server returns an error about this field, we&#8217;ll outline it in red. As well, on line 15-17, we actually show the error message. (That <code>?.</code> operator is called <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining">optional chaining</a>, a way of accessing properties that might not be set, without throwing errors.)</li>



<li><strong>Line 19</strong>: Clicking the cancel button will set the variable controlling the dialog back to false, causing it to be hidden again.</li>



<li><strong>Line 23</strong>: While the form is processing, the Save button will be disabled</li>
</ul>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;template&gt; &lt;!-- Ignore this line, it's just so the formatter shows the right colors --&gt;

&lt;div v-if=&quot;showDialog&quot; class=&quot;dialog-overlay&quot;&gt;
    &lt;div class=&quot;dialog&quot;&gt;
        &lt;h3 class=&quot;title&quot;&gt;Create New Template&lt;/h3&gt;
        &lt;form @submit.prevent=&quot;createTemplate&quot;&gt;
            &lt;input
                v-model=&quot;form.title&quot;
                type=&quot;text&quot;
                placeholder=&quot;Template Name&quot;
                id=&quot;name&quot;
                class=&quot;w-full p-2 border rounded mb-4&quot;
                :class=&quot;{ 'border-red-500': form.errors?.title }&quot;
            /&gt;
            &lt;p v-if=&quot;form.errors?.title&quot; class=&quot;text-red-500 text-sm mb-2&quot;&gt;
                {{ form.errors.title }}
            &lt;/p&gt;
            &lt;div class=&quot;flex justify-end gap-2&quot;&gt;
                &lt;button class=&quot;cancel_button&quot; @click=&quot;showDialog = false&quot;&gt;Cancel&lt;/button&gt;
                &lt;button
                    class=&quot;add_button&quot;
                    type=&quot;submit&quot;
                    :disabled=&quot;form.processing&quot;
                &gt;Save&lt;/button&gt;
            &lt;/div&gt;
        &lt;/form&gt;
    &lt;/div&gt;
&lt;/div&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955">&lt;!-- Ignore this line, it&#39;s just so the formatter shows the right colors --&gt;</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-if</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;showDialog&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;dialog-overlay&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;dialog&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">h3</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;title&quot;</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Create New Template</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">h3</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">form</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">@submit.prevent</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;createTemplate&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">input</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">v-model</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;form.title&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">type</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;text&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">placeholder</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;Template Name&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;name&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;w-full p-2 border rounded mb-4&quot;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">:class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;{ &#39;border-red-500&#39;: form.errors?.title }&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">/&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">p</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-if</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;form.errors?.title&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;text-red-500 text-sm mb-2&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                {{ form.errors.title }}</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">p</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;flex justify-end gap-2&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;cancel_button&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">@click</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;showDialog = false&quot;</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Cancel</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;add_button&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #9CDCFE">type</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;submit&quot;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                    </span><span style="color: #9CDCFE">:disabled</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;form.processing&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Save</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">form</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>Along with the dialog code itself (which I placed just before the <code>&lt;AppLayout title="Templates"&gt;</code>), we also need a few styles. Below, we&#8217;ve set up an overlay that will cover everything on the screen, then placed the dialog content above that. (Same as last post, you can read more in the <a href="https://tailwindcss.com/docs" target="_blank" rel="noreferrer noopener nofollow">Tailwindcss docs</a> about what these do.)</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">CSS</span><span role="button" tabindex="0" data-code="/* Dialog Styles */
.dialog-overlay {
    @apply fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50;
}

.dialog {
    @apply bg-white p-6 rounded-lg shadow-xl max-w-md w-full m-4;
}

.dialog .title{
    @apply text-xl font-bold mb-4;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">/* Dialog Styles */</span></span>
<span class="line"><span style="color: #D7BA7D">.dialog-overlay</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply fixed inset-0 bg-black bg-opacity-50 </span><span style="color: #9CDCFE">flex</span><span style="color: #D4D4D4"> items-center justify-center z-50;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D7BA7D">.dialog</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply bg-white p-6 rounded-lg shadow-xl max-w-md w-full m-4;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D7BA7D">.dialog</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">.title</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply text-xl font-bold mb-4;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>Finally, we&#8217;ll update the button to control template visibility.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;template #header&gt;
    &lt;div class=&quot;template_header&quot;&gt;
        &lt;h2&gt;
            Templates
        &lt;/h2&gt;
        &lt;button class=&quot;add_button&quot; @click=&quot;showDialog = true&quot;&gt;
            Add New Template
        &lt;/button&gt;
    &lt;/div&gt;
&lt;/template&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #D4D4D4"> #</span><span style="color: #9CDCFE">header</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;template_header&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">h2</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            Templates</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">h2</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;add_button&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">@click</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;showDialog = true&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            Add New Template</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>And now, let&#8217;s get a look at what the dialog looks like!</p>



<figure class="wp-block-image aligncenter size-full"><img loading="lazy" decoding="async" width="484" height="242" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-6.png" alt="" class="wp-image-769" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-6.png 484w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-6-300x150.png 300w" sizes="auto, (max-width: 484px) 100vw, 484px" /></figure>



<h4 class="wp-block-heading">Create a route to save the new template</h4>



<p>The only thing we have to do is enable the <code>store</code> resource on our existing route. Later, we could move this to an actual <code>/api/</code> endpoint, but that would mean other adjustments to our code as well, so we&#8217;ll leave that for now.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="Route::middleware([
    'auth:sanctum',
    config('jetstream.auth_session'),
    'verified',
])-&gt;group(function () {
    Route::get('/dashboard', function () {
        return Inertia::render('Dashboard');
    })-&gt;name('dashboard');

    Route::resource('/templates', TemplateController::class)-&gt;only(['index', 'store']);
});
" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #4EC9B0">Route</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">middleware</span><span style="color: #D4D4D4">([</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;auth:sanctum&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #DCDCAA">config</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;jetstream.auth_session&#39;</span><span style="color: #D4D4D4">),</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #CE9178">&#39;verified&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">])-&gt;</span><span style="color: #DCDCAA">group</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> () {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #4EC9B0">Route</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">get</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;/dashboard&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> () {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Inertia</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">render</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;Dashboard&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    })-&gt;</span><span style="color: #DCDCAA">name</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;dashboard&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #4EC9B0">Route</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">resource</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;/templates&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">TemplateController</span><span style="color: #D4D4D4">::</span><span style="color: #569CD6">class</span><span style="color: #D4D4D4">)-&gt;</span><span style="color: #DCDCAA">only</span><span style="color: #D4D4D4">([</span><span style="color: #CE9178">&#39;index&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;store&#39;</span><span style="color: #D4D4D4">]);</span></span>
<span class="line"><span style="color: #D4D4D4">});</span></span>
<span class="line"></span></code></pre></div>



<p>There&#8217;s a handy command you can run, that will show you all the routes Laravel has. I&#8217;ve cut out most of them, but here&#8217;s a small snippet showing the command and what it outputs.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="$ php artisan route:list

  GET|HEAD  / ....................................................................................
  GET|HEAD  dashboard ............ dashboard
  GET|HEAD  login ................ login › Laravel\Fortify › AuthenticatedSessionController@create
  GET|HEAD  templates ............ templates.index › TemplateController@index
  POST      templates ............ templates.store › TemplateController@store" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line cbp-line-highlight"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">php</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">artisan</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">route:list</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">GET</span><span style="color: #D4D4D4">|</span><span style="color: #DCDCAA">HEAD</span><span style="color: #D4D4D4">  </span><span style="color: #CE9178">/</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">....................................................................................</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">GET</span><span style="color: #D4D4D4">|</span><span style="color: #DCDCAA">HEAD</span><span style="color: #D4D4D4">  </span><span style="color: #CE9178">dashboard</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">............</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">dashboard</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">GET</span><span style="color: #D4D4D4">|</span><span style="color: #DCDCAA">HEAD</span><span style="color: #D4D4D4">  </span><span style="color: #CE9178">login</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">................</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">login</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">›</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Laravel</span><span style="color: #D7BA7D">\F</span><span style="color: #CE9178">ortify</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">›</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">AuthenticatedSessionController@create</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">GET</span><span style="color: #D4D4D4">|</span><span style="color: #DCDCAA">HEAD</span><span style="color: #D4D4D4">  </span><span style="color: #CE9178">templates</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">............</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">templates.index</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">›</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">TemplateController@index</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">POST</span><span style="color: #D4D4D4">      </span><span style="color: #CE9178">templates</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">............</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">templates.store</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">›</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">TemplateController@store</span></span></code></pre></div>



<p>Next, you can see the function that we added to our controller. The validation (line 4-6) will check that we have passed in the correct data to create a new template, and if there are problems, will pass back specific error messages (which we set up our form for earlier). After that, we&#8217;re going to create the new template (line 9-12), and then pass back a JSON response that contains the new template information, as well as some data for a &#8220;flash&#8221; message.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="public function store(Request $request)
{
    // Validate that we have the required data for a new template
    $validated = $request-&gt;validate([
        'title' =&gt; 'required|string|max:120',
    ]);

    // Make us a new template
    $template = Template::create([
        'title' =&gt; $validated['title'],
        'user_id' =&gt; auth()-&gt;id(),
    ]);

    // Pass back the data for the new template, and a flash message
    return response()-&gt;json([
        'template' =&gt; [
            'id' =&gt; $template-&gt;id,
            'title' =&gt; $template-&gt;title,
            'description' =&gt; '',
            'created_at' =&gt; $template-&gt;created_at,
            'last_used' =&gt; $template-&gt;created_at,
            'records' =&gt; 0,
        ],
        'flash' =&gt; [
            'success' =&gt; [
                'data' =&gt; [
                    'id' =&gt; $template-&gt;id,
                    'title' =&gt; $template-&gt;title,
                ]
            ]
        ]
    ]);
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">store</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">Request</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$request</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// Validate that we have the required data for a new template</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">$validated</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">$request</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">validate</span><span style="color: #D4D4D4">([</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;title&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;required|string|max:120&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// Make us a new template</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4"> = </span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">create</span><span style="color: #D4D4D4">([</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;title&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$validated</span><span style="color: #D4D4D4">[</span><span style="color: #CE9178">&#39;title&#39;</span><span style="color: #D4D4D4">],</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;user_id&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #DCDCAA">auth</span><span style="color: #D4D4D4">()-&gt;</span><span style="color: #DCDCAA">id</span><span style="color: #D4D4D4">(),</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    ]);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #6A9955">// Pass back the data for the new template, and a flash message</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">response</span><span style="color: #D4D4D4">()-&gt;</span><span style="color: #DCDCAA">json</span><span style="color: #D4D4D4">([</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;template&#39;</span><span style="color: #D4D4D4"> =&gt; [</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;title&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;description&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #CE9178">&#39;&#39;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;created_at&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">created_at</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;last_used&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">created_at</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;records&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        ],</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #CE9178">&#39;flash&#39;</span><span style="color: #D4D4D4"> =&gt; [</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;success&#39;</span><span style="color: #D4D4D4"> =&gt; [</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #CE9178">&#39;data&#39;</span><span style="color: #D4D4D4"> =&gt; [</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">                    </span><span style="color: #CE9178">&#39;title&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">                ]</span></span>
<span class="line"><span style="color: #D4D4D4">            ]</span></span>
<span class="line"><span style="color: #D4D4D4">        ]</span></span>
<span class="line"><span style="color: #D4D4D4">    ]);</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>One small change is also required for the Template model. We need to set a few fields as fillable, <a href="https://laravel.com/docs/11.x/eloquent#mass-assignment">so we can mass-assign them</a>.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="&lt;?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Template extends Model
{
    protected $fillable = ['title', 'description', 'user_id'];" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">&lt;?php</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">namespace</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">App\Models</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> Illuminate\Database\Eloquent\Factories\</span><span style="color: #4EC9B0">HasFactory</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> Illuminate\Database\Eloquent\</span><span style="color: #4EC9B0">Model</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Model</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">protected</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">$fillable</span><span style="color: #D4D4D4"> = [</span><span style="color: #CE9178">&#39;title&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;description&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;user_id&#39;</span><span style="color: #D4D4D4">];</span></span></code></pre></div>



<p>Here&#8217;s an example of the data that this endpoint is returning when we create a new template.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">JSON</span><span role="button" tabindex="0" data-code="{
    &quot;template&quot;: {
        &quot;id&quot;: 99,
        &quot;title&quot;: &quot;A Test Template&quot;,
        &quot;description&quot;: &quot;&quot;,
        &quot;created_at&quot;: &quot;2025-01-13T12:00:00.000000Z&quot;,
        &quot;last_used&quot;: &quot;2025-01-13T12:00:00.000000Z&quot;,
        &quot;records&quot;: 0
    },
    &quot;flash&quot;: {
        &quot;success&quot;: {
            &quot;data&quot;: {
                &quot;id&quot;: 99,
                &quot;title&quot;: &quot;A Test Template&quot;
            }
        }
    }
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">&quot;template&quot;</span><span style="color: #D4D4D4">: {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">&quot;id&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #B5CEA8">99</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">&quot;title&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">&quot;A Test Template&quot;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">&quot;description&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">&quot;&quot;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">&quot;created_at&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">&quot;2025-01-13T12:00:00.000000Z&quot;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">&quot;last_used&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">&quot;2025-01-13T12:00:00.000000Z&quot;</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">&quot;records&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #B5CEA8">0</span></span>
<span class="line"><span style="color: #D4D4D4">    },</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">&quot;flash&quot;</span><span style="color: #D4D4D4">: {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">&quot;success&quot;</span><span style="color: #D4D4D4">: {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">&quot;data&quot;</span><span style="color: #D4D4D4">: {</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">&quot;id&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #B5CEA8">99</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">&quot;title&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">&quot;A Test Template&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">            }</span></span>
<span class="line"><span style="color: #D4D4D4">        }</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<h4 class="wp-block-heading">Connect the dialog save to the new route</h4>



<p>We&#8217;re going to use the <a href="https://axios-http.com/docs/intro" target="_blank" rel="noreferrer noopener nofollow">Axios library</a> to make our POST call, saving the data for our new template. If everything goes well, we&#8217;ll hide the dialog and clear out the form. If there is an error, we&#8217;ll pass it to the form so it can be displayed and (hopefully) fixed by the user.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">JavaScript</span><span role="button" tabindex="0" data-code="// Save the template
const createTemplate = () =&gt; {
    axios.post('/templates', { title: form.value.title })
        .then(response =&gt; {
            // Clean up the form
            showDialog.value = false;
            form.value.title = '';
        })
        .catch(error =&gt; {
            form.value.errors = error.response.data.errors;
        });
};" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">// Save the template</span></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">createTemplate</span><span style="color: #D4D4D4"> = () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">axios</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">post</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;/templates&#39;</span><span style="color: #D4D4D4">, { </span><span style="color: #9CDCFE">title:</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">form</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4"> })</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        .</span><span style="color: #DCDCAA">then</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #6A9955">// Clean up the form</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">showDialog</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">form</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        })</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        .</span><span style="color: #DCDCAA">catch</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">error</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">form</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">errors</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">error</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">data</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">errors</span><span style="color: #D4D4D4">;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        });</span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span></code></pre></div>



<h4 class="wp-block-heading">Add the new template to the list display</h4>



<p>This is an easy change! When we get a successful save response, we just add the returned template data to the top of the list of templates, which triggers an automatic update of the displayed table.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">JavaScript</span><span role="button" tabindex="0" data-code="// Save the template
const createTemplate = () =&gt; {
    axios.post('/templates', { title: form.value.title })
        .then(response =&gt; {
            // Clean up the form
            showDialog.value = false;
            form.value.title = '';

            // Add the new template to the top of the list
            templates.value.unshift(response.data.template);
        })
        .catch(error =&gt; {
            form.value.errors = error.response.data.errors;
        });
};" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">// Save the template</span></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">createTemplate</span><span style="color: #D4D4D4"> = () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">axios</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">post</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;/templates&#39;</span><span style="color: #D4D4D4">, { </span><span style="color: #9CDCFE">title:</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">form</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4"> })</span></span>
<span class="line"><span style="color: #D4D4D4">        .</span><span style="color: #DCDCAA">then</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #6A9955">// Clean up the form</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">showDialog</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">form</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #6A9955">// Add the new template to the top of the list</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">templates</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">unshift</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">data</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">        })</span></span>
<span class="line"><span style="color: #D4D4D4">        .</span><span style="color: #DCDCAA">catch</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">error</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">form</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">errors</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">error</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">data</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">errors</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        });</span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span></code></pre></div>



<h4 class="wp-block-heading" id="flashmsg">Add a flash message for the created template</h4>



<p>A flash message is a brief message, intended to communicate status or display a dismissible message. In our case, we&#8217;re going to add a flash message just above the table to show that the template was created, and give a link to edit it.</p>



<p>To do this, we&#8217;re going to set up a variable to hold the flash information (line 2), and a small function to get rid of it when the user dismisses it (line 3).</p>



<p>We&#8217;ll also need <a href="https://vuejs.org/guide/essentials/watchers">Vue&#8217;s <code>watch()</code> function</a> (line 2), to keep an eye on the flash value and update the UI when it changes (line 10-18).</p>



<p>Finally, we need to update the flash value with the information we get back from the API call (line 32-35). Since we set up the watch on line 10, changing this value will immediately update the interface.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;script setup&gt;
import { ref, watch } from 'vue';

...

// Check for and handle the flash message
const flash = ref(null);
const dismissFlash = () =&gt; {flash.value = null;};

watch(
    () =&gt; page.props.flash?.success,
    (newFlash) =&gt; {
        if (newFlash) {
            flash.value = newFlash;
        }
    },
    { immediate: true }
);

// Save the template
const createTemplate = () =&gt; {
    axios.post('/templates', { title: form.value.title })
        .then(response =&gt; {
            // Clean up the form
            showDialog.value = false;
            form.value.title = '';

            // Add the new template to the list
            templates.value.unshift(response.data.template);

            // Trigger our flash message
            flash.value = {
                message: response.data.message,
                data: response.data.template
            };
        })
        .catch(error =&gt; {
            form.value.errors = error.response.data.errors;
        });
};" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">script</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">setup</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> { </span><span style="color: #9CDCFE">ref</span><span style="color: #D4D4D4">, </span><span style="color: #9CDCFE">watch</span><span style="color: #D4D4D4"> } </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;vue&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">...</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// Check for and handle the flash message</span></span>
<span class="line cbp-line-highlight"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #4FC1FF">flash</span><span style="color: #D4D4D4"> = </span><span style="color: #DCDCAA">ref</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">null</span><span style="color: #D4D4D4">);</span></span>
<span class="line cbp-line-highlight"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">dismissFlash</span><span style="color: #D4D4D4"> = () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span><span style="color: #9CDCFE">flash</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">null</span><span style="color: #D4D4D4">;};</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #DCDCAA">watch</span><span style="color: #D4D4D4">(</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">page</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">props</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">flash</span><span style="color: #D4D4D4">?.</span><span style="color: #9CDCFE">success</span><span style="color: #D4D4D4">,</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    (</span><span style="color: #9CDCFE">newFlash</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">if</span><span style="color: #D4D4D4"> (</span><span style="color: #9CDCFE">newFlash</span><span style="color: #D4D4D4">) {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">flash</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">newFlash</span><span style="color: #D4D4D4">;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        }</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    },</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    { </span><span style="color: #9CDCFE">immediate:</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">true</span><span style="color: #D4D4D4"> }</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// Save the template</span></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">createTemplate</span><span style="color: #D4D4D4"> = () </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">axios</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">post</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;/templates&#39;</span><span style="color: #D4D4D4">, { </span><span style="color: #9CDCFE">title:</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">form</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4"> })</span></span>
<span class="line"><span style="color: #D4D4D4">        .</span><span style="color: #DCDCAA">then</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #6A9955">// Clean up the form</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">showDialog</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> = </span><span style="color: #569CD6">false</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">form</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4"> = </span><span style="color: #CE9178">&#39;&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #6A9955">// Add the new template to the list</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">templates</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">unshift</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">data</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #6A9955">// Trigger our flash message</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">flash</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4"> = {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">message:</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">data</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">message</span><span style="color: #D4D4D4">,</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">data:</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">data</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">template</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            };</span></span>
<span class="line"><span style="color: #D4D4D4">        })</span></span>
<span class="line"><span style="color: #D4D4D4">        .</span><span style="color: #DCDCAA">catch</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">error</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #9CDCFE">form</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">errors</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">error</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">response</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">data</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">errors</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #D4D4D4">        });</span></span>
<span class="line"><span style="color: #D4D4D4">};</span></span></code></pre></div>



<p>In reviewing this task, the notification was specified to include two buttons: &#8220;Add Data&#8221; and &#8220;Edit Template&#8221;. In getting to the requirement, we&#8217;ve spotted <em>one</em> problem however&#8230; because the template doesn&#8217;t have any defined data fields, we can&#8217;t actually add any data to it.</p>



<p>If there were stakeholders, we&#8217;d have a quick chat with them before removing this button from the final implementation. Where I&#8217;m solo, I had a conversation with myself, and I approved this change.</p>



<p>Finally, below, you can see the UI code to handle the flash message, attached to a <code>v-if</code> directive that watches the value we set above. Using the data in the <code>flash.data</code>, we can set up the message and button to edit (for now, just showing an alert message).</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;template&gt; &lt;!-- Ignore this line, it's just so the formatter shows the right colors --&gt;

&lt;div class=&quot;bg-white dark:bg-gray-800 overflow-x-auto shadow-xl sm:rounded-lg&quot;&gt;
    &lt;div v-if=&quot;flash&quot; class=&quot;ilf_success&quot;&gt;
        &lt;span class=&quot;block sm:inline&quot;&gt;
            Successfully created new template &quot;{{ flash.data.title }}&quot;
            &lt;button 
                class=&quot;edit&quot; 
                @click=&quot;btnClick(`Edit Template ${flash.data.id}`)&quot;
            &gt;Edit Template&lt;/button&gt;
        &lt;/span&gt;
        &lt;button @click=&quot;dismissFlash&quot; class=&quot;close&quot;&gt;
            &lt;span class=&quot;text-2xl&quot;&gt;×&lt;/span&gt;
        &lt;/button&gt;
    &lt;/div&gt;

    &lt;table v-if=&quot;templates.length&quot; class=&quot;style01&quot;&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955">&lt;!-- Ignore this line, it&#39;s just so the formatter shows the right colors --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;bg-white dark:bg-gray-800 overflow-x-auto shadow-xl sm:rounded-lg&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-if</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;flash&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;ilf_success&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">span</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;block sm:inline&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            Successfully created new template &quot;{{ flash.data.title }}&quot;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #D4D4D4"> </span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;edit&quot;</span><span style="color: #D4D4D4"> </span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                </span><span style="color: #9CDCFE">@click</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;btnClick(`Edit Template ${flash.data.id}`)&quot;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Edit Template</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">span</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">@click</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;dismissFlash&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;close&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">span</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;text-2xl&quot;</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">×</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">span</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">table</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-if</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;templates.length&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;style01&quot;</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>With all that wired up, let&#8217;s have a look at the completed page!</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="247" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-11-1024x247.png" alt="" class="wp-image-785" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-11-1024x247.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-11-300x72.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-11-768x185.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-11.png 1237w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></figure>



<p>Comparing it to the wireframe, it seems we got reasonably close.</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="287" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-12-1024x287.png" alt="" class="wp-image-786" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-12-1024x287.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-12-300x84.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-12-768x215.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-12-1536x431.png 1536w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-12.png 1562w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></figure>



<h4 class="wp-block-heading">The Last Little Tweak</h4>



<p>We&#8217;re going to make one final ease-of-use fix. We don&#8217;t yet have this template tool linked, and I&#8217;ve had to keep navigating to it via URL. Let&#8217;s make a little change to add a link to this page in the main template <code>AppLayout.vue</code>.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;template&gt; &lt;!-- Ignore this line, it's just so the formatter shows the right colors --&gt;

&lt;!-- Navigation Links --&gt;
&lt;div class=&quot;hidden space-x-8 sm:-my-px sm:ms-10 sm:flex&quot;&gt;
    &lt;NavLink :href=&quot;route('dashboard')&quot; :active=&quot;route().current('dashboard')&quot;&gt;
        Dashboard
    &lt;/NavLink&gt;
    &lt;NavLink :href=&quot;route('templates.index')&quot; :active=&quot;route().current('templates.index')&quot;&gt;
        Templates
    &lt;/NavLink&gt;
&lt;/div&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955">&lt;!-- Ignore this line, it&#39;s just so the formatter shows the right colors --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">&lt;!-- Navigation Links --&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;hidden space-x-8 sm:-my-px sm:ms-10 sm:flex&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #F44747">NavLink</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">:href</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;route(&#39;dashboard&#39;)&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">:active</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;route().current(&#39;dashboard&#39;)&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        Dashboard</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #F44747">NavLink</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #F44747">NavLink</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">:href</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;route(&#39;templates.index&#39;)&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">:active</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;route().current(&#39;templates.index&#39;)&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        Templates</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #F44747">NavLink</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>All we had to do was copy the existing link, and update the referenced route and templates. As you may recall from earlier, we&#8217;re using <a href="https://laravel.com/docs/11.x/controllers#actions-handled-by-resource-controllers" target="_blank" rel="noreferrer noopener nofollow">Laravel&#8217;s resource controller function</a>, which give us both default handlers in our controller and a default route structure.</p>



<p>This little change gives us a handy link to our tool!</p>



<figure class="wp-block-image aligncenter size-full"><img loading="lazy" decoding="async" width="398" height="244" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-13.png" alt="" class="wp-image-788" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-13.png 398w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-13-300x184.png 300w" sizes="auto, (max-width: 398px) 100vw, 398px" /></figure>



<h2 class="wp-block-heading">Commit And Merge</h2>



<p>Today&#8217;s branch name is <code>US1-C3_build_add_template_dialog</code>, and it&#8217;s going into <a href="https://github.com/bendauphinee/tailgunner/pull/4">this pull request</a>, and merged <a href="https://github.com/bendauphinee/tailgunner/commit/202d583ce6bae28444bdf1e2cdcdc6c9dda0fec8">in this commit</a>. I&#8217;ve also created some unit tests for the above work, and a new testing configuration. One note I want to make about PR size (which I&#8217;ve <a href="https://bendauphinee.com/writing/2025/01/07/an-app-from-scratch-part-6-creating-db-tables-us1-c1/#prsize" data-type="post" data-id="614" target="_blank" rel="noreferrer noopener">talked about previously</a>) is that this one is on the larger side of what I would consider acceptable to send to a reviewer.</p>



<h4 class="wp-block-heading">The Pull Request</h4>



<p>I&#8217;ve changed 9 files, and about 350 lines of code. To me, the best way to break this up would have been to:</p>



<ul class="wp-block-list">
<li>Submit the non-critical change separately (adding a test environment, adding a link to the page, even the model adjustment if done before the main code).</li>



<li>Break up the functional changes into pieces. Some possible break points are:
<ul class="wp-block-list">
<li>once we had the Add New Template button.</li>



<li>again after we&#8217;d added the route.</li>



<li>before we added the flash message.</li>



<li>a final one to capture any other changes to the code.</li>
</ul>
</li>
</ul>



<p>This separation would allow code to stream into the main branch faster and earlier, and would make reviewing each PR review shorter and easier. That said, this size of PR isn&#8217;t unreasonable either, because it gives a complete overview of the feature, but it would take a reviewer longer to process.</p>



<h4 class="wp-block-heading">A New Test Environment</h4>



<p>One of the things that was annoying me was every time I ran the test suite, it would wipe all my development data, since it was using the same database. To fix that, I added a new testing database, which I added to my PHPUnit config, and created a new .env file for.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">phpunit.xml</span><span role="button" tabindex="0" data-code="        &lt;env name=&quot;TELESCOPE_ENABLED&quot; value=&quot;false&quot;/&gt;

        &lt;env name=&quot;DB_DATABASE&quot; value=&quot;tailgunner_testing&quot;/&gt;
        &lt;env name=&quot;DB_CONNECTION&quot; value=&quot;mysql&quot;/&gt;
    &lt;/php&gt;
&lt;/phpunit&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">env</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;TELESCOPE_ENABLED&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;false&quot;</span><span style="color: #808080">/&gt;</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">env</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;DB_DATABASE&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;tailgunner_testing&quot;</span><span style="color: #808080">/&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">env</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">name</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;DB_CONNECTION&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">value</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;mysql&quot;</span><span style="color: #808080">/&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">php</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">phpunit</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">.env.testing</span><span role="button" tabindex="0" data-code="# Database setup for test environment
DB_CONNECTION=mysql
DB_HOST=127.0.0.1
DB_PORT=3306
DB_DATABASE=tailgunner_testing
DB_USERNAME=root
DB_PASSWORD=" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># Database setup for test environment</span></span>
<span class="line"><span style="color: #9CDCFE">DB_CONNECTION</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">mysql</span></span>
<span class="line"><span style="color: #9CDCFE">DB_HOST</span><span style="color: #D4D4D4">=</span><span style="color: #B5CEA8">127.0</span><span style="color: #CE9178">.0.1</span></span>
<span class="line"><span style="color: #9CDCFE">DB_PORT</span><span style="color: #D4D4D4">=</span><span style="color: #B5CEA8">3306</span></span>
<span class="line"><span style="color: #9CDCFE">DB_DATABASE</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">tailgunner_testing</span></span>
<span class="line"><span style="color: #9CDCFE">DB_USERNAME</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">root</span></span>
<span class="line"><span style="color: #9CDCFE">DB_PASSWORD</span><span style="color: #D4D4D4">=</span></span></code></pre></div>



<p>With these small changes, I can now run the tests against a specific testing database. (<code>--env</code> is to specify the environment, while <code>--filter</code> is to just run the one suite of tests.)</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="$ php artisan test --env=testing --filter TemplateControllerTest

   PASS  Tests\Unit\Controllers\TemplateControllerTest
  ✓ index returns user templates                    13.38s
  ✓ store creates new template                       0.24s
  ✓ store validates title length                     0.07s
  ✓ store validates empty title                      0.13s
  ✓ index requires authentication                    0.11s
  ✓ store requires authentication                    0.12s
  ✓ store returns correctly formatted response       0.15s

  Tests:    7 passed (48 assertions)
  Duration: 14.35s" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">php</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">artisan</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">test</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--env=testing</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--filter</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">TemplateControllerTest</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">   </span><span style="color: #DCDCAA">PASS</span><span style="color: #D4D4D4">  </span><span style="color: #CE9178">Tests</span><span style="color: #D7BA7D">\U</span><span style="color: #CE9178">nit</span><span style="color: #D7BA7D">\C</span><span style="color: #CE9178">ontrollers</span><span style="color: #D7BA7D">\T</span><span style="color: #CE9178">emplateControllerTest</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">✓</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">index</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">returns</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">user</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">templates</span><span style="color: #D4D4D4">                    </span><span style="color: #B5CEA8">13.38</span><span style="color: #CE9178">s</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">✓</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">store</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">creates</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">new</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">template</span><span style="color: #D4D4D4">                       </span><span style="color: #B5CEA8">0.24</span><span style="color: #CE9178">s</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">✓</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">store</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">validates</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">title</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">length</span><span style="color: #D4D4D4">                     </span><span style="color: #B5CEA8">0.07</span><span style="color: #CE9178">s</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">✓</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">store</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">validates</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">empty</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">title</span><span style="color: #D4D4D4">                      </span><span style="color: #B5CEA8">0.13</span><span style="color: #CE9178">s</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">✓</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">index</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">requires</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">authentication</span><span style="color: #D4D4D4">                    </span><span style="color: #B5CEA8">0.11</span><span style="color: #CE9178">s</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">✓</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">store</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">requires</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">authentication</span><span style="color: #D4D4D4">                    </span><span style="color: #B5CEA8">0.12</span><span style="color: #CE9178">s</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">✓</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">store</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">returns</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">correctly</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">formatted</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">response</span><span style="color: #D4D4D4">       </span><span style="color: #B5CEA8">0.15</span><span style="color: #CE9178">s</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">Tests:</span><span style="color: #D4D4D4">    </span><span style="color: #B5CEA8">7</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">passed</span><span style="color: #D4D4D4"> (48 </span><span style="color: #CE9178">assertions</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">Duration:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">14.35</span><span style="color: #CE9178">s</span></span></code></pre></div>



<h2 class="wp-block-heading">Wrapping Up</h2>



<p>At the end of this post, we&#8217;ve shown the process of creating a new interactive element, and touched on some code organization lessons along the way. We&#8217;re starting to get a feel for the structure of our app, and how all the pieces connect together.</p>



<p>The work for today&#8217;s post took longer than expected. Initially, I had figured this would take an hour or two, but the biggest challenge that derailed me was working out how best to connect the create dialog to the backend API (the initial model I had in my head turned out to be wrong, so I lost a few hours learning and working out how to connect things properly).</p>



<p>This is one of the fun things about engineering and why estimates are not as precise as we&#8217;d like them to be. Overall, I spent about a half-day writing the code, and another few hours organizing and writing this post.</p>



<p>With that, I hope you learned something new! Look for the next part soon: <a href="https://bendauphinee.com/writing/2025/01/17/an-app-from-scratch-part-9-setting-up-our-production-server-and-deployment-us1-c4/">Setting up our production server and deployment (US1-C4)</a></p>



<p>Let me know what you think of how the tool looks, or anything else from this post!</p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2025/01/14/an-app-from-scratch-part-8-creating-new-templates-tool-us1-c3/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>An App From Scratch: Part 7 – Creating The Template List Page (US1-C2)</title>
		<link>https://bendauphinee.com/writing/2025/01/09/an-app-from-scratch-part-7-creating-the-template-list-page-us1-c2/</link>
					<comments>https://bendauphinee.com/writing/2025/01/09/an-app-from-scratch-part-7-creating-the-template-list-page-us1-c2/#respond</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Thu, 09 Jan 2025 21:12:08 +0000</pubDate>
				<category><![CDATA[Software Engineering]]></category>
		<category><![CDATA[dependabot]]></category>
		<category><![CDATA[github]]></category>
		<category><![CDATA[laravel]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[software]]></category>
		<category><![CDATA[tailwindcss]]></category>
		<category><![CDATA[vuejs]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=660</guid>

					<description><![CDATA[14 minute reading time; ~2600 words Welcome and hello! Today, we&#8217;re going to create a template list page! Along the way, I&#8217;m going to show how we break down this more complex card, interpreting the wireframe into pieces of work, and how we get from start to finish. We&#8217;ll also explore how to efficiently style [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">14 minute reading time; ~2600 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Welcome and hello!</p>



<p>Today, we&#8217;re going to create a template list page!</p>



<p>Along the way, I&#8217;m going to show how we break down this more complex card, interpreting the wireframe into pieces of work, and how we get from start to finish. We&#8217;ll also explore how to efficiently style our page, and get to an end product that will let our stakeholders start to see the shape of the feature we&#8217;re building.</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">What Do I See?</h2>



<p>Today&#8217;s card seems simple at first glance, but the details link to a mockup, which suggests there&#8217;s more work expected.</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-95f6958ffcabc8cc60f61655bf8163b1 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-contrast-color has-accent-3-background-color has-text-color has-background has-link-color wp-elements-83bbfd4638157ea6a53a4ed354de16ed" style="padding-top:0;padding-right:0.3rem;padding-bottom:0;padding-left:0.3rem"><strong>Card</strong>: US1-C2</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-4bf8fa03559180f6a65d7015bc498d5b" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Title</h4>



<p>Create template list page</p>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-208c9d0f6b2264867b69c2622d7d9968" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Type</h4>



<p>Story</p>
</div>
</div>



<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-c2d2f57ca0c39c3684d432537b97ceee" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Description</h4>



<p class="has-medium-font-size">As a business owner, I want a page that will list all templates I own, so that I can manage and work with them.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>A tool exists to list all templates the business owner is allowed to see.</li>
</ul>



<p><strong>Details</strong></p>



<ul class="wp-block-list">
<li>Create a page to list the templates: <a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-scaled.jpeg" target="_blank" rel="noreferrer noopener" data-rel="lightbox-gallery-pRYhcndQ" data-rl_title="" data-rl_caption="" title="">Mockup</a></li>
</ul>
</div>



<h3 class="wp-block-heading">What I Need To Do</h3>



<p>Let&#8217;s break it down into tasks.</p>



<ul class="wp-block-list">
<li>Create a new route to show our template list</li>



<li>Create a new controller to list the items and show an Inertia page
<ul class="wp-block-list">
<li>Create an Inertia page using Vue.js</li>
</ul>
</li>



<li>Make the Inertia page work like the wireframe
<ul class="wp-block-list">
<li>Make sure I have all the data elements loaded</li>



<li>Add some buttons</li>



<li>Figure out how to create relative dates</li>



<li>Style the page</li>



<li>Make the buttons pop up an alert for what they do</li>
</ul>
</li>
</ul>



<h2 class="wp-block-heading">Putting It Into Action</h2>



<h4 class="wp-block-heading" id="newroute">Create a new route to show our template list</h4>



<p>First thing&#8217;s first, we need a route to let us access the template list page. There are two methods to do this. Method 1 means you will have to explicitly specify every single route setup that you want, but it&#8217;s more flexible for uncommon routes, while Method 2 is <a href="https://laravel.com/docs/11.x/controllers#actions-handled-by-resource-controllers">a more elegant way for the most common REST access methods</a>.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="// Method 1
Route::get('/templates', [TemplateController::class, 'index'])-&gt;name('templates.index');

// Method 2
Route::resource('/templates', TemplateController::class)-&gt;only(['index']);" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">// Method 1</span></span>
<span class="line"><span style="color: #4EC9B0">Route</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">get</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;/templates&#39;</span><span style="color: #D4D4D4">, [</span><span style="color: #4EC9B0">TemplateController</span><span style="color: #D4D4D4">::</span><span style="color: #569CD6">class</span><span style="color: #D4D4D4">, </span><span style="color: #CE9178">&#39;index&#39;</span><span style="color: #D4D4D4">])-&gt;</span><span style="color: #DCDCAA">name</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;templates.index&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">// Method 2</span></span>
<span class="line"><span style="color: #4EC9B0">Route</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">resource</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;/templates&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #4EC9B0">TemplateController</span><span style="color: #D4D4D4">::</span><span style="color: #569CD6">class</span><span style="color: #D4D4D4">)-&gt;</span><span style="color: #DCDCAA">only</span><span style="color: #D4D4D4">([</span><span style="color: #CE9178">&#39;index&#39;</span><span style="color: #D4D4D4">]);</span></span></code></pre></div>



<h4 class="wp-block-heading">Create a new controller to list the items and show an Inertia page</h4>



<p>Now that we have a route, we get to update our controller! Remember in the last post, <a href="https://bendauphinee.com/writing/2025/01/07/an-app-from-scratch-part-6-creating-db-tables-us1-c1/#newmigrationsandmodels" data-type="post" data-id="614" target="_blank" rel="noreferrer noopener">we created an empty controller along with our model</a>, and now it&#8217;s time to make it do something.</p>



<p>The code we&#8217;re adding here will load up a list of templates, modify it with some fields we don&#8217;t have the data for yet (<a href="https://laravel.com/docs/11.x/collections#method-transform" target="_blank" rel="noreferrer noopener nofollow">using the <code>transform()</code> method</a>), and then pass the whole thing back to the user along with the <a href="https://inertiajs.com/pages" target="_blank" rel="noreferrer noopener nofollow">Inertia page</a> to render it.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="&lt;?php

namespace App\Http\Controllers;

use App\Models\Template;
use Illuminate\Http\Request;
use Inertia\Inertia;

class TemplateController extends Controller
{
    public function index()
    {
        /**
         * Get the template data, and modify it to include the fields that
         * we're going to fetch later when we make the actual table to store
         * the data entered in a template.
         */
        $templates = Template::query()
            -&gt;where('user_id', auth()-&gt;id())
            -&gt;get()
            -&gt;transform(function($template) {
                return [
                    'id' =&gt; $template-&gt;id,
                    'title' =&gt; $template-&gt;title,
                    'description' =&gt; $template-&gt;description,
                    'created_at' =&gt; $template-&gt;created_at,

                    // Fake these fields for now
                    'last_used' =&gt; $template-&gt;created_at-&gt;addDay(),
                    'records' =&gt; rand(20, 100),
                ];
            });

        // Send back the Inertia template and template data
        return Inertia::render('Templates/Index', [
            'templates' =&gt; $templates
        ]);
    }
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">&lt;?php</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">namespace</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">App\Http\Controllers</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> App\Models\</span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> Illuminate\Http\</span><span style="color: #4EC9B0">Request</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> Inertia\</span><span style="color: #4EC9B0">Inertia</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">TemplateController</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Controller</span></span>
<span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">index</span><span style="color: #D4D4D4">()</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">/**</span></span>
<span class="line cbp-line-highlight"><span style="color: #6A9955">         * Get the template data, and modify it to include the fields that</span></span>
<span class="line cbp-line-highlight"><span style="color: #6A9955">         * we&#39;re going to fetch later when we make the actual table to store</span></span>
<span class="line cbp-line-highlight"><span style="color: #6A9955">         * the data entered in a template.</span></span>
<span class="line cbp-line-highlight"><span style="color: #6A9955">         */</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #9CDCFE">$templates</span><span style="color: #D4D4D4"> = </span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">query</span><span style="color: #D4D4D4">()</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            -&gt;</span><span style="color: #DCDCAA">where</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;user_id&#39;</span><span style="color: #D4D4D4">, </span><span style="color: #DCDCAA">auth</span><span style="color: #D4D4D4">()-&gt;</span><span style="color: #DCDCAA">id</span><span style="color: #D4D4D4">())</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            -&gt;</span><span style="color: #DCDCAA">get</span><span style="color: #D4D4D4">()</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            -&gt;</span><span style="color: #DCDCAA">transform</span><span style="color: #D4D4D4">(</span><span style="color: #569CD6">function</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">) {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> [</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                    </span><span style="color: #CE9178">&#39;id&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">id</span><span style="color: #D4D4D4">,</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                    </span><span style="color: #CE9178">&#39;title&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4">,</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                    </span><span style="color: #CE9178">&#39;description&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">description</span><span style="color: #D4D4D4">,</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                    </span><span style="color: #CE9178">&#39;created_at&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">created_at</span><span style="color: #D4D4D4">,</span></span>
<span class="line cbp-line-highlight"></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                    </span><span style="color: #6A9955">// Fake these fields for now</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                    </span><span style="color: #CE9178">&#39;last_used&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">created_at</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">addDay</span><span style="color: #D4D4D4">(),</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                    </span><span style="color: #CE9178">&#39;records&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #DCDCAA">rand</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">20</span><span style="color: #D4D4D4">, </span><span style="color: #B5CEA8">100</span><span style="color: #D4D4D4">),</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                ];</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            });</span></span>
<span class="line cbp-line-highlight"></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #6A9955">// Send back the Inertia template and template data</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Inertia</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">render</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;Templates/Index&#39;</span><span style="color: #D4D4D4">, [</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;templates&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #9CDCFE">$templates</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        ]);</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>Along with the controller code, we&#8217;re going to make an empty template list page, so that we can actually load the endpoint and see something. To do this, we&#8217;re just going to copy the Welcome page that the initial install provided us with, change the name and title, and leave a spot for us to add our data in later.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;script setup&gt;
import AppLayout from '@/Layouts/AppLayout.vue';
&lt;/script&gt;

&lt;template&gt;
    &lt;AppLayout title=&quot;Templates&quot;&gt;
        &lt;template #header&gt;
            &lt;h2 class=&quot;font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight&quot;&gt;
                Templates
            &lt;/h2&gt;
        &lt;/template&gt;

        &lt;div class=&quot;py-1&quot;&gt;
            &lt;div class=&quot;max-w-7xl mx-auto sm:px-6 lg:px-8&quot;&gt;
                &lt;div class=&quot;bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg&quot;&gt;
                    A list of templates
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/AppLayout&gt;
&lt;/template&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">script</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">setup</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">AppLayout</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;@/Layouts/AppLayout.vue&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">script</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #F44747">AppLayout</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">title</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;Templates&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #D4D4D4"> #</span><span style="color: #9CDCFE">header</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">h2</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                Templates</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">h2</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;py-1&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;max-w-7xl mx-auto sm:px-6 lg:px-8&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;bg-white dark:bg-gray-800 overflow-hidden shadow-xl sm:rounded-lg&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">                    A list of templates</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #F44747">AppLayout</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>At this point, everything should be working! Here&#8217;s what the page looks like now:</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="196" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-1024x196.png" alt="" class="wp-image-705" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-1024x196.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-300x57.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-768x147.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image.png 1227w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></figure>



<h4 class="wp-block-heading">Make the Inertia page work like the wireframe</h4>



<p>Now that we have a basic working page, let&#8217;s get the data properly loaded into it, and add various UI elements and formatting.</p>



<ul style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--30);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--30)" class="wp-block-list has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-b1eb89394ff5b2fdd79a7746655e53d4">
<li>Make sure I have all the data elements loaded</li>



<li>Add some buttons</li>
</ul>



<p>First, we need to update our page to access the properties we&#8217;re passing back from the controller.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;script setup&gt;
import AppLayout from '@/Layouts/AppLayout.vue';

defineProps({
    templates: Object
});
&lt;/script&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">script</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">setup</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">AppLayout</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;@/Layouts/AppLayout.vue&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #DCDCAA">defineProps</span><span style="color: #D4D4D4">({</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">templates:</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Object</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">});</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">script</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>Next, we&#8217;re going to replace our placeholder text &#8220;A list of templates&#8221; with an actual list of templates. We&#8217;ll add a table if there are any templates for this user (line 3), or display a message if not (line 33).</p>



<p>Inside the table, we&#8217;ll have to loop over the templates data structure to generate each row of the table (line 15). This simple table will give our page some basic structure, and show us the data so we can further tune the list. I&#8217;ve also added some basic buttons that we can play with as we get deeper into this card.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;template&gt; &lt;!-- Ignore this line, it's just so the formatter shows the right colors --&gt;

&lt;table v-if=&quot;templates.length&quot;&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;Template Name&lt;/th&gt;
            &lt;th&gt;Description&lt;/th&gt;
            &lt;th&gt;Created&lt;/th&gt;
            &lt;th&gt;Last Used&lt;/th&gt;
            &lt;th&gt;Records&lt;/th&gt;
            &lt;th&gt;Template&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        &lt;tr v-for=&quot;template in templates&quot; :key=&quot;template.id&quot;&gt;
            &lt;td&gt;{{ template.title }}&lt;/td&gt;
            &lt;td&gt;{{ template.description }}&lt;/td&gt;
            &lt;td&gt;{{ template.created_at }}&lt;/td&gt;
            &lt;td&gt;{{ template.last_used }}&lt;/td&gt;
            &lt;td&gt;
                {{ template.records }} Entries
                &lt;button&gt;Add Record&lt;/button&gt;
                &lt;button&gt;View Records&lt;/button&gt;
            &lt;/td&gt;
            &lt;td&gt;
                &lt;button&gt;Edit&lt;/button&gt;
                &lt;button&gt;Delete&lt;/button&gt;
                &lt;button&gt;Clone&lt;/button&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;
&lt;div v-else&gt;
    No templates found.
&lt;/div&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955">&lt;!-- Ignore this line, it&#39;s just so the formatter shows the right colors --&gt;</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #808080">&lt;</span><span style="color: #569CD6">table</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-if</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;templates.length&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">thead</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">tr</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Template Name</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Description</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Created</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Last Used</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Records</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Template</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">tr</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">thead</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">tbody</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">tr</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-for</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;template in templates&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">:key</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;template.id&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ template.title }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ template.description }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ template.created_at }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ template.last_used }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                {{ template.records }} Entries</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Add Record</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">View Records</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Edit</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Delete</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Clone</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">tr</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">tbody</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">table</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #808080">&lt;</span><span style="color: #569CD6">div</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-else</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    No templates found.</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">div</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>Now that we have all the elements lined up in a table, and populated with data, let&#8217;s make the user experience better!</p>



<ul style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--30);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--30)" class="wp-block-list has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-b8838ba297f212e6c2f5c29224c9dde1">
<li>Figure out how to create relative dates</li>
</ul>



<p>It&#8217;s a lot easier to read a relative date, so we&#8217;re going to add a formatter for this. I&#8217;d still like to have the date available if they hover over it as well, in case they need to know exactly when something was done.</p>



<p>For this formatting, we&#8217;re going to use <a href="https://day.js.org/" target="_blank" rel="noreferrer noopener nofollow">Day.js</a> (a modern date handling Javascript library). First we&#8217;ll install it:</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="npm install dayjs" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">npm</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">install</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">dayjs</span></span></code></pre></div>



<p>Then we&#8217;ll need to add it to our setup code. Along with this, we&#8217;re going to add a few shortcut functions for use in our template.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;script setup&gt;
import AppLayout from '@/Layouts/AppLayout.vue';

import dayjs from 'dayjs';
import relativeTime from 'dayjs/plugin/relativeTime';
import advancedFormat from 'dayjs/plugin/advancedFormat';

dayjs.extend(relativeTime);
dayjs.extend(advancedFormat);

defineProps({
    templates: Object
});

const relDate = (date) =&gt; dayjs(date).fromNow();
const formatDate = (date) =&gt; dayjs(date).format('YYYY-MM-DD HH:mm:ss Z');
&lt;/script&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">script</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">setup</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">AppLayout</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;@/Layouts/AppLayout.vue&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">dayjs</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;dayjs&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line cbp-line-highlight"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">relativeTime</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;dayjs/plugin/relativeTime&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line cbp-line-highlight"><span style="color: #C586C0">import</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">advancedFormat</span><span style="color: #D4D4D4"> </span><span style="color: #C586C0">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;dayjs/plugin/advancedFormat&#39;</span><span style="color: #D4D4D4">;</span></span>
<span class="line cbp-line-highlight"></span>
<span class="line cbp-line-highlight"><span style="color: #9CDCFE">dayjs</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">extend</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">relativeTime</span><span style="color: #D4D4D4">);</span></span>
<span class="line cbp-line-highlight"><span style="color: #9CDCFE">dayjs</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">extend</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">advancedFormat</span><span style="color: #D4D4D4">);</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">defineProps</span><span style="color: #D4D4D4">({</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #9CDCFE">templates:</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">Object</span></span>
<span class="line"><span style="color: #D4D4D4">});</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">relDate</span><span style="color: #D4D4D4"> = (</span><span style="color: #9CDCFE">date</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">dayjs</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">date</span><span style="color: #D4D4D4">).</span><span style="color: #DCDCAA">fromNow</span><span style="color: #D4D4D4">();</span></span>
<span class="line cbp-line-highlight"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">formatDate</span><span style="color: #D4D4D4"> = (</span><span style="color: #9CDCFE">date</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">dayjs</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">date</span><span style="color: #D4D4D4">).</span><span style="color: #DCDCAA">format</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">&#39;YYYY-MM-DD HH:mm:ss Z&#39;</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">script</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>Now, let&#8217;s update our display code to show these dates. We&#8217;re going to use Vue&#8217;s dynamic binding to format the date and add it as a title property on our cells, and we&#8217;re also going to format our dates as relative ones.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;template&gt; &lt;!-- Ignore this line, it's just so the formatter shows the right colors --&gt;

&lt;tr v-for=&quot;template in templates&quot; :key=&quot;template.id&quot;&gt;
    &lt;td&gt;{{ template.title }}&lt;/td&gt;
    &lt;td&gt;{{ template.description }}&lt;/td&gt;
    &lt;td :title=&quot;formatDate(template.created_at)&quot;&gt;{{ relDate(template.created_at) }}&lt;/td&gt;
    &lt;td :title=&quot;formatDate(template.last_used)&quot;&gt;{{ relDate(template.last_used) }}&lt;/td&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955">&lt;!-- Ignore this line, it&#39;s just so the formatter shows the right colors --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">tr</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-for</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;template in templates&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">:key</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;template.id&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ template.title }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ template.description }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">:title</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;formatDate(template.created_at)&quot;</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ relDate(template.created_at) }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">:title</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;formatDate(template.last_used)&quot;</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ relDate(template.last_used) }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>With that cleaned up, let&#8217;s move on and make the UI easier to navigate!</p>



<ul style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--30);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--30)" class="wp-block-list has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-1d863b0930aed372567936bce99d68a1">
<li>Style the page</li>
</ul>



<p>Finally, we&#8217;re going to apply some styles to the page, to make it easier to read and work with, since what we have right now is a little&#8230; lacking in character.</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="341" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-1024x341.png" alt="" class="wp-image-712" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-1024x341.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-300x100.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-768x256.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-1536x511.png 1536w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2.png 1542w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></figure>



<p>We&#8217;re using <a href="https://tailwindcss.com/">Tailwindcss</a>, so we have a ton of easy selectors available out of the box. This also tends to be a little verbose if we want to change multiple properties however, so we&#8217;re going to modify the app.css file that comes with Laravel, and do some styling shortcuts, instead of repeating the styles over and over in the table code itself.</p>



<p>I&#8217;m going to create a style called <code>style01</code>, to use with my table, and write it so that I only have to add it to the table, and the elements inside will be adjusted as well.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">CSS</span><span role="button" tabindex="0" data-code="/* Set a style for the whole table. */
table.style01{
    @apply min-w-full bg-white border border-gray-300 rounded-md;
}

/* Set a style for any header cell. */
table.style01 thead th{
    @apply px-4 py-2 text-left text-gray-50 bg-gray-700 border-b-4;
}

/* Set a style for alternating rows in the table. */
table.style01 tbody tr:nth-child(even){
    @apply bg-gray-200;
}

/* Set a style for when someone hovers over a row. Order matters in CSS,
 * if this was before the alternating row color, it wouldn't work on the
 * gray rows.
 */
table.style01 tbody tr:hover{
    @apply bg-green-100;
}

/* Set a style to apply to each table body cell. */
table.style01 tbody td{
    @apply px-4 py-2 text-left text-gray-900 border-b;
}

/* Create a generic style for buttons inside this table. */
table.style01 button{
    @apply mx-1 px-3 py-1 text-xs text-white rounded bg-slate-400;
}

/* When we hover over the button, give it a different background to distinguish it. */
table.style01 button:hover{
    @apply bg-blue-800;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955">/* Set a style for the whole table. */</span></span>
<span class="line"><span style="color: #D7BA7D">table.style01</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply min-w-full bg-white </span><span style="color: #9CDCFE">border</span><span style="color: #D4D4D4"> border-gray-300 rounded-md;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/* Set a style for any header cell. */</span></span>
<span class="line"><span style="color: #D7BA7D">table.style01</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">thead</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">th</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply px-4 py-2 text-left text-gray-50 bg-gray-700 border-b-4;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/* Set a style for alternating rows in the table. */</span></span>
<span class="line"><span style="color: #D7BA7D">table.style01</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">tbody</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">tr:nth-child</span><span style="color: #D4D4D4">(even){</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply bg-gray-200;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/* Set a style for when someone hovers over a row. Order matters in CSS,</span></span>
<span class="line"><span style="color: #6A9955"> * if this was before the alternating row color, it wouldn&#39;t work on the</span></span>
<span class="line"><span style="color: #6A9955"> * gray rows.</span></span>
<span class="line"><span style="color: #6A9955"> */</span></span>
<span class="line"><span style="color: #D7BA7D">table.style01</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">tbody</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">tr:hover</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply bg-green-100;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/* Set a style to apply to each table body cell. */</span></span>
<span class="line"><span style="color: #D7BA7D">table.style01</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">tbody</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">td</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply px-4 py-2 text-left text-gray-900 border-b;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/* Create a generic style for buttons inside this table. */</span></span>
<span class="line"><span style="color: #D7BA7D">table.style01</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">button</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply mx-1 px-3 py-1 text-xs text-white rounded bg-slate-400;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955">/* When we hover over the button, give it a different background to distinguish it. */</span></span>
<span class="line"><span style="color: #D7BA7D">table.style01</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">button:hover</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply bg-blue-800;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>In addition to the breakdown I gave you there, let&#8217;s break down the first header cell style to give you an idea of what it does. (You can read more in the <a href="https://tailwindcss.com/docs" target="_blank" rel="noreferrer noopener nofollow">Tailwindcss docs</a> about what these do.)</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">CSS</span><span role="button" tabindex="0" data-code="table.style01 thead th{
    @apply px-4 py-2 text-left text-gray-600 font-medium border-b;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D7BA7D">table.style01</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">thead</span><span style="color: #D4D4D4"> </span><span style="color: #D7BA7D">th</span><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">    @apply px-4 py-2 text-left text-gray-600 font-medium border-b;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<figure class="wp-block-table"><table><thead><tr><th>Class Name</th><th>Effect</th></tr></thead><tbody><tr><td>px-4</td><td>Adds horizontal padding to the cell (1rem / 16px).</td></tr><tr><td>py-2</td><td>Adds vertical padding to the cell (0.5rem / 8px).</td></tr><tr><td>text-left</td><td>Explicitly aligns the text in the cell to the left.</td></tr><tr><td>text-gray-50</td><td>Sets the cell text color to a very light gray.</td></tr><tr><td>bg-gray-700</td><td>Sets the cell background color to dark gray.</td></tr><tr><td>border-b-4</td><td>Adds a border to the bottom of the cell (4px wide).</td></tr></tbody></table></figure>



<p>Now that we have our styles, let&#8217;s format our table and elements. As you can see below, all we have to do to affect the whole table is add the one style to it (line 3). I also noticed some of the text was squashed, so we&#8217;re going to add a <code>text-nowrap</code> to fix that where it matters most (lines 18, 22, 26).</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;template&gt; &lt;!-- Ignore this line, it's just so the formatter shows the right colors --&gt;

&lt;table v-if=&quot;templates.length&quot; class=&quot;style01&quot;&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;Template Name&lt;/th&gt;
            &lt;th&gt;Description&lt;/th&gt;
            &lt;th&gt;Created&lt;/th&gt;
            &lt;th&gt;Last Used&lt;/th&gt;
            &lt;th&gt;Records&lt;/th&gt;
            &lt;th&gt;Template&lt;/th&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
        &lt;tr v-for=&quot;template in templates&quot; :key=&quot;template.id&quot;&gt;
            &lt;td&gt;{{ template.title }}&lt;/td&gt;
            &lt;td&gt;{{ template.description }}&lt;/td&gt;
            &lt;td class=&quot;text-nowrap&quot; 
              :title=&quot;formatDate(template.created_at)&quot;&gt;
              {{ relDate(template.created_at) }}
            &lt;/td&gt;
            &lt;td class=&quot;text-nowrap&quot; 
              :title=&quot;formatDate(template.last_used)&quot;&gt;
              {{ relDate(template.last_used) }}
            &lt;/td&gt;
            &lt;td class=&quot;text-nowrap&quot;&gt;
                {{ template.records }} Entries&lt;br&gt;
                &lt;button&gt;Add Record&lt;/button&gt;&lt;br&gt;
                &lt;button&gt;View Records&lt;/button&gt;
            &lt;/td&gt;
            &lt;td&gt;
                &lt;button&gt;Edit&lt;/button&gt;
                &lt;button&gt;Delete&lt;/button&gt;
                &lt;button&gt;Clone&lt;/button&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">template</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #6A9955">&lt;!-- Ignore this line, it&#39;s just so the formatter shows the right colors --&gt;</span></span>
<span class="line"></span>
<span class="line cbp-line-highlight"><span style="color: #808080">&lt;</span><span style="color: #569CD6">table</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-if</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;templates.length&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;style01&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">thead</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">tr</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Template Name</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Description</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Created</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Last Used</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Records</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Template</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">th</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">tr</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">thead</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">tbody</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">tr</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">v-for</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;template in templates&quot;</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">:key</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;template.id&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ template.title }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">{{ template.description }}</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;text-nowrap&quot;</span><span style="color: #D4D4D4"> </span></span>
<span class="line"><span style="color: #D4D4D4">              </span><span style="color: #9CDCFE">:title</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;formatDate(template.created_at)&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">              {{ relDate(template.created_at) }}</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;text-nowrap&quot;</span><span style="color: #D4D4D4"> </span></span>
<span class="line"><span style="color: #D4D4D4">              </span><span style="color: #9CDCFE">:title</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;formatDate(template.last_used)&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">              {{ relDate(template.last_used) }}</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">class</span><span style="color: #D4D4D4">=</span><span style="color: #CE9178">&quot;text-nowrap&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                {{ template.records }} Entries</span><span style="color: #808080">&lt;</span><span style="color: #569CD6">br</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Add Record</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;&lt;</span><span style="color: #569CD6">br</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">View Records</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Edit</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Delete</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">                </span><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span><span style="color: #D4D4D4">Clone</span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">td</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">tr</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #808080">&lt;/</span><span style="color: #569CD6">tbody</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">table</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>With these styles now applied, let&#8217;s have a quick look at the list of templates now. In the new screenshot, I&#8217;m hovering over both a row and specific button, so you can see that style as well.</p>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="341" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-1024x341.png" alt="" class="wp-image-712" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-1024x341.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-300x100.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-768x256.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2-1536x511.png 1536w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-2.png 1542w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></figure>



<figure class="wp-block-image size-large"><img loading="lazy" decoding="async" width="1024" height="327" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-3-1024x327.png" alt="" class="wp-image-715" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-3-1024x327.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-3-300x96.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-3-768x245.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-3-1536x490.png 1536w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-3.png 1557w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></figure>



<p>It&#8217;s amazing what a few style tweaks can do to take something cramped and hard to read and make it easier to work with!</p>



<ul style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--30);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--30)" class="wp-block-list has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-48e0844950d8789f31be138a9832c9d0">
<li>Make the buttons pop up an alert for what they do</li>
</ul>



<p>One little bit of easy interactivity, since this tool has a lot of not useful buttons right now, is to add a simple alert for them. We&#8217;re going to add a simple click event that will pop up an alert telling you what the button will do.</p>



<p>First, we&#8217;ll create a small generic function in our setup code, to pop up the alert.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;script setup&gt;
const btnClick = (message) =&gt; {window.alert(message)}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">script</span><span style="color: #D4D4D4"> </span><span style="color: #9CDCFE">setup</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #569CD6">const</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">btnClick</span><span style="color: #D4D4D4"> = (</span><span style="color: #9CDCFE">message</span><span style="color: #D4D4D4">) </span><span style="color: #569CD6">=&gt;</span><span style="color: #D4D4D4"> {</span><span style="color: #9CDCFE">window</span><span style="color: #D4D4D4">.</span><span style="color: #DCDCAA">alert</span><span style="color: #D4D4D4">(</span><span style="color: #9CDCFE">message</span><span style="color: #D4D4D4">)}</span></span></code></pre></div>



<p>Then we&#8217;ll add the click event to the button, to trigger the message.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Vue</span><span role="button" tabindex="0" data-code="&lt;button @click=&quot;btnClick(`Add Record To Template ${template.id}`)&quot;&gt;
Add Record
&lt;/button&gt;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #808080">&lt;</span><span style="color: #569CD6">button</span><span style="color: #D4D4D4"> @</span><span style="color: #9CDCFE">click</span><span style="color: #D4D4D4">=</span><span style="color: #D4D4D4">&quot;</span><span style="color: #DCDCAA">btnClick</span><span style="color: #D4D4D4">(</span><span style="color: #CE9178">`Add Record To Template </span><span style="color: #569CD6">${</span><span style="color: #9CDCFE">template</span><span style="color: #D4D4D4">.</span><span style="color: #9CDCFE">id</span><span style="color: #569CD6">}</span><span style="color: #CE9178">`</span><span style="color: #D4D4D4">)</span><span style="color: #D4D4D4">&quot;</span><span style="color: #808080">&gt;</span></span>
<span class="line"><span style="color: #D4D4D4">Add Record</span></span>
<span class="line"><span style="color: #808080">&lt;/</span><span style="color: #569CD6">button</span><span style="color: #808080">&gt;</span></span></code></pre></div>



<p>And then we&#8217;ll give it a click.</p>



<figure class="wp-block-image size-full"><img loading="lazy" decoding="async" width="823" height="329" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-5.png" alt="" class="wp-image-717" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-5.png 823w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-5-300x120.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/image-5-768x307.png 768w" sizes="auto, (max-width: 823px) 100vw, 823px" /></figure>



<p>With this completed, we now have a list page that is easy to read, and has some interactivity to it as well, allowing our stakeholders to get an early feel for the tool.</p>



<h2 class="wp-block-heading">Commit And Merge</h2>



<p>Along the way, we&#8217;re made quite a few changes. As we <a href="https://bendauphinee.com/writing/2025/01/07/an-app-from-scratch-part-6-creating-db-tables-us1-c1/#commit-and-merge" data-type="post" data-id="614" target="_blank" rel="noreferrer noopener">talked about previously</a>, there are multiple strategies to arranging your code, but today&#8217;s branch is named: <code>US2-C2_create_template_list</code></p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="$ git push origin US2-C2_create_template_list
Enumerating objects: 36, done.
Counting objects: 100% (36/36), done.
Delta compression using up to 32 threads
Compressing objects: 100% (19/19), done.
Writing objects: 100% (21/21), 3.34 KiB | 114.00 KiB/s, done.
Total 21 (delta 12), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (12/12), completed with 10 local objects.
remote:
remote: Create a pull request for 'US2-C2_create_template_list' on GitHub by visiting:
remote:      https://github.com/bendauphinee/tailgunner/pull/new/US2-C2_create_template_list
remote:
remote: GitHub found 1 vulnerability on bendauphinee/tailgunner's default branch (1 moderate).
remote: To find out more, visit:
remote:      https://github.com/bendauphinee/tailgunner/security/dependabot/1
remote:
To github.com:bendauphinee/tailgunner.git
 * [new branch]      US2-C2_create_template_list -&gt; US2-C2_create_template_list" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">git</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">push</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">origin</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">US2-C2_create_template_list</span></span>
<span class="line"><span style="color: #DCDCAA">Enumerating</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">objects:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">36</span><span style="color: #CE9178">,</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">done.</span></span>
<span class="line"><span style="color: #DCDCAA">Counting</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">objects:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100</span><span style="color: #CE9178">%</span><span style="color: #D4D4D4"> (36/36), done.</span></span>
<span class="line"><span style="color: #DCDCAA">Delta</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">compression</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">using</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">up</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">to</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">32</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">threads</span></span>
<span class="line"><span style="color: #DCDCAA">Compressing</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">objects:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100</span><span style="color: #CE9178">%</span><span style="color: #D4D4D4"> (19/19), done.</span></span>
<span class="line"><span style="color: #DCDCAA">Writing</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">objects:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100</span><span style="color: #CE9178">%</span><span style="color: #D4D4D4"> (21/21), 3.34 KiB | </span><span style="color: #DCDCAA">114.00</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">KiB/s,</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">done.</span></span>
<span class="line"><span style="color: #DCDCAA">Total</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">21</span><span style="color: #D4D4D4"> (delta </span><span style="color: #B5CEA8">12</span><span style="color: #D4D4D4">), reused 0 (</span><span style="color: #DCDCAA">delta</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">), pack-reused 0</span></span>
<span class="line"><span style="color: #DCDCAA">remote:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Resolving</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">deltas:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100</span><span style="color: #CE9178">%</span><span style="color: #D4D4D4"> (12/12), completed with 10 local objects.</span></span>
<span class="line"><span style="color: #DCDCAA">remote:</span></span>
<span class="line"><span style="color: #DCDCAA">remote:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Create</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">a</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">pull</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">request</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">for</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;US2-C2_create_template_list&#39;</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">on</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">GitHub</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">by</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">visiting:</span></span>
<span class="line"><span style="color: #DCDCAA">remote:</span><span style="color: #D4D4D4">      </span><span style="color: #CE9178">https://github.com/bendauphinee/tailgunner/pull/new/US2-C2_create_template_list</span></span>
<span class="line"><span style="color: #DCDCAA">remote:</span></span>
<span class="line cbp-line-highlight"><span style="color: #DCDCAA">remote:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">GitHub</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">found</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">1</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">vulnerability</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">on</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">bendauphinee/tailgunner&#39;s default branch (1 moderate).</span></span>
<span class="line cbp-line-highlight"><span style="color: #CE9178">remote: To find out more, visit:</span></span>
<span class="line cbp-line-highlight"><span style="color: #CE9178">remote:      https://github.com/bendauphinee/tailgunner/security/dependabot/1</span></span>
<span class="line"><span style="color: #CE9178">remote:</span></span>
<span class="line"><span style="color: #CE9178">To github.com:bendauphinee/tailgunner.git</span></span>
<span class="line"><span style="color: #CE9178"> * [new branch]      US2-C2_create_template_list -&gt; US2-C2_create_template_list</span></span></code></pre></div>



<p>In pushing our code to GitHub, we also got back a <a href="https://github.com/bendauphinee/tailgunner/security/dependabot/1" target="_blank" rel="noreferrer noopener nofollow">Dependabot security warning</a>. Looking into that, there&#8217;s a moderate security issue with one of the libraries Laravel uses, so I&#8217;m having Dependabot generate a PR for the fix while I create and review my own code.</p>



<p>With a few small whitespace tweaks, my <a href="https://github.com/bendauphinee/tailgunner/pull/3" target="_blank" rel="noreferrer noopener">PR</a> is <a href="https://github.com/bendauphinee/tailgunner/commit/54548694c8c2e57314ea87cad320a2de4c3c8771" target="_blank" rel="noreferrer noopener">merged</a>.</p>



<p>Reviewing the <a href="https://github.com/bendauphinee/tailgunner/pull/2" target="_blank" rel="noreferrer noopener">automated PR</a> from <a href="https://docs.github.com/en/code-security/getting-started/dependabot-quickstart-guide" target="_blank" rel="noreferrer noopener nofollow">Dependabot</a>, it bumps the version of the vulnerable library, and related ones. I&#8217;ve <a href="https://github.com/bendauphinee/tailgunner/commit/795a5c9d96336d54329aa57ae8a6ff2896ac6911" target="_blank" rel="noreferrer noopener">merged that change</a> as well, concluding the code for today&#8217;s post!</p>



<p>One other thing, since there are now changes that for sure aren&#8217;t reflected in my local code, it&#8217;s time to go back to our main branch, pull down updates from our Github repo (which now include the security change), and then update our development install.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.75rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .75rem);line-height:1rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="# Switch back from our working branch to main
$ git checkout main
Updating files: 100% (6/6), done.
Switched to branch 'main'
Your branch is up to date with 'origin/main'.

# Pull the changes to main in from Github
$ git pull origin main
remote: Enumerating objects: 38, done.
remote: Counting objects: 100% (38/38), done.
remote: Compressing objects: 100% (14/14), done.
remote: Total 22 (delta 13), reused 11 (delta 6), pack-reused 0 (from 0)
Unpacking objects: 100% (22/22), 5.06 KiB | 6.00 KiB/s, done.
From github.com:bendauphinee/tailgunner
 * branch            main       -&gt; FETCH_HEAD
   df58791..795a5c9  main       -&gt; origin/main
Updating files: 100% (7/7), done.
Updating df58791..795a5c9
Fast-forward
 src/app/Http/Controllers/TemplateController.php | 31 ++++++++++-
 src/composer.lock                               | 60 ++++++++++----------
 src/package-lock.json                           |  6 ++
 src/package.json                                |  1 +
 src/resources/css/app.css                       | 28 ++++++++++
 src/resources/js/Pages/Templates/Index.vue      | 73 +++++++++++++++++++++++++
 src/routes/web.php                              |  3 +
 7 files changed, 171 insertions(+), 31 deletions(-)
 create mode 100644 src/resources/js/Pages/Templates/Index.vue

# Run composer install to update the things Dependabot changed
$ composer install
Installing dependencies from lock file (including require-dev)
Verifying lock file contents can be installed on current platform.
Package operations: 0 installs, 2 updates, 0 removals
  - Downloading symfony/translation (v7.2.2)
  - Downloading nesbot/carbon (3.8.4)
  - Upgrading symfony/translation (v7.2.0 =&gt; v7.2.2): Extracting archive
  - Upgrading nesbot/carbon (3.8.2 =&gt; 3.8.4): Extracting archive
Generating optimized autoload files" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #6A9955"># Switch back from our working branch to main</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">git</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">checkout</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">main</span></span>
<span class="line"><span style="color: #DCDCAA">Updating</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">files:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100</span><span style="color: #CE9178">%</span><span style="color: #D4D4D4"> (6/6), done.</span></span>
<span class="line"><span style="color: #DCDCAA">Switched</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">to</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">branch</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;main&#39;</span></span>
<span class="line"><span style="color: #DCDCAA">Your</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">branch</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">is</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">up</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">to</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">date</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">with</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">&#39;origin/main&#39;.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Pull the changes to main in from Github</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">git</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">pull</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">origin</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">main</span></span>
<span class="line"><span style="color: #DCDCAA">remote:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Enumerating</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">objects:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">38</span><span style="color: #CE9178">,</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">done.</span></span>
<span class="line"><span style="color: #DCDCAA">remote:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Counting</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">objects:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100</span><span style="color: #CE9178">%</span><span style="color: #D4D4D4"> (38/38), done.</span></span>
<span class="line"><span style="color: #DCDCAA">remote:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Compressing</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">objects:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100</span><span style="color: #CE9178">%</span><span style="color: #D4D4D4"> (14/14), done.</span></span>
<span class="line"><span style="color: #DCDCAA">remote:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Total</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">22</span><span style="color: #D4D4D4"> (delta </span><span style="color: #B5CEA8">13</span><span style="color: #D4D4D4">), reused 11 (</span><span style="color: #DCDCAA">delta</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">6</span><span style="color: #D4D4D4">), pack-reused 0 (</span><span style="color: #DCDCAA">from</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #DCDCAA">Unpacking</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">objects:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100</span><span style="color: #CE9178">%</span><span style="color: #D4D4D4"> (22/22), 5.06 KiB | </span><span style="color: #DCDCAA">6.00</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">KiB/s,</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">done.</span></span>
<span class="line"><span style="color: #DCDCAA">From</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">github.com:bendauphinee/tailgunner</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">*</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">branch</span><span style="color: #D4D4D4">            </span><span style="color: #CE9178">main</span><span style="color: #D4D4D4">       -&gt; </span><span style="color: #CE9178">FETCH_HEAD</span></span>
<span class="line"><span style="color: #D4D4D4">   </span><span style="color: #DCDCAA">df58791..795a5c9</span><span style="color: #D4D4D4">  </span><span style="color: #CE9178">main</span><span style="color: #D4D4D4">       -&gt; </span><span style="color: #CE9178">origin/main</span></span>
<span class="line"><span style="color: #DCDCAA">Updating</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">files:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100</span><span style="color: #CE9178">%</span><span style="color: #D4D4D4"> (7/7), done.</span></span>
<span class="line"><span style="color: #DCDCAA">Updating</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">df58791..795a5c9</span></span>
<span class="line"><span style="color: #DCDCAA">Fast-forward</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">src/app/Http/Controllers/TemplateController.php</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">31</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">++++++++++-</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">src/composer.lock</span><span style="color: #D4D4D4">                               | </span><span style="color: #DCDCAA">60</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">++++++++++----------</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">src/package-lock.json</span><span style="color: #D4D4D4">                           |  </span><span style="color: #DCDCAA">6</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">++</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">src/package.json</span><span style="color: #D4D4D4">                                |  </span><span style="color: #DCDCAA">1</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">+</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">src/resources/css/app.css</span><span style="color: #D4D4D4">                       | </span><span style="color: #DCDCAA">28</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">++++++++++</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">src/resources/js/Pages/Templates/Index.vue</span><span style="color: #D4D4D4">      | </span><span style="color: #DCDCAA">73</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">+++++++++++++++++++++++++</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">src/routes/web.php</span><span style="color: #D4D4D4">                              |  </span><span style="color: #DCDCAA">3</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">+</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">7</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">files</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">changed,</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">171</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">insertions</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">+</span><span style="color: #D4D4D4">)</span><span style="color: #CE9178">,</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">31</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">deletions</span><span style="color: #D4D4D4">(</span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">create</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">mode</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">100644</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">src/resources/js/Pages/Templates/Index.vue</span></span>
<span class="line"></span>
<span class="line"><span style="color: #6A9955"># Run composer install to update the things Dependabot changed</span></span>
<span class="line"><span style="color: #DCDCAA">$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">composer</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">install</span></span>
<span class="line"><span style="color: #DCDCAA">Installing</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">dependencies</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">from</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">lock</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">file</span><span style="color: #D4D4D4"> (including </span><span style="color: #CE9178">require-dev</span><span style="color: #D4D4D4">)</span></span>
<span class="line"><span style="color: #DCDCAA">Verifying</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">lock</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">file</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">contents</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">can</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">be</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">installed</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">on</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">current</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">platform.</span></span>
<span class="line"><span style="color: #DCDCAA">Package</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">operations:</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">installs,</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">updates,</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">0</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">removals</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Downloading</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">symfony/translation</span><span style="color: #D4D4D4"> (v7.2.2)</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Downloading</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">nesbot/carbon</span><span style="color: #D4D4D4"> (3.8.4)</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Upgrading</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">symfony/translation</span><span style="color: #D4D4D4"> (v7.2.0 =&gt; </span><span style="color: #CE9178">v7.2.2</span><span style="color: #D4D4D4">): Extracting archive</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">-</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Upgrading</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">nesbot/carbon</span><span style="color: #D4D4D4"> (3.8.2 =&gt; </span><span style="color: #B5CEA8">3.8</span><span style="color: #CE9178">.4</span><span style="color: #D4D4D4">): Extracting archive</span></span>
<span class="line"><span style="color: #DCDCAA">Generating</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">optimized</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">autoload</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">files</span></span></code></pre></div>



<p>These steps are a common task in between different pieces of work on a project. This housekeeping ensures that the next thing we do starts from whatever state the main codebase is in, which should reduce the risk of having code conflicts when we do more work.</p>



<h2 class="wp-block-heading">Wrapping Up</h2>



<p>This post took us from a tool that only had a database full of fake data, and gave us a way to actually look at the data. Building this tool first sets the stage for our other work, since it serves as the entry point into any of our other workflows, and it also gives us a way to look at our data to see that it makes sense.</p>



<p>From start to finish, this work would have taken an hour or three, depending on what debugging or styling a developer chooses to go with, and how many rounds of changes they make, either by themselves or after talking with stakeholders.</p>



<p>Hopefully you found this part of the process illuminating, and look for the next part soon: <a href="https://bendauphinee.com/writing/2025/01/14/an-app-from-scratch-part-8-creating-new-templates-tool-us1-c3/">Creating new templates tool (US1-C3)</a></p>



<p>Let me know what you think of my design, or anything else from this post!</p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2025/01/09/an-app-from-scratch-part-7-creating-the-template-list-page-us1-c2/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>An App From Scratch: Part 6 – Creating DB Tables (US1-C1)</title>
		<link>https://bendauphinee.com/writing/2025/01/07/an-app-from-scratch-part-6-creating-db-tables-us1-c1/</link>
					<comments>https://bendauphinee.com/writing/2025/01/07/an-app-from-scratch-part-6-creating-db-tables-us1-c1/#respond</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Tue, 07 Jan 2025 14:50:36 +0000</pubDate>
				<category><![CDATA[Software Engineering]]></category>
		<category><![CDATA[code]]></category>
		<category><![CDATA[database]]></category>
		<category><![CDATA[laravel]]></category>
		<category><![CDATA[migrations]]></category>
		<category><![CDATA[php]]></category>
		<category><![CDATA[software]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=614</guid>

					<description><![CDATA[9 minute reading time; ~1780 words Greetings! Now that we&#8217;ve done our planning, we&#8217;re at the part where the rubber meets the road. In this post (and the next few), we&#8217;re going to implement the actual cards that we&#8217;ve put together. Along with walking through how to execute the card, we&#8217;re also going to cover [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">9 minute reading time; ~1780 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Greetings!</p>



<p>Now that we&#8217;ve done our planning, we&#8217;re at the part where the rubber meets the road. In this post (and the next few), we&#8217;re going to implement the actual cards that we&#8217;ve put together.</p>



<p>Along with walking through how to execute the card, we&#8217;re also going to cover the branching and pull request processes, to give you an idea of the mechanics of getting code from our own system into the production codebase.</p>



<p>While these posts are more technical in nature, I&#8217;m going to explain what I&#8217;m doing, so that anyone can follow along!</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">What Do I See?</h2>



<p>As a developer, when we start working on a card, we usually break down what we want to do in our head, or on a scrap of paper, or in our notes, but there is some translation of &#8220;what the card wants&#8221; into &#8220;what I need to do&#8221;. With that in mind, let&#8217;s look at the card to break it down.</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-3781e9cdae1b1f4f4ab4c8958ee65800 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-contrast-color has-accent-3-background-color has-text-color has-background has-link-color wp-elements-cd0484a5e3638d1878cf19857bf956b2" style="padding-top:0;padding-right:0.3rem;padding-bottom:0;padding-left:0.3rem"><strong>Card</strong>: US1-C1</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-4bf8fa03559180f6a65d7015bc498d5b" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Title</h4>



<p>Create database tables</p>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-208c9d0f6b2264867b69c2622d7d9968" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Type</h4>



<p>Task</p>
</div>
</div>



<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-c2d2f57ca0c39c3684d432537b97ceee" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Description</h4>



<p class="has-medium-font-size">Create the database tables required to support creating a template and store their fields.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>The database tables from the defined data model exist.</li>



<li>The models required to access these tables exist and are working.</li>
</ul>



<p><strong>Details</strong></p>



<p>See the tables documented in <a href="https://bendauphinee.com/writing/building-tailgunner/project-plan/technical-design/#table_templates" data-type="page" data-id="552">the technical plan</a>.</p>
</div>



<h3 class="wp-block-heading">What I Need To Do</h3>



<ul class="wp-block-list">
<li>Create new migrations and models for tables<br>This task will define the structure of the database tables via code (<a href="https://laravel.com/docs/11.x/migrations">the migration</a>). These migrations will allow us to change what&#8217;s in the database automatically, making it reproducible. As well, we&#8217;ll <a href="https://laravel.com/docs/11.x/eloquent#generating-model-classes" target="_blank" rel="noreferrer noopener nofollow">define models</a>, which are Laravel classes that enable the tool to interact with each table we create.</li>



<li>Define the relationships between tables<br>In each model, we&#8217;ll <a href="https://laravel.com/docs/11.x/eloquent-relationships#introduction" target="_blank" rel="noreferrer noopener nofollow">define any relationships</a> with other tables, allowing us to use the query builder more effectively (since it will understand how to connect one table to another).</li>



<li>Create seed data<br>We&#8217;re going to <a href="https://laravel.com/docs/11.x/seeding">set up some seeders</a> for our tables, so that we have some data for development and testing. These seeders will allow us to repopulate the database tables from scratch whenever we want to.</li>



<li>Run the migrations<br>Now that we have defined tables and seeders, we&#8217;re going to execute them, so the tables are created and populated.</li>



<li>Examine the generated tables<br>With the table creation completed, the last thing to do is have a look at the tables themselves. This is a quality check to make sure that the structure is what I expect, and what makes sense for the data and purpose. If anything doesn&#8217;t feel right, this is our chance to adjust the migrations and try again.</li>
</ul>



<h2 class="wp-block-heading">Putting It Into Action</h2>



<h4 class="wp-block-heading" id="newmigrationsandmodels">Create new migrations and models for tables</h4>



<p>First, let&#8217;s generate some models. Along with them, we&#8217;re also going to add some factories along with our seeders to help generate sample data, and add in the controller for the template, so we have an easy on-ramp to create our API later on.</p>



<div class="wp-block-kevinbatdorf-code-block-pro" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="php artisan make:model Template --migration --factory --seed --controller
php artisan make:model TemplateField --migration --factory --seed" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">php</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">artisan</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">make:model</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">Template</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--migration</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--factory</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--seed</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--controller</span></span>
<span class="line"><span style="color: #DCDCAA">php</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">artisan</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">make:model</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">TemplateField</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--migration</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--factory</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--seed</span></span></code></pre></div>



<p>This command will create these files (except the migration file names might be different):</p>



<div class="wp-block-kevinbatdorf-code-block-pro" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="app/Http/Controllers/TemplateController.php
app/Models/Template.php
app/Models/TemplateField.php
database/factories/TemplateFactory.php
database/factories/TemplateFieldFactory.php
database/migrations/2025_01_05_011700_create_templates_table.php
database/migrations/2025_01_05_011708_create_template_fields_table.php
database/seeders/TemplateFieldSeeder.php
database/seeders/TemplateSeeder.php" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">app/Http/Controllers/TemplateController.php</span></span>
<span class="line"><span style="color: #DCDCAA">app/Models/Template.php</span></span>
<span class="line"><span style="color: #DCDCAA">app/Models/TemplateField.php</span></span>
<span class="line"><span style="color: #DCDCAA">database/factories/TemplateFactory.php</span></span>
<span class="line"><span style="color: #DCDCAA">database/factories/TemplateFieldFactory.php</span></span>
<span class="line"><span style="color: #DCDCAA">database/migrations/2025_01_05_011700_create_templates_table.php</span></span>
<span class="line"><span style="color: #DCDCAA">database/migrations/2025_01_05_011708_create_template_fields_table.php</span></span>
<span class="line"><span style="color: #DCDCAA">database/seeders/TemplateFieldSeeder.php</span></span>
<span class="line"><span style="color: #DCDCAA">database/seeders/TemplateSeeder.php</span></span></code></pre></div>



<h4 class="wp-block-heading">Define the relationships between tables</h4>



<p>With our two new models, we need to set up a few relationships, so Laravel understands how to enable our access between the tables. Here&#8217;s how our database models relate to each other.</p>



<figure class="wp-block-table"><table class="has-fixed-layout"><thead><tr><th>User</th><th>Template</th><th>TemplateField</th></tr></thead><tbody><tr><td>Has Many TemplateField</td><td>Belongs To User</td><td>Belongs To Template</td></tr><tr><td></td><td>Has Many TemplateField</td><td></td></tr></tbody></table></figure>



<p>Each of these relationships is defined in the model code for the table, for example:</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="class Template extends Model {
    public function user() {
        return $this-&gt;belongsTo(User::class);
    }

    public function fields() {
        return $this-&gt;hasMany(TemplateField::class);
    }
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Model</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">user</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">belongsTo</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">User</span><span style="color: #D4D4D4">::</span><span style="color: #569CD6">class</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">fields</span><span style="color: #D4D4D4">() {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">hasMany</span><span style="color: #D4D4D4">(</span><span style="color: #4EC9B0">TemplateField</span><span style="color: #D4D4D4">::</span><span style="color: #569CD6">class</span><span style="color: #D4D4D4">);</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>This code will make the template fields accessible via a fields property when we access a template, which when accessed will give you all the fields associated with this template, as you can see below.</p>



<div class="wp-block-kevinbatdorf-code-block-pro" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="$fields = $template-&gt;fields;" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #9CDCFE">$fields</span><span style="color: #D4D4D4"> = </span><span style="color: #9CDCFE">$template</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">fields</span><span style="color: #D4D4D4">;</span></span></code></pre></div>



<h4 class="wp-block-heading">Create seed data</h4>



<p>Earlier, we created seeders, but also <a href="https://laravel.com/docs/11.x/eloquent-factories" target="_blank" rel="noreferrer noopener nofollow">factories</a> to better encapsulate the logic required to create a new record. Here&#8217;s the factory I set up for the template model. As you can see, it&#8217;s passing back fake data generated from both the factory for the user, as well as specific fields using <a href="https://fakerphp.org/" target="_blank" rel="noreferrer noopener nofollow">the Faker library</a>.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="class TemplateFactory extends Factory {
    public function definition(): array {
        return [
            'user_id' =&gt; \App\Models\User::factory(),
            'title' =&gt; $this-&gt;faker-&gt;sentence(3),
            'description' =&gt; $this-&gt;faker-&gt;paragraph(2),
            'created_at' =&gt; now(),
            'updated_at' =&gt; now(),
            'deleted_at' =&gt; null,
        ];
    }
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">TemplateFactory</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Factory</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">definition</span><span style="color: #D4D4D4">(): </span><span style="color: #569CD6">array</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #C586C0">return</span><span style="color: #D4D4D4"> [</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;user_id&#39;</span><span style="color: #D4D4D4"> =&gt; \App\Models\</span><span style="color: #4EC9B0">User</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">factory</span><span style="color: #D4D4D4">(),</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;title&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">faker</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">sentence</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">3</span><span style="color: #D4D4D4">),</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;description&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #569CD6">$this</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #9CDCFE">faker</span><span style="color: #D4D4D4">-&gt;</span><span style="color: #DCDCAA">paragraph</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">2</span><span style="color: #D4D4D4">),</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;created_at&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #DCDCAA">now</span><span style="color: #D4D4D4">(),</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;updated_at&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #DCDCAA">now</span><span style="color: #D4D4D4">(),</span></span>
<span class="line"><span style="color: #D4D4D4">            </span><span style="color: #CE9178">&#39;deleted_at&#39;</span><span style="color: #D4D4D4"> =&gt; </span><span style="color: #569CD6">null</span><span style="color: #D4D4D4">,</span></span>
<span class="line"><span style="color: #D4D4D4">        ];</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>Now that we have a factory, we also have to update the model to add the HasFactory trait, so that the model can be used as part of factory operations.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="class Template extends Model {
    use HasFactory;

    public function user()
    public function fields()
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Model</span><span style="color: #D4D4D4"> {</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">HasFactory</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">user</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">fields</span><span style="color: #D4D4D4">()</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>Let&#8217;s set up the seeder as well. This code will use the template factory we created to create 10 new records in the database when we run it.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(1 * 0.6 * .875rem);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">PHP</span><span role="button" tabindex="0" data-code="use App\Models\Template;

class TemplateSeeder extends Seeder {
    public function run(): void {
        Template::factory()-&gt;count(10)-&gt;create();
    }
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">use</span><span style="color: #D4D4D4"> App\Models\</span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #569CD6">class</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">TemplateSeeder</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">extends</span><span style="color: #D4D4D4"> </span><span style="color: #4EC9B0">Seeder</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">    </span><span style="color: #569CD6">public</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">function</span><span style="color: #D4D4D4"> </span><span style="color: #DCDCAA">run</span><span style="color: #D4D4D4">(): </span><span style="color: #569CD6">void</span><span style="color: #D4D4D4"> {</span></span>
<span class="line"><span style="color: #D4D4D4">        </span><span style="color: #4EC9B0">Template</span><span style="color: #D4D4D4">::</span><span style="color: #DCDCAA">factory</span><span style="color: #D4D4D4">()-&gt;</span><span style="color: #DCDCAA">count</span><span style="color: #D4D4D4">(</span><span style="color: #B5CEA8">10</span><span style="color: #D4D4D4">)-&gt;</span><span style="color: #DCDCAA">create</span><span style="color: #D4D4D4">();</span></span>
<span class="line"><span style="color: #D4D4D4">    }</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p>To wrap this piece up, this is how it all works.</p>



<p>We ask Laravel to seed the table, the seeder uses the factory (called through the model) to generate fake data, then the model is used to write the generated data into the table.</p>



<h4 class="wp-block-heading">Run the migrations</h4>



<p>This is the easy part: running the migrate command and one of our seeders. These migrations make sure that the database matches our requirements, while the seeder makes sure we have some data to test with.</p>



<p>The TemplateField seeder will call our Template factory, since every field needs to have a template. This will also populate associated users, since the Template factory also needs users to own the templates.</p>



<div class="wp-block-kevinbatdorf-code-block-pro" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="ben@phpbox:~/tailgunner/src$ php artisan migrate

   INFO  Running migrations.

  2025_01_05_011700_create_templates_table ................ 352.55ms DONE
  2025_01_05_011708_create_template_fields_table .......... 607.51ms DONE

ben@phpbox:~/tailgunner/src$ php artisan db:seed --class=TemplateFieldSeeder

   INFO  Seeding database." style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">ben@phpbox:~/tailgunner/src$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">php</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">artisan</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">migrate</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">   </span><span style="color: #DCDCAA">INFO</span><span style="color: #D4D4D4">  </span><span style="color: #CE9178">Running</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">migrations.</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">2025_01_05_011700_create_templates_table</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">................</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">352.55</span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">DONE</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #DCDCAA">2025_01_05_011708_create_template_fields_table</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">..........</span><span style="color: #D4D4D4"> </span><span style="color: #B5CEA8">607.51</span><span style="color: #CE9178">ms</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">DONE</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">ben@phpbox:~/tailgunner/src$</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">php</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">artisan</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">db:seed</span><span style="color: #D4D4D4"> </span><span style="color: #569CD6">--class=TemplateFieldSeeder</span></span>
<span class="line"></span>
<span class="line"><span style="color: #D4D4D4">   </span><span style="color: #DCDCAA">INFO</span><span style="color: #D4D4D4">  </span><span style="color: #CE9178">Seeding</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">database.</span></span></code></pre></div>



<p>As part of running the migrations, Laravel will also write records to the <code>migrations</code> table, so it can track what changes we&#8217;ve applied to the database.</p>



<h4 class="wp-block-heading">Examine the generated tables</h4>



<p>Previously, we could have used the <code>--pretend</code> flag with our migrations (before we ran them) to see the SQL that Laravel would have run to change our database. Now that we&#8217;ve run them and the seeder as well, we can connect to the dev database and review the tables with data in them.</p>



<div class="wp-block-kevinbatdorf-code-block-pro cbp-has-line-numbers" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;--cbp-line-number-color:#D4D4D4;--cbp-line-number-width:calc(2 * 0.6 * .875rem);--cbp-line-highlight-color:rgba(234, 191, 191, 0.2);line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">Bash</span><span role="button" tabindex="0" data-code="mysql&gt; SHOW TABLES;
+------------------------+
| Tables_in_tailgunner   |
+------------------------+
| cache                  |
| cache_locks            |
| failed_jobs            |
| job_batches            |
| jobs                   |
| migrations             |
| password_reset_tokens  |
| personal_access_tokens |
| sessions               |
| team_invitations       |
| team_user              |
| teams                  |
| template_fields        |
| templates              |
| users                  |
+------------------------+

mysql&gt; DESCRIBE templates;
+-------------+-----------------+------+-----+---------+----------------+
| Field       | Type            | Null | Key | Default | Extra          |
+-------------+-----------------+------+-----+---------+----------------+
| id          | bigint unsigned | NO   | PRI | NULL    | auto_increment |
| user_id     | bigint unsigned | NO   | MUL | NULL    |                |
| title       | varchar(120)    | NO   |     | NULL    |                |
| description | text            | YES  |     | NULL    |                |
| created_at  | timestamp       | YES  |     | NULL    |                |
| updated_at  | timestamp       | YES  |     | NULL    |                |
| deleted_at  | timestamp       | YES  |     | NULL    |                |
+-------------+-----------------+------+-----+---------+----------------+

mysql&gt; DESCRIBE template_fields;
+------------------+-----------------+------+-----+---------+----------------+
| Field            | Type            | Null | Key | Default | Extra          |
+------------------+-----------------+------+-----+---------+----------------+
| id               | bigint unsigned | NO   | PRI | NULL    | auto_increment |
| template_id      | bigint unsigned | NO   | MUL | NULL    |                |
| label            | varchar(80)     | NO   |     | NULL    |                |
| name             | varchar(80)     | NO   |     | NULL    |                |
| type             | varchar(10)     | NO   |     | NULL    |                |
| order            | int             | NO   |     | NULL    |                |
| extended_options | text            | YES  |     | NULL    |                |
| created_at       | timestamp       | YES  |     | NULL    |                |
| updated_at       | timestamp       | YES  |     | NULL    |                |
| deleted_at       | timestamp       | YES  |     | NULL    |                |
+------------------+-----------------+------+-----+---------+----------------+" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #DCDCAA">mysql&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">SHOW</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">TABLES</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #DCDCAA">+------------------------+</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">Tables_in_tailgunner</span><span style="color: #D4D4D4">   |</span></span>
<span class="line"><span style="color: #DCDCAA">+------------------------+</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">cache</span><span style="color: #D4D4D4">                  |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">cache_locks</span><span style="color: #D4D4D4">            |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">failed_jobs</span><span style="color: #D4D4D4">            |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">job_batches</span><span style="color: #D4D4D4">            |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">jobs</span><span style="color: #D4D4D4">                   |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">migrations</span><span style="color: #D4D4D4">             |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">password_reset_tokens</span><span style="color: #D4D4D4">  |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">personal_access_tokens</span><span style="color: #D4D4D4"> |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">sessions</span><span style="color: #D4D4D4">               |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">team_invitations</span><span style="color: #D4D4D4">       |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">team_user</span><span style="color: #D4D4D4">              |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">teams</span><span style="color: #D4D4D4">                  |</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">template_fields</span><span style="color: #D4D4D4">        |</span></span>
<span class="line cbp-line-highlight"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">templates</span><span style="color: #D4D4D4">              |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">users</span><span style="color: #D4D4D4">                  |</span></span>
<span class="line"><span style="color: #DCDCAA">+------------------------+</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">mysql&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">DESCRIBE</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">templates</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #DCDCAA">+-------------+-----------------+------+-----+---------+----------------+</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">Field</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">Type</span><span style="color: #D4D4D4">            | </span><span style="color: #DCDCAA">Null</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">Key</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">Default</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">Extra</span><span style="color: #D4D4D4">          |</span></span>
<span class="line"><span style="color: #DCDCAA">+-------------+-----------------+------+-----+---------+----------------+</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">id</span><span style="color: #D4D4D4">          | </span><span style="color: #DCDCAA">bigint</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">unsigned</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">NO</span><span style="color: #D4D4D4">   | </span><span style="color: #DCDCAA">PRI</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    | </span><span style="color: #DCDCAA">auto_increment</span><span style="color: #D4D4D4"> |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">user_id</span><span style="color: #D4D4D4">     | </span><span style="color: #DCDCAA">bigint</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">unsigned</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">NO</span><span style="color: #D4D4D4">   | </span><span style="color: #DCDCAA">MUL</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">title</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">varchar(120</span><span style="color: #D4D4D4">)    | </span><span style="color: #DCDCAA">NO</span><span style="color: #D4D4D4">   |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">description</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">text</span><span style="color: #D4D4D4">            | </span><span style="color: #DCDCAA">YES</span><span style="color: #D4D4D4">  |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">created_at</span><span style="color: #D4D4D4">  | </span><span style="color: #DCDCAA">timestamp</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">YES</span><span style="color: #D4D4D4">  |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">updated_at</span><span style="color: #D4D4D4">  | </span><span style="color: #DCDCAA">timestamp</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">YES</span><span style="color: #D4D4D4">  |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">deleted_at</span><span style="color: #D4D4D4">  | </span><span style="color: #DCDCAA">timestamp</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">YES</span><span style="color: #D4D4D4">  |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #DCDCAA">+-------------+-----------------+------+-----+---------+----------------+</span></span>
<span class="line"></span>
<span class="line"><span style="color: #DCDCAA">mysql&gt;</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">DESCRIBE</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">template_fields</span><span style="color: #D4D4D4">;</span></span>
<span class="line"><span style="color: #DCDCAA">+------------------+-----------------+------+-----+---------+----------------+</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">Field</span><span style="color: #D4D4D4">            | </span><span style="color: #DCDCAA">Type</span><span style="color: #D4D4D4">            | </span><span style="color: #DCDCAA">Null</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">Key</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">Default</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">Extra</span><span style="color: #D4D4D4">          |</span></span>
<span class="line"><span style="color: #DCDCAA">+------------------+-----------------+------+-----+---------+----------------+</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">id</span><span style="color: #D4D4D4">               | </span><span style="color: #DCDCAA">bigint</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">unsigned</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">NO</span><span style="color: #D4D4D4">   | </span><span style="color: #DCDCAA">PRI</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    | </span><span style="color: #DCDCAA">auto_increment</span><span style="color: #D4D4D4"> |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">template_id</span><span style="color: #D4D4D4">      | </span><span style="color: #DCDCAA">bigint</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">unsigned</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">NO</span><span style="color: #D4D4D4">   | </span><span style="color: #DCDCAA">MUL</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">label</span><span style="color: #D4D4D4">            | </span><span style="color: #DCDCAA">varchar(80</span><span style="color: #D4D4D4">)     | </span><span style="color: #DCDCAA">NO</span><span style="color: #D4D4D4">   |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">name</span><span style="color: #D4D4D4">             | </span><span style="color: #DCDCAA">varchar(80</span><span style="color: #D4D4D4">)     | </span><span style="color: #DCDCAA">NO</span><span style="color: #D4D4D4">   |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">type</span><span style="color: #D4D4D4">             | </span><span style="color: #DCDCAA">varchar(10</span><span style="color: #D4D4D4">)     | </span><span style="color: #DCDCAA">NO</span><span style="color: #D4D4D4">   |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">order</span><span style="color: #D4D4D4">            | </span><span style="color: #DCDCAA">int</span><span style="color: #D4D4D4">             | </span><span style="color: #DCDCAA">NO</span><span style="color: #D4D4D4">   |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">extended_options</span><span style="color: #D4D4D4"> | </span><span style="color: #DCDCAA">text</span><span style="color: #D4D4D4">            | </span><span style="color: #DCDCAA">YES</span><span style="color: #D4D4D4">  |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">created_at</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">timestamp</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">YES</span><span style="color: #D4D4D4">  |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">updated_at</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">timestamp</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">YES</span><span style="color: #D4D4D4">  |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #D4D4D4">| </span><span style="color: #DCDCAA">deleted_at</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">timestamp</span><span style="color: #D4D4D4">       | </span><span style="color: #DCDCAA">YES</span><span style="color: #D4D4D4">  |     | </span><span style="color: #DCDCAA">NULL</span><span style="color: #D4D4D4">    |                |</span></span>
<span class="line"><span style="color: #DCDCAA">+------------------+-----------------+------+-----+---------+----------------+</span></span></code></pre></div>



<figure class="wp-block-image size-large"><a href="https://bendauphinee.com/writing/wp-content/uploads/2025/01/field_data-1.png" data-rel="lightbox-gallery-9MRatymf" data-rl_title="" data-rl_caption="" title=""><img loading="lazy" decoding="async" width="1024" height="245" src="https://bendauphinee.com/writing/wp-content/uploads/2025/01/field_data-1-1024x245.png" alt="" class="wp-image-645" srcset="https://bendauphinee.com/writing/wp-content/uploads/2025/01/field_data-1-1024x245.png 1024w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/field_data-1-300x72.png 300w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/field_data-1-768x184.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/field_data-1-1536x368.png 1536w, https://bendauphinee.com/writing/wp-content/uploads/2025/01/field_data-1-2048x490.png 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></a></figure>



<p>Looking at the structures and data in the tables, I think that everything makes sense. I&#8217;ve also added three basic unit tests to check the data access and relationships work as expected:</p>



<ul class="wp-block-list">
<li>We can access templates from a user object</li>



<li>We can access fields from a template object</li>



<li>We can load a template and its fields up into an object</li>
</ul>



<p>With that, we&#8217;ve met all the acceptance criteria, and it&#8217;s time to get this code merged!</p>



<h2 class="wp-block-heading" id="commit-and-merge">Commit And Merge</h2>



<p>We now have some code. Depending on your strategy, maybe you&#8217;ve been committing as you go, or maybe you break it into blocks towards the end of your process. Either way, we&#8217;re going to be working in a branch.</p>



<p>Once the code has been pushed up to Github (or your code management tool of choice), we&#8217;re going to make a <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/proposing-changes-to-your-work-with-pull-requests/about-pull-requests" target="_blank" rel="noreferrer noopener nofollow">pull request</a>, review it, then merge it. (I prefer <a href="https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/incorporating-changes-from-a-pull-request/about-pull-request-merges#squash-and-merge-your-commits" target="_blank" rel="noreferrer noopener nofollow">squash and merge</a> because it makes a cleaner history of changes).</p>



<h4 class="wp-block-heading">Branch And Commit Naming</h4>



<p>There are a lot of branch naming ideas, the one I go with is <code>&lt;ticket id&gt;_&lt;short work description&gt;</code>. It provides enough detail about the work, and traceability back to the source of work.</p>



<p>This leads us to a branch for this project named: <code>US1-C1_create_database_tables</code></p>



<p>I usually advise to add your ticket ID in front of your commit messages as well, at very least when you merge to main. The reason for this is it makes every line easily trackable back to a specific request, which usually has more context to explain why the code exists.</p>



<p>Here are some example commit messages:</p>



<ul class="wp-block-list">
<li>US1-C1 Make the factory a little shorter</li>



<li>US1-C1 Tweak database field lengths to be more reasonable</li>
</ul>



<h4 class="wp-block-heading" id="prsize">PR Sizing / Reviews</h4>



<p>Common etiquette is to keep PR size on the smaller size, so as not to overload whomever might be reviewing your work. My recommendation is it should take on average less than 20 minutes to review a PR, and shouldn&#8217;t touch hundreds of files (for example, if you&#8217;re doing cleanup and making the same change in multiple places). These are only soft guidelines, but you want to both respect your reviewers&#8217; time, and size your work so it can all be reviewed without losing their attention, and reduce the risk of errors getting through.</p>



<p>There are going to be large commits from time to time, because there will be changes that have to be done as one piece so they don&#8217;t break the system. By keeping our other commits small, we know that our reviewers will take the time needed to focus on these larger ones when we do make them.</p>



<p>Once our review is complete, <a href="https://github.com/bendauphinee/tailgunner/commit/df58791ad6248e66c8dd9739399e8b51986adef5" target="_blank" rel="noreferrer noopener">we merge</a> our <a href="https://github.com/bendauphinee/tailgunner/pull/1" target="_blank" rel="noreferrer noopener">pull request</a>!</p>



<h2 class="wp-block-heading">Wrapping Up</h2>



<p>So in this post, we took our first card, and turned it into actual code. Writing about this work took a few hours instead of the usual 20–30 minutes, but this is the typical process for simple tasks.</p>



<p>As the work gets more advanced, there is more opportunity for back and forth discussion, and adjustments to what&#8217;s being done. As well, the task list definitely gets longer, but the general flow looks the same.</p>



<p>I hope that this was a good look into the developer workflow, and that you learned something! As always, I&#8217;d love for you to share your thoughts in the comments below!</p>



<p>Thanks for taking the time to read this, and stay tuned for the next part: <a href="https://bendauphinee.com/writing/2025/01/09/an-app-from-scratch-part-7-creating-the-template-list-page-us1-c2/" data-type="post" data-id="660">Creating the template list page (US1-C2)</a></p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2025/01/07/an-app-from-scratch-part-6-creating-db-tables-us1-c1/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>An App From Scratch: Part 5 – Development Planning</title>
		<link>https://bendauphinee.com/writing/2025/01/02/an-app-from-scratch-part-5-development-planning/</link>
					<comments>https://bendauphinee.com/writing/2025/01/02/an-app-from-scratch-part-5-development-planning/#comments</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Thu, 02 Jan 2025 14:18:24 +0000</pubDate>
				<category><![CDATA[Business Development]]></category>
		<category><![CDATA[Software Engineering]]></category>
		<category><![CDATA[planning]]></category>
		<category><![CDATA[project-management]]></category>
		<category><![CDATA[technical-design]]></category>
		<category><![CDATA[technical-planning]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=545</guid>

					<description><![CDATA[17 minute reading time; ~3200 words Greetings! So far in this series, we&#8217;ve taken our project from a single idea all the way to a design of the system needed to support it. Here, we&#8217;ll take that system design and plan out the work needed to breathe life into it. Development planning is all about [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">17 minute reading time; ~3200 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Greetings!</p>



<p>So far in this series, we&#8217;ve taken our project from a single idea all the way to a design of the system needed to support it. Here, we&#8217;ll take that system design and plan out the work needed to breathe life into it.</p>



<p>Development planning is all about breaking the system design into workable pieces. This includes estimating how long they might take to build and in what order, and creating a roadmap to complete our project.</p>



<p>In this post, we&#8217;re going to talk about how to break down technical tasks into specific deliverables, generate estimates, prioritize and order the work, and finally some common challenges in delivering a project.</p>



<p>Strap in for this one, because there&#8217;s a lot to talk about!</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">From Story To Tasks</h2>



<p>Now that we have the information we need about our story, the process is fairly straightforward. As the developer, I&#8217;m going to take the MVP feature (&#8220;Create a tool to allow users to create templates&#8221;), and use that as the foundation to establish the system and functionality. By the end of the first phase of this project, we should have:</p>



<ul class="wp-block-list">
<li>a running production server.</li>



<li>a basic page to list the templates belonging to the business owner.</li>



<li>a way for the business owner to create a template.</li>



<li>some basic testing.</li>



<li>a production deployment pipeline.</li>
</ul>



<p>With these goals in mind for the project&#8217;s first phase, let&#8217;s get started creating our list of tasks.</p>



<h3 class="wp-block-heading">Initial Technical Task Breakdown</h3>



<p>To create a list of deliverable tasks, I first start with a high-level overview of what we want to do. The goal for the developer at this stage is to come up with a list of concise sentences that cover all required work. We&#8217;ll expand them later, but the intent of this is to be able to frame each piece of work just enough to be able to talk about it.</p>



<ul style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--30);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--30)" class="wp-block-list is-style-default has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-026a02c7c1d48aaf0e89275234926226">
<li>Create database tables.</li>



<li>Create page to list templates.</li>



<li>Create form to create new template.</li>



<li>Set up production server and deployment process.</li>
</ul>



<p>After discussing this list with a senior or staff engineer, an engineering manager, or other technical stakeholders, and comparing these tasks to the supporting documentation, we should be confident we have a good initial breakdown of the work.</p>



<p>This is the point where you can create a high-level estimation of the work if needed, to help inform the product team of if this work may or may not be viable for their timeline.</p>



<p>Once everyone is in agreement on this initial plan, and have had time to check that the work makes sense for the desired timeline, the next step is to detail out the technical work and expectations for each task.</p>



<h3 class="wp-block-heading">Detailing The Tasks</h3>



<p>By the end of this process, the developers should have a clear understanding of each task, the work involved, and the requirements to complete it. We&#8217;re going to use <a href="https://extremeuncertainty.com/agile-story-vs-task-how-to-use-them/" target="_blank" rel="noreferrer noopener">Agile cards</a> to describe the work.</p>



<div class="wp-block-group has-base-color has-text-color has-background has-link-color has-small-font-size wp-elements-88f25e3d388c7121cd987e7e78b2d91e has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="border-radius:20px;background-color:#effbff;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-large-font-size"><strong>What Are Agile Cards?</strong></p>



<p>Agile is a development methodology designed to help plan and deliver projects. It focuses on small, deliverable pieces of work, allowing us to incrementally progress to our goal while having the flexibility to adjust as needed.</p>



<p>Each card should outline a specific piece of work that needs to be completed, and the criteria for its completion.</p>



<p>Here you can find an example card:</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-60d4df42dcf5c269dac27b2ecfefcc13 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="border-width:2px;border-radius:10px;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow" style="flex-basis:30%">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-4bf8fa03559180f6a65d7015bc498d5b" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Title</h4>



<p>A short descriptive title for the task. The title should be clear enough for all stakeholders to get a quick idea of the work the card will address.</p>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-208c9d0f6b2264867b69c2622d7d9968" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Type</h4>



<p>There are a few different types of cards that people usually use, depending on the business. These are the most common:</p>



<ul class="wp-block-list">
<li><strong>Story</strong><br>A &#8220;why and what&#8221; card, these are closer to the stories a product team will produce, and capture work that delivers specific user value. In Scrum, these are assigned points.</li>



<li><strong>Task</strong><br>A &#8220;how&#8221; type of card, these usually address more technical implementation details. While the work doesn&#8217;t usually deliver direct user value, they are still essential. In Scrum, these are assigned points.</li>



<li><strong>Bug</strong><br>These cards address bugs that were discovered during testing, or resulted from previous work. In Scrum, these cards aren&#8217;t usually assigned points if they came from recently completed stories or tasks.</li>



<li><strong>Spike</strong><br>This type of card is used when we know how long we want to spend on a task, but not how much work it is. They&#8217;re usually used for research tasks, or other open-ended work. In Scrum, these cards are not assigned points, as their nature is work bounded by time, not goals.</li>
</ul>
</div>
</div>



<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-c2d2f57ca0c39c3684d432537b97ceee" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Description</h4>



<p>This is a short description of the work to be done. The intent of this section is to give a quick view of what&#8217;s needed, without getting too in the weeds. Any details should be outlined in a Details section, below the Acceptance Criteria.</p>



<p>For a story card, the first sentence should follow the format: &#8220;As a &lt;user type&gt;, I want &lt;the specific feature or functionality&gt;, so that &lt;a goal this story should satisfy for the user&gt;&#8221;.</p>



<p>For the other types, this is more freeform, and should aim to capture the work however it makes sense to explain it. </p>



<p><strong>Acceptance Criteria</strong></p>



<p>This section is a bullet point list of criteria that must be met to consider this card completed. The criteria should be specific enough to satisfy all stakeholders, without being overly prescriptive of the implementation, unless it&#8217;s a strict requirement. Avoid repeating specific details documented in other places.</p>



<p>Good criteria:</p>



<ul class="wp-block-list">
<li>The database tables from the defined data model exist.</li>



<li>The models required to access these tables exist and are working.</li>
</ul>



<p>Potentially bad criteria:</p>



<ul class="wp-block-list">
<li>The database tables must be written in SQL, and all fields must have detailed comments.</li>



<li>All fields must be defined by foreign keys if they relate to other tables.</li>
</ul>



<p><strong>Details</strong></p>



<p>This section is optional, but if added, should include any specific details to assist with implementation. It may include links to other documentation, or detailed descriptions of technical elements.</p>
</div>



<p>If you want to dive deeper, you can start here: <a href="https://qualitybits.tech/writing/work-items" target="_blank" rel="noreferrer noopener nofollow">Work items: spike, user story, task, and <img src="https://s.w.org/images/core/emoji/17.0.2/72x72/1f41e.png" alt="🐞" class="wp-smiley" style="height: 1em; max-height: 1em;" /></a></p>
</div>



<p>Now, let&#8217;s start making some cards!</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-3781e9cdae1b1f4f4ab4c8958ee65800 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-contrast-color has-accent-3-background-color has-text-color has-background has-link-color wp-elements-cd0484a5e3638d1878cf19857bf956b2" style="padding-top:0;padding-right:0.3rem;padding-bottom:0;padding-left:0.3rem"><strong>Card</strong>: US1-C1</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-4bf8fa03559180f6a65d7015bc498d5b" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Title</h4>



<p>Create database tables</p>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-208c9d0f6b2264867b69c2622d7d9968" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Type</h4>



<p>Task</p>
</div>
</div>



<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-c2d2f57ca0c39c3684d432537b97ceee" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Description</h4>



<p class="has-medium-font-size">Create the database tables required to support creating a template and store their fields.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>The database tables from the defined data model exist.</li>



<li>The models required to access these tables exist and are working.</li>
</ul>



<p><strong>Details</strong></p>



<p>See the tables documented in <a href="https://bendauphinee.com/writing/building-tailgunner/project-plan/technical-design/#table_templates" data-type="page" data-id="552">the technical plan</a>.</p>
</div>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-95f6958ffcabc8cc60f61655bf8163b1 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-contrast-color has-accent-3-background-color has-text-color has-background has-link-color wp-elements-83bbfd4638157ea6a53a4ed354de16ed" style="padding-top:0;padding-right:0.3rem;padding-bottom:0;padding-left:0.3rem"><strong>Card</strong>: US1-C2</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-4bf8fa03559180f6a65d7015bc498d5b" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Title</h4>



<p>Create template list page</p>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-208c9d0f6b2264867b69c2622d7d9968" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Type</h4>



<p>Story</p>
</div>
</div>



<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-c2d2f57ca0c39c3684d432537b97ceee" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Description</h4>



<p class="has-medium-font-size">As a business owner, I want a page that will list all templates I own, so that I can manage and work with them.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>A tool exists to list all templates the business owner is allowed to see.</li>
</ul>



<p><strong>Details</strong></p>



<ul class="wp-block-list">
<li>Create a page to list the templates: <a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-scaled.jpeg" target="_blank" rel="noreferrer noopener" data-rel="lightbox-gallery-tMBwemaJ" data-rl_title="" data-rl_caption="" title="">Mockup</a></li>
</ul>
</div>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-781664196e2006396d26241bf57c8255 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-contrast-color has-accent-3-background-color has-text-color has-background has-link-color wp-elements-f26b1101c9421ad49f3b31ecf5418c10" style="padding-top:0;padding-right:0.3rem;padding-bottom:0;padding-left:0.3rem"><strong>Card</strong>: US1-C3</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-4bf8fa03559180f6a65d7015bc498d5b" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Title</h4>



<p>Create tool to add new template</p>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-208c9d0f6b2264867b69c2622d7d9968" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Type</h4>



<p>Story</p>
</div>
</div>



<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-c2d2f57ca0c39c3684d432537b97ceee" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Description</h4>



<p class="has-medium-font-size">As a business owner, I want a way to add a new template, so that I can create a new data set.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>There is a way from the template list page to open the template add tool.</li>



<li>The business owner is able to create new templates that they own.</li>



<li>New templates show up in the template list.</li>
</ul>



<p><strong>Details</strong></p>



<p>See the system diagram for <a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-System-Diagram-2024-12.png" target="_blank" rel="noreferrer noopener" data-rel="lightbox-gallery-tMBwemaJ" data-rl_title="" data-rl_caption="" title="">creating a new template</a>.</p>
</div>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-c658e245c3e64647409f8f8a614653ff has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-contrast-color has-accent-3-background-color has-text-color has-background has-link-color wp-elements-b0a9e98e2beebf2c46a31bc2d1dee722" style="padding-top:0;padding-right:0.3rem;padding-bottom:0;padding-left:0.3rem"><strong>Card</strong>: US1-C4</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-4bf8fa03559180f6a65d7015bc498d5b" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Title</h4>



<p>Set up production server and deployment</p>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-208c9d0f6b2264867b69c2622d7d9968" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Type</h4>



<p>Task</p>
</div>
</div>



<h4 class="wp-block-heading has-base-color has-text-color has-background has-link-color wp-elements-c2d2f57ca0c39c3684d432537b97ceee" style="background-color:#dddddd;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">Description</h4>



<p class="has-medium-font-size">Create a production webserver, and implement a deployment workflow to get our code into production.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>A server exists for <code>tailgunner.app</code>, running the latest main branch code.</li>



<li>New merges to main are deployed to the production server.</li>
</ul>
</div>



<p>Talking about acceptance criteria again, I want to highlight two examples from the cards above.</p>



<div class="wp-block-group has-base-background-color has-background has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<h4 class="wp-block-heading">There is a way from the template list page to open the template add tool.</h4>



<p>This criteria was originally worded &#8220;There is a button on the template list page to add a new template&#8221;, but in reviewing it, the wording was overly specific, as it dictated the UI within the criteria. This removed some flexibility, and if the designer or developer later wanted to change that button to a link, this card would also have had to be updated.</p>
</div>



<div class="wp-block-group has-base-background-color has-background has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<h4 class="wp-block-heading">New merges to main are deployed to the production server.</h4>



<p>Notice that I didn&#8217;t specify whether there should be an automated or manual process for deployment. This allows us some flexibility in the process we pick, because automation isn&#8217;t the focus of this card. While I&#8217;ll likely create a manual deployment, this acceptance criteria allows me to choose based on my timeline and workload.</p>
</div>



<h2 class="wp-block-heading">Estimation</h2>



<p>Now that I have some cards developed, it&#8217;s time for estimation. Whether this is a required part of the process depends on the project, team, and general scheduling. The amount of detail for this estimation is also variable. This process is a whole topic of its own, but I&#8217;ll give you a brief overview.</p>



<p>In a project involving other teams, where you&#8217;re deploying an end user feature, or there are multiple business stakeholders, you might have to estimate every card to a high degree of confidence and provide a specific delivery date for the project plan. In other cases, you may only need to t-shirt size the effort, so that you have a rough idea of the effort and can ballpark a number of weeks or months to delivery.</p>



<h3 class="wp-block-heading">Estimation Methods</h3>



<p>There are a few main methods of estimation, providing different levels of confidence. Regardless of how you estimate, always leave yourself a buffer. The amount of buffer is a bit of an art and will vary between teams, but the overall goal remains the same: <strong>reduce the uncertainty to a manageable level.</strong></p>



<p>The two techniques generally used are:</p>



<ul class="wp-block-list">
<li><strong>T-Shirt Sizing</strong> &#8211; Small, Medium, Large, XL<br>This technique is a quick way to compare tasks and get a general feel of the effort involved. This can get you to an estimate of weeks to months.</li>



<li><strong>Fibonacci Sequence</strong> &#8211; 1, 3, 5, 8, 13, etc.<br>Anything above a 5 indicates a high level of uncertainty generally, and tells you that you should break it down into smaller tasks if you can. This method can get you to a highly accurate estimate when used correctly.</li>
</ul>



<h3 class="wp-block-heading">Team Involvement</h3>



<p>I&#8217;ve had the best success in producing accurate estimates by making sure the entire team is involved in estimating any cards that needed a high level of confidence, using the <a href="https://www.mountaingoatsoftware.com/agile/planning-poker">Planning Poker</a> method.</p>



<p>Involving the whole team, even if they&#8217;re not going to be working on that specific project, makes sure each card is well understood. When people don&#8217;t pick the same scoring for a card, we very quickly discover assumptions and misunderstandings about the scope of work. Reaching consensus among a whole team means we have a solid understanding of the work, and again reduces our uncertainty.</p>



<p>Ultimately, this process is about reducing uncertainty. We can&#8217;t get perfect estimates, but we can strive to understand the work well enough to deliver reliable ones.</p>



<h3 class="wp-block-heading">Making Our Estimates</h3>



<p>Using the cards above, I&#8217;ve done some t-shirt sizing. Given that I&#8217;m working solo with no deadline, this is the level of complexity I need for this project.</p>



<figure class="wp-block-table"><table><thead><tr><th>Card</th><th>Estimate</th></tr></thead><tbody><tr><td>US1-C1: Create database tables</td><td>Small</td></tr><tr><td>US1-C2: Create template list page</td><td>Large</td></tr><tr><td>US1-C3: Create tool to add new template</td><td>Large</td></tr><tr><td>US1-C4: Set up production server and deployment</td><td>Medium</td></tr></tbody></table></figure>



<h2 class="wp-block-heading">Prioritization</h2>



<p>Since this is a low complexity phase of the project, the prioritization is fairly straightforward. However, it&#8217;s not always the case. There are multiple ways to prioritize, and which you use depends on the project needs. I&#8217;ll give you some examples of how I&#8217;ve prioritized work:</p>



<div class="wp-block-group has-base-background-color has-background has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<h4 class="wp-block-heading">Project A &#8211; Tackle the most complex work first</h4>



<p>This project was a technical upgrade for all the database servers in an organization. There was a defined hard deadline, after which we would start incurring higher costs until we completed the project. After detailing the work, <strong>we chose to tackle the most complex work first</strong>, starting with the most used database table.</p>



<p>This ensured that we&#8217;d get the hardest part done early, de-risking the rest of the timeline, and providing us with valuable learnings to apply to the rest of the upgrades.</p>
</div>



<div class="wp-block-group has-base-background-color has-background has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<h4 class="wp-block-heading">Project B &#8211; Unblock other teams</h4>



<p>In this project, we were working on a complex user-facing feature to schedule a new automation related to their projects. The key factor here was to ensure a stable feature, in collaboration with multiple frontend teams. Once we had completed estimation, <strong>we prioritized the functionality that would unblock the frontend teams the fastest</strong>, allowing them to move from mock API endpoints to functional production endpoints early in their project.</p>



<p>This choice enabled them to release components of the new functionality (behind feature flags) earlier in their development workflow, which partially unblocked QA, allowing us to then get early feedback on the new APIs.</p>
</div>



<div class="wp-block-group has-base-background-color has-background has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<h4 class="wp-block-heading">Project C &#8211; Build confidence</h4>



<p>The project involved building a new greenfield system to track and audit internal financials sourced from multiple systems. This was a long project, so we chose to prioritize the smallest data feed, <strong>because it allowed us to build confidence in the design rapidly</strong>, while not having a large impact if we had made the wrong decision.</p>
</div>



<p>As you can see from the examples, there are many ways to prioritize the work, and they don&#8217;t have to be mutually exclusive either. You can always re-prioritize work through the project, and depending on your methodology, you may even do this every few weeks. The key point is to have a clear and stable view of your goals for at least a week or two at a time.</p>



<h2 class="wp-block-heading">Tools</h2>



<p>I&#8217;m only briefly going to touch on this, because there are dozens of tools to manage a project. By this point, you&#8217;ll want to have:</p>



<ul class="wp-block-list">
<li>A <strong>Kanban board</strong> to track and visualize tasks.<br>Suggestions: <a href="https://trello.com/" target="_blank" rel="noreferrer noopener nofollow">Trello</a>, <a href="https://www.atlassian.com/software/jira" target="_blank" rel="noreferrer noopener nofollow">Jira</a>, <a href="https://docs.github.com/en/issues/planning-and-tracking-with-projects/learning-about-projects/about-projects" target="_blank" rel="noreferrer noopener nofollow">Github Projects</a>, <a href="https://github.com/mgmeyers/obsidian-kanban" target="_blank" rel="noreferrer noopener nofollow">Obsidian Kanban plugin</a>, or even a spreadsheet.</li>



<li>A <strong>documentation system</strong> to track the details and supporting documentation such as designs, workflows, interfaces, and other artifacts.<br>Suggestions: <a href="https://www.atlassian.com/software/confluence" target="_blank" rel="noreferrer noopener nofollow">Confluence</a>, <a href="https://obsidian.md/">Obsidian</a>, <a href="https://drive.google.com/" target="_blank" rel="noreferrer noopener nofollow">Google Drive</a> folder</li>



<li><strong>Time tracking</strong> (optional): If used, it can provide a rough benchmark of task durations, and might partially help your estimation process.</li>
</ul>



<h2 class="wp-block-heading">Potential Challenges</h2>



<h3 class="wp-block-heading">Scope Creep</h3>



<p>Scope creep is one of the the most impactful challenges a project can face.</p>



<div class="wp-block-group has-base-color has-text-color has-background has-link-color has-small-font-size wp-elements-0c872cb3206937bbac99b6b625f6012c has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="border-radius:20px;background-color:#effbff;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-large-font-size"><strong>What Is Scope Creep?</strong></p>



<p>Scope creep occurs when new additions to a projects goals, deliverables, or requirements appear, but without matching adjustments to the projects timeline, budget, or resources. It often sneaks up on a project through ad-hoc requests, poorly defined scope, miscommunications, or shifting business priorities.</p>



<h4 class="wp-block-heading has-base-color has-text-color has-link-color wp-elements-05a0d407b529da3299ba7099daac7b76">Examples</h4>



<ul class="wp-block-list">
<li>&#8220;Can you add a button to delete the template right from the new template created dialog?&#8221;</li>



<li>&#8220;I found this bug in X while I was testing Y. Can you fix it please?&#8221;</li>



<li>&#8220;It would be nice if the create dialog displayed sparkles when you clicked Create.&#8221;</li>



<li>&#8220;We need the Create workflow to send the user directly to the edit page for the template, didn&#8217;t I mention that when we talked about it a month ago?&#8221;</li>



<li>&#8220;The stakeholder decided the user should be required to add a template field as part of the create workflow. Can you update the dialog to show that?&#8221;</li>



<li>&#8220;I need a report on how many business owners we have, the last time they visited, and three other fields.&#8221;</li>
</ul>



<p>Every project is a negotiation, including for adjustments to the work. However, unchecked scope creep is to be pushed back on at every opportunity. The key to a successful delivery is that these requests become formal adjustments to the project, with corresponding changes to the delivery scope or timeline.</p>



<p>My guidance for managing workload and scope creep has always been: &#8220;if a request takes more than 20 minutes, send them to talk with me, or put it in a formal request. If you get more than one or two a week, send them to talk with me.&#8221;</p>
</div>



<p>The biggest impact of scope creep is that the project gets delayed, or misses a critical deadline. However, there are other potential impacts as well, including:</p>



<ul class="wp-block-list">
<li>Reduced quality of deliverables, as time is diverted from other areas.</li>



<li>Diminished morale, or increased stress, because additional work without additional time will make them feel pressured to deliver.</li>
</ul>



<h3 class="wp-block-heading">Estimation Errors</h3>



<p>It&#8217;s not so bad if a task was over-estimated, but it can really disrupt the team&#8217;s week if something critical was under-estimated. As you&#8217;re working through the project, if you discover that you&#8217;re not on track to meet your estimate on a piece of work, or the overall project, it&#8217;s best to communicate early that this might be an issue.</p>



<p>By addressing the problem as soon as you recognize it, stakeholders have the chance to evaluate the impacts, and make a decision about how to handle it (usually by adjusting the timeline or cutting some scope).</p>



<h3 class="wp-block-heading">Resource Bottlenecks</h3>



<p>These bottlenecks can occur and be recognized at any point in a project. Perhaps a specific person must approve certain pull requests. There could be a team that has too many projects in their list, and won&#8217;t be able to deliver their piece of your project until a specific time. Maybe you need ongoing support from an external vendor.</p>



<p>Identifying these bottlenecks, and planning how to resolve them or mitigate their impact is essential, and should happen as soon as you recognize the issue.</p>



<h3 class="wp-block-heading">Other Challenges</h3>



<p>The three challenges above are just some of the most common problems. Some other issues include unclear responsibilities, misaligned expectations, process errors, and testing problems. Through all these challenges, there is one critical factor will help a project get to the finish line: <strong>communication</strong>.</p>



<p>When you discover a problem, you should always talk to your team, your leaders, or the stakeholders. No problem should be a quiet problem, because you need to give others the opportunity to be aware there is a problem, so they can help address it.</p>



<h2 class="wp-block-heading">Wrapping It Up</h2>



<p>Now that we&#8217;ve taken an in-depth look at development planning, I want to highlight the most important thing that this whole series is trying to teach you:</p>



<p class="has-text-align-center has-contrast-color has-accent-3-background-color has-text-color has-background has-link-color wp-elements-35bcc717eb0a4940090abe81e181b6a0" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10);font-size:clamp(1.092rem, 1.092rem + ((1vw - 0.2rem) * 1.013), 1.7rem);">Communication is the most critical factor to project success.</p>



<p>This series has focused so far on showing you a structure to help you build a shared understanding of what the project is, and how you want to approach it. However, the core lesson has been about the importance of communication.</p>



<p>Talk through your goals, designs, and what the work actually aims to accomplish. Politely disagree, debate, sketch ideas, advocate for your vision, find common points of agreement, but above all: talk about the work, how it&#8217;s going, and what it means.</p>



<p>The tools and processes I&#8217;ve shown you are just one way to do that. While they might not be the best fit for your project, the key elements are staying focused on your goal and how to get there, planning effectively, and keeping open communication with everyone else involved. With these, you can get anything done!</p>



<p>As always, I&#8217;d love for you to share your thoughts in the comments below!</p>



<p>Thanks for taking the time to read this, and stay tuned for the next part: <a href="https://bendauphinee.com/writing/2025/01/07/an-app-from-scratch-part-6-creating-db-tables-us1-c1/" data-type="post" data-id="614">building the card US1-C1 Create database tables</a>.</p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2025/01/02/an-app-from-scratch-part-5-development-planning/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>An App From Scratch: Part 4 – System Design</title>
		<link>https://bendauphinee.com/writing/2024/12/30/designing-an-app-from-scratch-part-4-system-design/</link>
					<comments>https://bendauphinee.com/writing/2024/12/30/designing-an-app-from-scratch-part-4-system-design/#comments</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Mon, 30 Dec 2024 17:01:06 +0000</pubDate>
				<category><![CDATA[Business Development]]></category>
		<category><![CDATA[Software Engineering]]></category>
		<category><![CDATA[planning]]></category>
		<category><![CDATA[project-management]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=480</guid>

					<description><![CDATA[10 minute reading time; ~1840 words Greetings! By the time we got to the end of our last post, we had: Today, we&#8217;re going to transition into technical work and start developing our system design. This work will lay the foundation for understanding how everything fits together and translates into an actual app. If you [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">10 minute reading time; ~1840 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Greetings!</p>



<p>By the time we got to the end of our last post, we had:</p>



<ul class="wp-block-list">
<li>Developed some user stories and requirements.</li>



<li>Created wireframes for a few of the tools.</li>



<li>Detailed a workflow.</li>
</ul>



<p>Today, we&#8217;re going to transition into technical work and start developing our system design. This work will lay the foundation for understanding how everything fits together and translates into an actual app.</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">System Design</h2>



<p>If this project has been well-run, there&#8217;s already been a technical consultant (a developer, staff engineer, or technical engineering manager) involved in some of the previous planning work. Now, this is where the project planning becomes the responsibility of the developer(s) assigned to lead the project implementation. The development team will take the information they&#8217;ve been given and move into system design. </p>



<p class="has-base-color has-text-color has-background has-link-color has-medium-font-size wp-elements-be3725dda031217128b29c3e5b50b22a" style="border-radius:20px;background-color:#effbff;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)"><em><strong>System design</strong>: the process of defining the structure, components, and interactions needed for the app to be able to fulfill the requirements we&#8217;ve been putting together.</em></p>



<p>In the case of our project, even though we haven&#8217;t completely defined all the details for all of our user stories, that&#8217;s not required, as it&#8217;s an iterative process and the design will evolve as details become finalized.</p>



<p>We&#8217;re going to talk about overall architecture, and then dive into a few components:</p>



<ul class="wp-block-list">
<li>Database designs</li>



<li>API endpoints</li>



<li>Data flows</li>



<li>Error handling</li>
</ul>



<p>Let&#8217;s get started!</p>



<h3 class="wp-block-heading">Overall Architecture</h3>



<p>There are a few different choices we could make about the architecture to support these tools.</p>



<h4 class="wp-block-heading">To Monolith Or Microservice</h4>



<p>The first choice we have to make is if we want a monolith or microservice architecture. Knowing your constraints early can help with this kind of decision-making. Since I&#8217;m working as a solo developer and don&#8217;t expect this app to be a high-traffic service, I&#8217;m going to build a monolithic service.</p>



<p>Remember, whichever choice you make, you&#8217;re not locked in forever, and you can always change as the needs of the service evolve, so there&#8217;s no need to make the perfect decision from step one.</p>



<p>One of the biggest advantages to a monolith is that it&#8217;s a lot simpler to develop, build, deploy, and manage. However, if I expected to have to service a high volume of users, needed to scale different parts of the system at different rates, or had multiple teams working on the project, some or all of the tool might be better suited to the microservice pattern instead.</p>



<p>Now with that decision made, we can talk about the next design piece: data.</p>



<h4 class="wp-block-heading">Tech Stack</h4>



<p>We&#8217;re going to make some easy decisions here. My main goal with this project is to refresh myself on some specific technologies, so we&#8217;re going to use:</p>



<ul class="wp-block-list">
<li><strong>Backend</strong>: <a href="https://laravel.com/" target="_blank" rel="noreferrer noopener nofollow">Laravel</a> (a PHP framework)<br>This framework is one of the most popular for PHP, and will easily support long-term growth. With the starter kit, I get a lot of functionality out of the box, including login and user pages, API support, and even niceties like dark mode.</li>



<li><strong>Frontend</strong>: <a href="https://vuejs.org/" target="_blank" rel="noreferrer noopener nofollow">Vue.js</a> / <a href="https://inertiajs.com/" target="_blank" rel="noreferrer noopener nofollow">Inertia</a><br>Installed as part of Laravel, this stack gives us the ability to easily create single-page apps, and with the starter kit, it comes baked into Laravel, saving me time.</li>



<li><strong>Database</strong>: MySQL<br>One of the most used database servers, I&#8217;ve worked with this for years, it scales well when needed, and easily integrates with Laravel.</li>



<li><strong>API</strong>: REST<br>One of the most common API protocols, and also the most simple to work with, it&#8217;s the best choice for a project of this scale.</li>



<li><strong>Other tools</strong>: Redis for caching<br>Redis is a flexible cache technology, and Laravel uses it by default. This will give us the tooling needed to make our app faster if we find bottlenecks in data access.</li>
</ul>



<p>Since this is a solo project, with no need for a complex infrastructure, these choices let me hit the ground running, and also leave room for future expansion.</p>



<h2 class="wp-block-heading">Database Designs</h2>



<p>Having a look at our <a href="https://bendauphinee.com/writing/building-tailgunner/project-plan/" data-type="page" data-id="316">project plan</a> again, the tool we&#8217;ve detailed is to manage templates for data input, which leads to defining how the template structure and metadata will be saved.</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow" style="flex-basis:50%">
<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-65c7b38ed68770cb5e948544f1a9dcd1 is-layout-flow wp-block-group-is-layout-flow" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p><strong>Table: templates</strong></p>



<figure class="wp-block-table"><table><thead><tr><th>Field Name</th><th>Field Type</th></tr></thead><tbody><tr><td>id</td><td>Primary Key</td></tr><tr><td>user_id</td><td>Foreign Key, Index</td></tr><tr><td>title</td><td>String</td></tr><tr><td>description</td><td>Text, Nullable</td></tr><tr><td>created_at</td><td>Timestamp</td></tr><tr><td>updated_at</td><td>Timestamp</td></tr><tr><td>deleted_at</td><td>Timestamp</td></tr></tbody></table></figure>
</div>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow" style="flex-basis:50%">
<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-676e0f4244e5719c3fd89246ffe91357 is-layout-flow wp-block-group-is-layout-flow" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p><strong>Table: template_fields</strong></p>



<figure class="wp-block-table"><table><thead><tr><th>Field Name</th><th>Field Type</th></tr></thead><tbody><tr><td>id</td><td>Primary Key</td></tr><tr><td>template_id</td><td>Foreign Key, Index</td></tr><tr><td>label</td><td>String</td></tr><tr><td>name</td><td>String</td></tr><tr><td>type</td><td>String</td></tr><tr><td>order</td><td>Integer</td></tr><tr><td>extended_options</td><td>Text, Nullable</td></tr><tr><td>created_at</td><td>Timestamp</td></tr><tr><td>updated_at</td><td>Timestamp</td></tr><tr><td>deleted_at</td><td>Timestamp</td></tr></tbody></table></figure>
</div>
</div>
</div>



<p>When creating a new template, a record will get created in the <strong>templates</strong> table. As we edit the template fields, we&#8217;ll be updating the records in the <strong>template_fields</strong> table, including the special data field <strong>extended_options</strong> (where we can store details on exactly how the field works, like the options in a dropdown).</p>



<p>You can also see here that we&#8217;re recording the user_id on the template, so we know who owns the template, and for each of the template fields, we&#8217;re storing the template_id they belong to.</p>



<p>These two tables address all the needs from <a href="https://bendauphinee.com/writing/building-tailgunner/project-plan/#us1">US1</a>, as well as enabling soft-deletes for both templates and fields in them (which will allow us to undo deletes if needed).</p>



<h2 class="wp-block-heading">API Overview</h2>



<p>Now that we know what our database is going to look like, it&#8217;s time to figure out what API endpoints we&#8217;re going to need to support the project.</p>



<p>NOTE: Because we&#8217;re using Inertia, we don&#8217;t actually need API endpoints, but we&#8217;re going to pretend that we do for the purposes of this post. You&#8217;d need to do this if you had a mobile app, or were using something like React.</p>



<p>Based on the workflows <a href="https://bendauphinee.com/writing/2024/12/27/designing-an-app-from-scratch-part-3-workflows/" data-type="post" data-id="277" target="_blank" rel="noreferrer noopener">that we broke out in the last post</a>, our API will need to support the following:</p>



<ul class="wp-block-list">
<li>Create a template</li>



<li>Get template (metadata and fields)</li>



<li>Update a template (metadata and fields)</li>



<li>Delete a template</li>



<li>Clone a template</li>
</ul>



<p>From this list of actions, it&#8217;s easy already to map out what API endpoints we&#8217;re going to need to support the workflows (bonus, some of these endpoints will also support other workflows).</p>



<p>We&#8217;re going to make an assumption that we&#8217;re only going to save the changes when the user actually clicks save. If this weren&#8217;t the case, we might also need additional endpoints to support saving as the user makes changes:</p>



<ul class="wp-block-list">
<li>Get template metadata</li>



<li>Update a template metadata</li>



<li>Get template fields</li>



<li>Create template field</li>



<li>Update template field</li>



<li>Delete template field</li>
</ul>



<p>Now that we have a list of actions we need to support, let&#8217;s map those into the REST verbs and a list of actual endpoint URLs.</p>



<div class="wp-block-group has-base-color has-text-color has-background has-link-color has-small-font-size wp-elements-38d28a7320d28a1005e53917b2f83230 has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="border-radius:20px;background-color:#effbff;padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p class="has-large-font-size"><strong>What&#8217;s REST And A REST Verb?</strong></p>



<p><strong>REST</strong> (<strong>Re</strong>presentational <strong>S</strong>tate <strong>T</strong>ransfer) is a software architectural style designed to guide the development of web interfaces. It gives developers a standard way to think about API design, and makes it easier for services to interconnect over the Internet.</p>



<p>As an example of how your computer already works today, when your web browser requests a page, it&#8217;s using a GET action, and when the server responds, it&#8217;s passing a chunk of (usually) text or image data, along with a status code of 200 (Success). The other one you might be familiar with is a 404 (Not Found), but there are roughly 60 status codes to help your browser understand the status of the response.</p>



<p>Some <strong>common HTTP codes</strong> used in REST are:</p>



<div class="wp-block-columns is-layout-flex wp-container-core-columns-is-layout-28f84493 wp-block-columns-is-layout-flex">
<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<p><strong>Request Successful</strong></p>



<ul class="wp-block-list">
<li>200: Success</li>



<li>201: Created</li>



<li>204: No Response Data</li>
</ul>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<p><strong>Client Error</strong></p>



<ul class="wp-block-list">
<li>400: Bad Request</li>



<li>401: Unauthorized</li>



<li>403: Forbidden</li>



<li>404: Not Found</li>



<li>409: Conflict</li>
</ul>
</div>



<div class="wp-block-column is-layout-flow wp-block-column-is-layout-flow">
<p><strong>Server Error</strong></p>



<ul class="wp-block-list">
<li>500: Internal Server Error</li>



<li>503: Service Unavailable</li>
</ul>
</div>
</div>



<p>There are <strong>5 REST verbs</strong> that are most commonly used, and they&#8217;re defined by actions already available in the specifications for HTTP (the protocol that defines how your computer talks to a web server). They also respond with common HTTP status codes, making this kind of API very easy to understand from a technical perspective.</p>



<figure class="wp-block-table"><table><thead><tr><th>Verb</th><th>Action</th><th>Success</th><th>Failure</th></tr></thead><tbody><tr><td>GET</td><td>Gets some data from the server. This might be single record, or a list of them.</td><td>200</td><td>404</td></tr><tr><td>POST</td><td>Create a new record, or multiple records.</td><td>201</td><td>404, 409</td></tr><tr><td>PUT</td><td>Replace a specific record (full update).</td><td>200, 204</td><td>404</td></tr><tr><td>PATCH</td><td>Update a record (partial update).</td><td>200, 204</td><td>404</td></tr><tr><td>DELETE</td><td>Deletes a record.</td><td>200</td><td>404</td></tr></tbody></table></figure>



<p>If you want to dive deeper, you can start here: <a href="https://blog.postman.com/rest-api-examples/">What Is a REST API? Examples, Uses, and Challenges</a></p>
</div>



<h4 class="wp-block-heading">API Design</h4>



<p>There are a couple of ways you can do <a href="https://semver.org/">versioning</a>: URL, query parameter, or custom header. The simplest one is via the URL, which you&#8217;ve likely seen before (<code>/api/v1/</code>, <code>/api/v2/</code>, etc), and that&#8217;s what we&#8217;re going to use as the basis for our API.</p>



<p>With that in mind, let&#8217;s create some API endpoints! First, here are the actions, and how they line up to an API design.</p>



<figure class="wp-block-table"><table><thead><tr><th>Action</th><th>API URL</th><th>Verb</th></tr></thead><tbody><tr><td>Create a template</td><td><code>/api/v1/template</code></td><td>POST</td></tr><tr><td>Get template (metadata and fields)</td><td><code>/api/v1/template</code>/{id}</td><td>GET</td></tr><tr><td>Update a template (metadata and fields)</td><td><code>/api/v1/<code>template</code></code>/{id}</td><td>PUT</td></tr><tr><td>Delete a template</td><td><code>/api/v1/<code>template</code></code>/{id}</td><td>DELETE</td></tr><tr><td>Clone a template</td><td><code>/api/v1/<code>template</code></code></td><td>POST</td></tr></tbody></table></figure>



<p>Now, let&#8217;s detail an API endpoint more, with some expected data structures.</p>



<p>NOTE: This section uses a simple JSON format for readability. If I were working on this documentation for review by a developer team, or as an artifact to be used in the development process, I&#8217;d switch to <a href="https://learn.openapis.org/">OpenAPI documentation</a>, as this would allow us to generate end-user documentation or mock API endpoints for testing.</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-33c87a82ddcab83fe58d6287284d7e33 has-global-padding is-layout-constrained wp-container-core-group-is-layout-86dba5ee wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p><strong>Action</strong>: Create a template</p>



<p><strong>URL / Verb</strong>: <code>/api/v1/template</code> : POST</p>



<p><strong>Payload</strong></p>



<div class="wp-block-kevinbatdorf-code-block-pro" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">JSON</span><span role="button" tabindex="0" data-code="{
  &quot;name&quot;: &quot;String; The name of the template&quot;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">&quot;name&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">&quot;String; The name of the template&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>



<p><strong>Response</strong></p>



<div class="wp-block-kevinbatdorf-code-block-pro" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">HTTP</span><span role="button" tabindex="0" data-code="Status: 201
Location: https://tailgunner.app/api/v1/template/{id}
Content-Type: application/json" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #569CD6">Status:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">201</span></span>
<span class="line"><span style="color: #569CD6">Location:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">https://tailgunner.app/api/v1/template/{id}</span></span>
<span class="line"><span style="color: #569CD6">Content-Type:</span><span style="color: #D4D4D4"> </span><span style="color: #CE9178">application/json</span></span></code></pre></div>



<div class="wp-block-kevinbatdorf-code-block-pro" data-code-block-pro-font-family="Code-Pro-JetBrains-Mono" style="font-size:.875rem;font-family:Code-Pro-JetBrains-Mono,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,monospace;line-height:1.25rem;--cbp-tab-width:2;tab-size:var(--cbp-tab-width, 2)"><span style="display:flex;align-items:center;padding:10px 0px 10px 16px;margin-bottom:-2px;width:100%;text-align:left;background-color:#2b2b2b;color:#c7c7c7">JSON</span><span role="button" tabindex="0" data-code="{
  &quot;id&quot;: &quot;Integer; The ID of the template we created&quot;
}" style="color:#D4D4D4;display:none" aria-label="Copy" class="code-block-pro-copy-button"><svg xmlns="http://www.w3.org/2000/svg" style="width:24px;height:24px" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path class="with-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path><path class="without-check" stroke-linecap="round" stroke-linejoin="round" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg></span><pre class="shiki dark-plus" style="background-color: #1E1E1E" tabindex="0"><code><span class="line"><span style="color: #D4D4D4">{</span></span>
<span class="line"><span style="color: #D4D4D4">  </span><span style="color: #9CDCFE">&quot;id&quot;</span><span style="color: #D4D4D4">: </span><span style="color: #CE9178">&quot;Integer; The ID of the template we created&quot;</span></span>
<span class="line"><span style="color: #D4D4D4">}</span></span></code></pre></div>
</div>



<p>Now that we&#8217;ve walked through designing an API endpoint, the next step is to understand how everything fits together. The API is the backbone of communications, and in the next section we&#8217;re going to create a diagram to connect all the pieces together, and illustrate how they interact and bring the application to life!</p>



<h2 class="wp-block-heading">Diagramming The System</h2>



<p>As they say, a picture is worth a thousand words, and in this case, a diagram can connect all the pieces so we can see the system. There are many tools that can be used for making diagrams, depending on your needs, but my personal favorite is <a href="https://www.lucidchart.com/" data-type="link" data-id="https://www.lucidchart.com/" target="_blank" rel="noreferrer noopener nofollow">Lucidchart</a>.</p>



<figure class="wp-block-image size-large"><a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-System-Diagram-2024-12.png" data-rel="lightbox-gallery-kRJPrDMf" data-rl_title="" data-rl_caption="" title=""><img loading="lazy" decoding="async" width="833" height="1024" src="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-System-Diagram-2024-12-833x1024.png" alt="" class="wp-image-515" srcset="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-System-Diagram-2024-12-833x1024.png 833w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-System-Diagram-2024-12-244x300.png 244w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-System-Diagram-2024-12-768x944.png 768w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-System-Diagram-2024-12-1250x1536.png 1250w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-System-Diagram-2024-12-1667x2048.png 1667w" sizes="auto, (max-width: 833px) 100vw, 833px" /></a></figure>



<p>As you can see, even a simple workflow like creating a new template has a lot of moving parts. By taking the time to diagram a process like this, we get a better understanding of how all the pieces fit together, and create a shared vision for the project team, to make sure they&#8217;re aligned before spending a bunch of time building.</p>



<h2 class="wp-block-heading">Wrapping It Up</h2>



<p>From this chapter in our project design, we&#8217;ve explored the basics of the system, sketching out the beginnings of both a database and API, as well as diagramming a complete (simple) workflow from one end of the system to the other. This process has helped us establish the start of our technical design, and given us a clear structure to expand out to a full plan.</p>



<p>Did I miss something in my system designs? Share your thoughts in the comments below!</p>



<p>Thanks for taking the time to read this, and stay tuned for the next part: <a href="https://bendauphinee.com/writing/2025/01/02/an-app-from-scratch-part-5-development-planning/" data-type="post" data-id="545">development planning</a>.</p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2024/12/30/designing-an-app-from-scratch-part-4-system-design/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
			</item>
		<item>
		<title>An App From Scratch: Part 3 &#8211; Workflows</title>
		<link>https://bendauphinee.com/writing/2024/12/27/designing-an-app-from-scratch-part-3-workflows/</link>
					<comments>https://bendauphinee.com/writing/2024/12/27/designing-an-app-from-scratch-part-3-workflows/#respond</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Fri, 27 Dec 2024 20:27:03 +0000</pubDate>
				<category><![CDATA[Business Development]]></category>
		<category><![CDATA[Software Engineering]]></category>
		<category><![CDATA[functional-design]]></category>
		<category><![CDATA[planning]]></category>
		<category><![CDATA[process-optimization]]></category>
		<category><![CDATA[product-development]]></category>
		<category><![CDATA[project-management]]></category>
		<category><![CDATA[workflows]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=277</guid>

					<description><![CDATA[8 minute reading time; ~1460 words Hello there! Today&#8217;s post is taking our requirements and starting to talk about workflows. If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at An App From Scratch: Part 1 – What To Build. You can also find all the related documents and code here: Building Tailgunner. [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">8 minute reading time; ~1460 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Hello there!</p>



<p>Today&#8217;s post is taking our requirements and starting to talk about workflows.</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read the previous posts, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">Workflows</h2>



<p>In our last post, we refined our user stories with the use of wireframes. Taking that one step further, we&#8217;re going to take one of our user stories and pull out all the workflows that the story is trying to get done, either explicitly or implicitly. If we wrote our requirements well, we&#8217;ve already managed to cover a lot of what we need the tool to help us do, but now it&#8217;s time to find the gaps.</p>



<h3 class="wp-block-heading">What Is A Workflow?</h3>



<p>A <strong>workflow</strong> is a series of tasks or actions that achieve a specific goal or outcome, completed by a user interacting with a system (ex: using a tool) or a system interacting with a system (ex: an API call).</p>



<p>The workflow defines how a process flows logically, outlining steps, inputs, and outputs required to complete the desired activity efficiently.</p>



<p>For example, the workflow &#8220;Take out the trash&#8221; may be defined as:</p>



<ul class="wp-block-list">
<li>Empty trash cans and tie off bags.</li>



<li>Take the bags to front door.</li>



<li>Open the front door, and take the bags outside.</li>



<li>Close the front door.</li>



<li>Take bags to curb and stack them neatly.</li>
</ul>



<h3 class="wp-block-heading">Why Write Out Workflows?</h3>



<p>Just like the previous documentation we&#8217;ve worked on, documenting workflows helps give us clarity around what to implement, hopefully giving us a better result in the end.</p>



<p>As a solo developer, this kind of planning is extremely detailed, and there is a balance to be struck in how time is spent on a project. For the purposes of this series, I&#8217;m going to document some workflows, but normally you&#8217;d only aim to do this with:</p>



<ul class="wp-block-list">
<li>complex interactions with specific needs (ex: regulatory).</li>



<li>a team that involves multiple developers or stakeholders.</li>



<li>a tool or app that is expected to be invested in over a long period of time.</li>



<li>where the tool or process interacts with external APIs.</li>
</ul>



<p>While documenting workflows can be extremely useful, not every project needs this level of detail. If you’re working on a rough prototype, a simple CRUD app, or a product with a very limited audience (or all three <img src="https://s.w.org/images/core/emoji/17.0.2/72x72/1f602.png" alt="😂" class="wp-smiley" style="height: 1em; max-height: 1em;" />), your time is likely better spent in other areas.</p>



<p>However, because we’re aiming to build a more robust tool (and to illustrate best practices in this series) we’re going to explore these workflows in depth.</p>



<h3 class="wp-block-heading">Defining Our Workflows</h3>



<p>We&#8217;re going to focus on <a href="https://bendauphinee.com/writing/building-tailgunner/project-plan-v2/#us1" data-type="page" data-id="316" target="_blank" rel="noreferrer noopener">US1</a> in this exploration, and identify the key workflows that the business owner can do:</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-fa9bfa375c94073a9f754b40c639a849 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p><strong>US1: Workflows</strong></p>



<ul class="wp-block-list">
<li><strong>Creating a template</strong><br>Defining the metadata of a new template, including title.</li>



<li><strong>Editing the template metadata</strong><br>Changing the metadata for a template.</li>



<li><strong>Editing the form fields in a template</strong><br>Adding, editing, re-ordering, and deleting the fields in the form.</li>



<li><strong>Editing the options of a form dropdown</strong><br>Adding, editing, re-ordering, and deleting the options in a dropdown.</li>



<li><strong>Saving changes to the template</strong><br>Persisting all changes to a template.</li>



<li><strong>Cloning a template</strong><br>Duplicating a template, with a new name.</li>



<li><strong>Deleting a template</strong><br>Permanently removing a form template from the system.</li>
</ul>
</div>



<p>As you can see, what appeared to be a simple story that we started with has in fact revealed a variety of workflows that the business owner will need for this story to be successful.</p>



<h2 class="wp-block-heading">Breaking Down A Workflow</h2>



<p>Now that we have a list, let&#8217;s take a workflow and give it some detail.</p>



<div class="wp-block-group has-base-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-d64ee2943796e8e762f7db134f469199 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p><strong>Workflow: Creating A Template</strong><br>Defining the metadata of a new template, including title.</p>



<p><em>Pre-Conditions</em></p>



<ul class="wp-block-list">
<li>The user must be logged in.</li>



<li>The user must be a business owner.</li>
</ul>



<p><em>Steps</em></p>



<ul class="wp-block-list">
<li>Click the button or link on the template list page to create a new template.</li>



<li>Fill in the title.</li>



<li>Click the button to save the template.
<ul class="wp-block-list">
<li>If the title is not filled out, the form should display an error message and prevent the user from proceeding until it&#8217;s resolved.</li>
</ul>
</li>
</ul>



<p><em>Outcome</em></p>



<ul class="wp-block-list">
<li>The template is created.</li>



<li>The user is sent to the list of templates, which should now include their new template.</li>



<li>A notice will be displayed above the template list.
<ul class="wp-block-list">
<li>This notice should contain the following:
<ul class="wp-block-list">
<li>A confirmation of the creation.</li>



<li>A link to the &#8220;Add Data&#8221; tool for the new template.</li>



<li>A link to the &#8220;Edit Template&#8221; tool for the new template.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>



<p>Writing out this workflow easily highlights that there are often a lot of assumptions baked into every story. For example, if I, as an engineer, received a story to build a tool for creating templates, I likely would have implemented or reached exactly this workflow. However, not every engineer approaches tasks the same way, and the outcome can vary depending on the developer&#8217;s experience, priorities, and interpretation of the story. If your requirements are highly specific, it’s always better to be explicit upfront, and save time and stress later on.</p>



<p>That said, when working with more senior engineers, you often don’t need to define requirements at this level of detail. Experienced engineers tend to have an intuitive sense of how an application should function (because we&#8217;ve built so many), and we&#8217;re more likely to iterate and refine the work as it progresses.</p>



<h3 class="wp-block-heading">Explaining The Structure</h3>



<p>This whole structure is about getting everyone aligned on how to complete the specific workflow. As you&#8217;re working through defining a workflow, you should try to avoid being either too vague or too detailed. This applies to both the actions taken, as well as the details included about user interface or experience, as the focus should be on what&#8217;s required to tell the story of how something gets done, not how it looks or feels (those things come in later stages).</p>



<h4 class="wp-block-heading">Pre-Conditions</h4>



<p>These are the things that we need to satisfy for this workflow to be started. These are generally non-negotiable, and they can usually be broken down into three groups:  user, data, and system.</p>



<h3 class="wp-block-heading">Steps</h3>



<p>These are the steps (in sequence) that are part of this workflow. Each step should be an action that the user or the system takes, and should be detailed enough to guide while still leaving some flexibility around how it&#8217;s implemented. For more complex workflows, these may be accompanied by or replaced by a diagram to make them easier to follow.</p>



<h3 class="wp-block-heading">Outcome</h3>



<p>This details what should happen as a result of this workflow being completed. These results should be observable or measurable, and detail what effect the workflow had on the user or system.</p>



<p>These outcomes are important, and will guide how the workflow is implemented, help create testing plans, and can also tie back to project or business success metrics.</p>



<h2 class="wp-block-heading">Validating Workflows</h2>



<p>Now that we&#8217;ve defined a workflow, we get to the next part of the process: ensuring they hold up to real-world use. Validating workflows involves checking whether they address the requirements effectively, are aligned with what the user needs, and that we&#8217;ve covered any important edge cases or pitfalls.</p>



<p>There are a couple different ways we can validate a workflow:</p>



<ul class="wp-block-list">
<li><strong>Review Against Requirements</strong><br>Compare the workflow to the user story and requirements, to see if we missed any key details.</li>



<li><strong>Simulate User Scenarios</strong><br>Walk through the workflow from the perspective of the end-user, looking for any gaps or inefficiencies. See if the workflow feels smooth and intuitive.</li>



<li><strong>Test For Edge Cases</strong><br>As you look at the workflow, look for things that might break it, like invalid data, missing permissions, or what happens with unexpected inputs.</li>



<li><strong>Get Feedback</strong><br>Talk with other developers, designers, end-users, or other people involved in the project to get a different perspective on how it works, and help reveal any blind spots.</li>
</ul>



<p>Taking the time to validate the workflows that you&#8217;ve come up with helps to make sure that they are not just functional, but also user-friendly and practical. On top of that, it also helps mitigate the risk of rework later in the project, and ensures you deliver something that delights the end-user!</p>



<h2 class="wp-block-heading">Wrapping It Up</h2>



<p>Drilling into just a single story and workflow shows how much depth can be involved in planning and designing a project (and explains why some projects end up with thousands of pages of documentation <img src="https://s.w.org/images/core/emoji/17.0.2/72x72/1f601.png" alt="😁" class="wp-smiley" style="height: 1em; max-height: 1em;" />).</p>



<p>Up to this point, we&#8217;ve been looking at the project from a functional design lens. In the next part, we&#8217;re going to start looking at the more technical aspects of the planning work as well, bridging the gap between product development and technical implementation.</p>



<p>Did I miss something in my workflow? Share your thoughts in the comments below!</p>



<p>Thanks for taking the time to read this, and stay tuned for the next part: <a href="https://bendauphinee.com/writing/2024/12/30/designing-an-app-from-scratch-part-4-system-design/" data-type="post" data-id="480">system design</a>.</p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2024/12/27/designing-an-app-from-scratch-part-3-workflows/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
		<item>
		<title>An App From Scratch: Part 2 &#8211; Wireframing Requirements</title>
		<link>https://bendauphinee.com/writing/2024/12/24/designing-an-app-from-scratch-part-2-wireframing-requirements/</link>
					<comments>https://bendauphinee.com/writing/2024/12/24/designing-an-app-from-scratch-part-2-wireframing-requirements/#respond</comments>
		
		<dc:creator><![CDATA[Ben Dauphinee]]></dc:creator>
		<pubDate>Tue, 24 Dec 2024 16:12:42 +0000</pubDate>
				<category><![CDATA[Business Development]]></category>
		<category><![CDATA[Software Engineering]]></category>
		<guid isPermaLink="false">https://bendauphinee.com/writing/?p=374</guid>

					<description><![CDATA[7 minute reading time; ~1325 words Welcome back! Today, we&#8217;re going to talk about wireframing from our requirements and stories, and exploring how talking through a wireframe helps us refine our specifications. Between the last post and this one, I&#8217;ve taken the requirements and user stories that we wrote about, and cleaned them up into [&#8230;]]]></description>
										<content:encoded><![CDATA[
<p class="has-small-font-size">7 minute reading time; ~1325 words</p>



<hr class="wp-block-separator has-alpha-channel-opacity is-style-wide"/>



<p>Welcome back!</p>



<p>Today, we&#8217;re going to talk about wireframing from our requirements and stories, and exploring how talking through a wireframe helps us refine our specifications. </p>



<p>Between the last post and this one, I&#8217;ve taken the requirements and user stories that we wrote about, and cleaned them up into a <a href="https://bendauphinee.com/writing/building-tailgunner/project-plan-v1/">project plan</a>. The documentation is still light, and that&#8217;s intentional, as we&#8217;re focusing on a very narrow scope of work; we want to get the basic template management and editing up and running first.</p>



<p>By the end of this post, we will have some refined wireframes and requirements, and a firm foundation for working on workflows and technical requirements!</p>



<p class="has-accent-5-background-color has-background">If you haven&#8217;t read it already, I&#8217;d suggest you start at <a href="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/" data-type="link" data-id="https://bendauphinee.com/writing/2024/12/20/designing-an-app-from-scratch-part-1-what-to-build/">An App From Scratch: Part 1 – What To Build</a>. You can also find all the related documents and code here: <a href="https://bendauphinee.com/writing/building-tailgunner/">Building Tailgunner</a>.</p>



<h2 class="wp-block-heading">Wireframes</h2>



<p>From our initial project plan, I created wireframes based on two user stories (<a href="https://bendauphinee.com/writing/building-tailgunner/project-plan-v1/#us1" data-type="page" data-id="316">US1</a>, <a href="https://bendauphinee.com/writing/building-tailgunner/project-plan-v1/#us2" data-type="page" data-id="316">US2</a>) to illustrate the requirements. These wireframes are intentionally not high-fidelity, focusing on interaction points rather than exact design details.</p>



<h3 class="wp-block-heading">Initial Designs</h3>



<p>After carefully reading both user stories, and the requirements in them, I&#8217;ve made a wireframe of both pages that cover what is needed from the requirements. Below, you can see the template list page, showing some mock information, and covering the details from our second user story.</p>



<figure class="wp-block-image size-large"><a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-scaled.jpeg" data-rel="lightbox-gallery-X9A0Cv6Y" data-rl_title="" data-rl_caption="" title=""><img loading="lazy" decoding="async" width="1024" height="392" src="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-1024x392.jpeg" alt="" class="wp-image-377" srcset="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-1024x392.jpeg 1024w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-300x115.jpeg 300w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-768x294.jpeg 768w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-1536x588.jpeg 1536w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-2048x784.jpeg 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></a></figure>



<p>You can see how the requirements translate into an actual interface, and how many unspoken requirements or ideas are included in the mockup that aren&#8217;t in the documentation itself. For example, you can see the dates aren&#8217;t absolute dates, but rather relative dates, making them easier to read and work with.</p>



<p>This is a <strong>medium-fidelity wireframe</strong> (<strong>low-fidelity</strong> is usually sketches on paper). This level of design is detailed enough to have a conversation about the stories and how they translate, but not so detailed that you&#8217;re locked into specific design choices. Later, once we have a solid agreement, and are working toward final technical requirements, the design team (or I <img src="https://s.w.org/images/core/emoji/17.0.2/72x72/1f606.png" alt="😆" class="wp-smiley" style="height: 1em; max-height: 1em;" />) will generate <strong>high-fidelity wireframes</strong>, which usually have specific color and layout choices, and are much closer to the finished product.</p>



<p>Note: the icons only have color because the design set I used had them. Overall it&#8217;s recommended to minimize color usage in a mockup like this. The idea is to figure out if we have the right elements to cover the requirements and make the tool usable, not to convey the exact design.</p>



<figure class="wp-block-image size-large"><a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing.jpeg" data-rel="lightbox-gallery-X9A0Cv6Y" data-rl_title="" data-rl_caption="" title=""><img loading="lazy" decoding="async" width="1024" height="968" src="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-1024x968.jpeg" alt="" class="wp-image-378" srcset="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-1024x968.jpeg 1024w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-300x284.jpeg 300w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-768x726.jpeg 768w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-1536x1452.jpeg 1536w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-2048x1936.jpeg 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></a></figure>



<h3 class="wp-block-heading">Breaking Down The Elements</h3>



<p>Here you can see how each story is broken down and applied to the wireframes we&#8217;ve put together. In yellow notes, you&#8217;ll see each requirement, and the wireframe elements that it matches, and in pink, you can see assumptions or mistakes we made in the designs.</p>



<p>As part of the review and discussion around the initial wireframes, these assumptions and mistakes should be addressed, and either added to the requirements, or removed from the wireframe and noted as out of scope (this way we have a record of what we have explicitly considered and chosen to exclude).</p>



<figure class="wp-block-image size-large"><a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-Explained-scaled.jpeg" data-rel="lightbox-gallery-X9A0Cv6Y" data-rl_title="" data-rl_caption="" title=""><img loading="lazy" decoding="async" width="1024" height="529" src="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-Explained-1024x529.jpeg" alt="" class="wp-image-396" srcset="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-Explained-1024x529.jpeg 1024w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-Explained-300x155.jpeg 300w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-Explained-768x397.jpeg 768w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-Explained-1536x794.jpeg 1536w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-Explained-2048x1058.jpeg 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></a></figure>



<figure class="wp-block-image size-large"><a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-Explained-scaled.jpeg" data-rel="lightbox-gallery-X9A0Cv6Y" data-rl_title="" data-rl_caption="" title=""><img loading="lazy" decoding="async" width="1024" height="732" src="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-Explained-1024x732.jpeg" alt="" class="wp-image-397" srcset="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-Explained-1024x732.jpeg 1024w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-Explained-300x214.jpeg 300w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-Explained-768x549.jpeg 768w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-Explained-1536x1098.jpeg 1536w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-Explained-2048x1464.jpeg 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></a></figure>



<h3 class="wp-block-heading">Revised Requirements</h3>



<p>Now that we&#8217;ve reviewed our requirements in context of an actual wireframe, and highlighted the talking points, it&#8217;s time to revise our requirements to better align with stakeholder expectations.</p>



<div class="wp-block-group has-base-2-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-dfc1a4bd4d175da9b92425082dc1a9be has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p id="us1"><strong>US1 &#8211; User Story</strong></p>



<p>As a business owner, I want to create a custom form template based on my needs so that I can capture specific data unique to my workflow.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>Business owners can define fields and field types (e.g., text, number, dropdown).</li>



<li>Templates can be saved and reused.</li>
</ul>



<p><strong>Requirements</strong></p>



<ul class="wp-block-list">
<li><strong>Template Management</strong>
<ul class="wp-block-list">
<li>The system shall provide an interface for business owners to create custom form templates. Each template will represent a type of data we can manage. The system shall allow business owners to:
<ul class="wp-block-list">
<li>Name each template.</li>



<li>View a list of saved templates.</li>



<li>Edit or delete saved templates.</li>



<li>Clone template to a new one. This will copy all field definitions as well.</li>
</ul>
</li>
</ul>
</li>



<li><strong>Template Editing</strong>
<ul class="wp-block-list">
<li><mark style="background-color:#9ce1ff" class="has-inline-color">Business owners shall be able to change the name or description within the edit interface.</mark></li>



<li>Business owners shall be able to add, edit, and delete fields within the template.</li>



<li>The system shall allow business owners to:
<ul class="wp-block-list">
<li>Define field labels (what the form shows).</li>



<li>Define field names (what the data is saved as).</li>



<li>Specify field types (e.g., text, number, dropdown). Field types shall include at least:
<ul class="wp-block-list">
<li>Text</li>



<li>Number</li>



<li>Dropdown
<ul class="wp-block-list">
<li><mark style="background-color:#9ce1ff" class="has-inline-color">Add, edit, reorder, and delete options for the dropdown</mark></li>
</ul>
</li>



<li>Date</li>



<li>Checkbox</li>



<li>JSON block</li>
</ul>
</li>



<li><mark style="background-color:#9ce1ff" class="has-inline-color">Re-order the defined fields</mark></li>
</ul>
</li>



<li><mark style="background-color:#9ce1ff" class="has-inline-color">Business owners shall be able to delete or clone the template from the edit interface</mark>.</li>
</ul>
</li>
</ul>
</div>



<div class="wp-block-group has-base-2-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-463abec0a14f5f3402e9a91ad7aa78b7 has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p id="us2"><strong>US2 &#8211; User Story</strong></p>



<p>As a user, I want to use a predefined form template so that I can ensure data is entered in a consistent format.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>The user can select the form from a list of all available templates.</li>



<li>The list of templates shows when the template was created, as well as some statistics on usage.</li>
</ul>



<p><strong>Requirements</strong></p>



<ul class="wp-block-list">
<li>The system should show a list of available templates for the user to browse.
<ul class="wp-block-list">
<li>The list shall show:
<ul class="wp-block-list">
<li>Template name</li>



<li>Description</li>



<li>Date created</li>



<li>Date last used</li>



<li>Number of records entered</li>



<li>The user shall be able to select the template, and use it to enter new records.</li>



<li><mark style="background-color:#9ce1ff" class="has-inline-color">The user shall be able to select the template, to see what records have been entered.</mark></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>



<p>Now that we&#8217;re done a first pass at the wireframes, and have revised our user stories, it&#8217;s become obvious that we need to break our first story up, because it&#8217;s doing too much. Here you can see how that&#8217;s been done, splitting out pieces from the original US1 to US5. We&#8217;re keeping the original numbering, because other documents may already be referencing these stories.</p>



<div class="wp-block-group has-base-2-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-d6c83467202f15184056244f71d8c1fd has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p id="us1"><strong>US1 &#8211; User Story</strong></p>



<p>As a business owner, I want to create a custom form template based on my needs so that I can capture specific data unique to my workflow.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>Business owners can define fields and field types (e.g., text, number, dropdown).</li>



<li>Templates can be saved and reused.</li>
</ul>



<p><strong>Requirements</strong></p>



<ul class="wp-block-list">
<li>Business owners shall be able to change the name or description within the edit interface.</li>



<li>Business owners shall be able to add, edit, and delete fields within the template.</li>



<li>The system shall allow business owners to:
<ul class="wp-block-list">
<li>Define field labels (what the form shows).</li>



<li>Define field names (what the data is saved as).</li>



<li>Specify field types (e.g., text, number, dropdown). Field types shall include at least:
<ul class="wp-block-list">
<li>Text</li>



<li>Number</li>



<li>Dropdown
<ul class="wp-block-list">
<li>Add, edit, re-order, and delete options for the dropdown</li>
</ul>
</li>



<li>Date</li>



<li>Checkbox</li>



<li>JSON block</li>
</ul>
</li>



<li>Re-order the defined fields</li>



<li>Business owners shall be able to delete or clone the template from the edit interface</li>
</ul>
</li>
</ul>
</div>



<div class="wp-block-group has-base-2-color has-contrast-background-color has-text-color has-background has-link-color wp-elements-98ff9751887d371ce333b0703687afda has-global-padding is-layout-constrained wp-container-core-group-is-layout-9597dc02 wp-block-group-is-layout-constrained" style="padding-top:var(--wp--preset--spacing--10);padding-right:var(--wp--preset--spacing--10);padding-bottom:var(--wp--preset--spacing--10);padding-left:var(--wp--preset--spacing--10)">
<p id="us5"><strong>US5 &#8211; User Story</strong></p>



<p>As a business owner, I want to list, create, edit, and delete custom form templates based on my needs so that I can capture specific data unique to my workflow.</p>



<p><strong>Acceptance Criteria</strong></p>



<ul class="wp-block-list">
<li>Business owners can browse a list of active templates.</li>



<li>Templates can be managed via the list interface, without having to use the edit interface.</li>
</ul>



<p><strong>Requirements</strong></p>



<ul class="wp-block-list">
<li>The system shall provide an interface for business owners to create custom form templates. Each template will represent a type of data we can manage. The system shall allow business owners to:
<ul class="wp-block-list">
<li>Name each template.</li>



<li>View a list of saved templates.</li>



<li>Edit or delete saved templates.</li>



<li>Clone template to a new one. This will copy all field definitions as well.</li>
</ul>
</li>
</ul>
</div>



<p>Below are the updated wireframes, based on the updates we made to the stories above.</p>



<figure class="wp-block-gallery has-nested-images columns-default is-cropped wp-block-gallery-1 is-layout-flex wp-block-gallery-is-layout-flex">
<figure class="wp-block-image size-large"><a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-v2-Explained-scaled.jpeg" data-rel="lightbox-gallery-X9A0Cv6Y" data-rl_title="" data-rl_caption="" title=""><img loading="lazy" decoding="async" width="1024" height="526" data-id="424" src="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-v2-Explained-1024x526.jpeg" alt="" class="wp-image-424" srcset="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-v2-Explained-1024x526.jpeg 1024w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-v2-Explained-300x154.jpeg 300w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-v2-Explained-768x394.jpeg 768w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-v2-Explained-1536x788.jpeg 1536w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-List-v2-Explained-2048x1051.jpeg 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></a></figure>



<figure class="wp-block-image size-large"><a href="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-v2-Explained-scaled.jpeg" data-rel="lightbox-gallery-X9A0Cv6Y" data-rl_title="" data-rl_caption="" title=""><img loading="lazy" decoding="async" width="1024" height="542" data-id="423" src="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-v2-Explained-1024x542.jpeg" alt="" class="wp-image-423" srcset="https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-v2-Explained-1024x542.jpeg 1024w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-v2-Explained-300x159.jpeg 300w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-v2-Explained-768x406.jpeg 768w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-v2-Explained-1536x813.jpeg 1536w, https://bendauphinee.com/writing/wp-content/uploads/2024/12/Tailgunner-Template-List-Template-Editing-v2-Explained-2048x1084.jpeg 2048w" sizes="auto, (max-width: 1024px) 100vw, 1024px" /></a></figure>
</figure>



<h2 class="wp-block-heading">Wrapping It Up</h2>



<p>As you can see from the discussion around just two stories and two wireframes, there is a lot of material to explore. In this post, we worked through the refinement process, and ended up with three more fleshed out stories, and some good wireframes to guide discussions around workflow and technical requirements.</p>



<p>Did I miss something in my stories or wireframe? Share your thoughts in the comments below!</p>



<p>Thanks for taking the time to read this, and stay tuned for the next part: <a href="https://bendauphinee.com/writing/2024/12/27/designing-an-app-from-scratch-part-3-workflows/" data-type="post" data-id="277">documenting and validating workflows</a>.</p>



<p>Cheers!</p>
]]></content:encoded>
					
					<wfw:commentRss>https://bendauphinee.com/writing/2024/12/24/designing-an-app-from-scratch-part-2-wireframing-requirements/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
			</item>
	</channel>
</rss>
